var _DEBUG_=false;var _DEBUG_TRACE_=false;var _ALERT_FALLBACK_=false;var _FORCE_ALERT_=false;if(typeof console==="undefined"||typeof console.log==="undefined"){console={};if(_ALERT_FALLBACK_){console.log=function(a){alert(a)}}else{console.log=function(){}}}function log(c,b,a){if(_DEBUG_){if(_FORCE_ALERT_){alert(c);return}_DEBUG_TRACE_&&!MotoJS.tools.isIE()&&console.trace();console.log(c);b&&console.log("Line Number - "+b);a&&console.log(arguments.callee.caller.toString())}}function in_array(e,d,c){var b="",a=!!c;if(a){for(b in d){if(d[b]===e){return true}}}else{for(b in d){if(d[b]==e){return true}}}return false}function calcAbsoluteElementsHeight(d){if(d.length==0){return 0}var b=0,a,c;d.children().each(function(){c=$(this).position().top||parseInt($(this).css("top"));c=isNaN(c)?0:c;a=c+$(this).outerHeight();if(a>b){b=a}});return b}function calcAbsoluteElementsWidth(d){if(d.length==0){return 0}var b=0,c,a;d.children().each(function(){a=$(this).position().left||parseInt($(this).css("left"));a=isNaN(a)?0:a;c=a+$(this).outerWidth();if(c>b){b=c}});return b}function scaleSize(c,g,i,b,e,j){var a=g/c,d=b/i;e=!!e||false;j=!!j||false;if(e){if(a>=d&&(!j||c>i)){c=i;g=parseInt(c*a,10)}else{if(a<d&&(!j||g>b)){g=b;c=parseInt(g/a,10)}}}else{if(a>=d&&(!j||g>b)){g=b;c=parseInt(g/a,10)}else{if(a<d&&(!j||c>i)){c=i;g=parseInt(c*a,10)}}}return[c,g]}Object.size=function(c){var b=0,a;for(a in c){if(c.hasOwnProperty(a)){b++}}return b};if(!Array.prototype.indexOf){Array.prototype.indexOf=function(b,c){var a=this.length,c=Number(arguments[1])||0;c=(c<0)?Math.ceil(c):Math.floor(c);c<0&&(c+=a);for(;c<a;c++){if(c in this&&this[c]===b){return c}}return -1}}(function(b){var a=false;window.MotoJS={init:function(c){MotoJS.router.init();MotoJS.loader.init();MotoJS.content.init(c);if("onorientationchange" in window){b(window).bind("orientationchange",function(){MotoJS.events.dispatch("onOrientationChange");MotoJS.events.dispatch("onResize")})}a=true;MotoJS.events.dispatch("onInitFinished");b(window).resize(function(){MotoJS.events.dispatch("onResize")})},isAlreadyInit:function(){return a},FB:{run:function(){},init:function(){},isInit:function(){return false},activated:false}}})(jQuery);(function(a){MotoJS.ajax=(function(){var c=function(e,g){};var d=function(g,e){switch(e){case"timeout":log("Timeout is exceeded");break;case"notmodified":log("Requested resource was not modified since last request");break;case"parsererror":log("JSON response is bad");break;default:log("Http error occured - "+g.status+" : "+g.statusText);break}};var b=function(e){var i,g;i=/^([^\?]*)\??/ig;g=i.exec(e);return g?g[1]:""};return{getPage:function(i,e){var g=MotoJS.layout.getLayoutTypeId();return this.getResponse({url:i,layoutId:g},e)},getResponse:function(i,g){if(!g){throw new Error("Empty request url")}if(i.url){i.url=b(i.url)}var k=document.location.protocol+"//";var e=k+g;if(MotoJS.website.underConstruction){i.preview="true"}var j=a.get(e,i,null,"json");j.error(d);return j}}})()})(jQuery);(function(a){MotoJS.auth=(function(){var j="#mjs-loginBox",d="ajax.php";var i=function(){a(j).css("visibility","visible");a(j).show();a("#mjs-login-form div.mjs-login-form-input input").focus();MotoJS.events.dispatch("onLoginBoxShow")};var c=function(){a("#mjs-login-form-message").css("visibility","hidden");a(j).hide();MotoJS.events.dispatch("onLoginBoxHide")};var b=function(){a("#mjs-login-form-message").css("visibility","visible")};var g=function(){try{var t=a("#mjs-login-form div.mjs-login-form-input");var s=t.outerHeight();var r=a("input",t);var l=a("#mjs-login-form .mjs-content").width();var m=a("#mjs-login-form .mjs-login-form-submit a");var k=a("#mjs-login-form-close-button");if(m.height()>s){s=m.height();t.height(s-parseInt(t.css("padding-top"))-parseInt(t.css("padding-bottom"))-parseInt(t.css("border-top-width"))-parseInt(t.css("border-bottom-width")))}t.parent().height(s);a("#mjs-login-form .mjs-login-form-submit a").css({height:s+"px","line-height":s+"px",width:a("#mjs-login-form .mjs-login-form-submit a").width()+"px"});a("#mjs-login-form .mjs-login-form-submit a > p").css({"line-height":s+"px"});m.on("click",function(){a(j+" form").submit();return false});k.on("click",function(){var u=MotoJS.router.getPrevState();if(u.hasOwnProperty("page")){c();if(u.contentType=="page"){MotoJS.page.setUrl(u.page)}MotoJS.router.returnState()}else{MotoJS.content.go(MotoJS.website.startPage.url)}return false});var p=l-m.outerWidth()-t.outerWidth()-parseInt(m.css("margin-left"));r.width(p);t.css("width","auto");var n=a("#mjs-login-form-overlay");var o=n.data("opacity");o=parseInt(o);o=o/100;n.css("opacity",o)}catch(q){log("login form init fail");log(q)}};var e=function(k){if(k.length>50){return}MotoJS.ajax.getResponse({action:"login","data[password]":k,"data[username]":"11"},location.hostname+(location.port!=""?":"+location.port:"")+MotoJS.website.rootPath+d).success(function(l){if(l.status){c();MotoJS.content.go(MotoJS.router.parseUrl().page||MotoJS.website.startPage.url)}else{b()}}).error(function(m,l){})};return{showLoginBox:i,hideLoginBox:c,init:function(){if(MotoJS.website.websiteProtectionEnabled=="false"){return}var k=a(j);g();k.hide();k.find("form").on("submit",function(m){m.preventDefault();var l=k.find('input[type="password"]').val();e(l);return false})},logout:function(){MotoJS.ajax.getResponse({action:"logout"},location.hostname+(location.port!=""?":"+location.port:"")+MotoJS.website.rootPath+d)}}})()})(jQuery);(function(a){MotoJS.content=(function(){var k=false;var i={collection:[],add:function(l){typeof l=="object"&&a.isFunction(l.init)&&this.collection.push(l)},run:function(n){var o=0,l=this.collection.length;MotoJS.tools.isIE()&&MotoJS.content.fixStyleIE(n);var m=function(u){var s="",r,p,q="";try{u.init()}catch(t){r=u.parentClass==MotoJS.widgets.WidgetClass;p=u.parentClass==MotoJS.objects.ObjectClass;r&&(s="Widget")&&(q=u.name?' "'+u.name+'"':"");p&&(s="Object")&&(q=u.type?' "'+u.type+'"':"");log(s+q+" init error. "+s+" id - "+u.id+". Details - "+t.message)}};for(o;o<l;o++){m(this.collection[o])}this.collection=[]}};var j=function(m,l){try{if(!m){throw new Error("Error while parsing response object. Response.content is empty","content.js")}MotoJS.page.fill(m.page);MotoJS.website.fill(m.website);MotoJS.layout.fill(m.layout);l||i.run()}catch(n){log("Error while filling content. "+n.message,n.lineNumber)}};var g=function(){a('a[href="#"]').off("click.emptyLinks").on("click.emptyLinks",function(l){l.preventDefault()});a(".mjs-link-bindable").off("click.content").on("click.content",function(l){l.preventDefault();if(a(this).data("disabled")||!a(this).data("action")){a(this).removeData("disabled")}else{MotoJS.content.go(a(this).data("url"),a(this).data("action"))}})};var c=function(){var l;if(MotoJS.popup.getOpenedPopup()){MotoJS.popup.close();MotoJS.FB.run("closePopup");l=MotoJS.page.getUrl();l?MotoJS.router.pushState(l,{contentType:"page"}):MotoJS.content.go(MotoJS.website.startPage.url,"switchPage");MotoJS.website.setDocumentTitle(MotoJS.page.getTitle());MotoJS.events.dispatch("onClosePopup");return true}else{if(a("#mjs-popup-1").children().length>0){a("#mjs-popup-1").empty()}}return false};var b=function(m){var l;MotoJS.isAlreadyInit()&&c();j(m.content,true);if(!MotoJS.isAlreadyInit()&&MotoJS.router.redirectOnLoad(m.content.popup.url)){k=true;return}else{k=false}if(m.statusCode=="401"){MotoJS.auth.showLoginBox();return}else{MotoJS.auth.hideLoginBox()}MotoJS.popup.open(m.content.popup);MotoJS.website.setDocumentTitle(m.content.popup.title);MotoJS.FB.run("openPopup");MotoJS.events.dispatch("onContentLoaded");l=MotoJS.router.parseUrl();if(l.widget){MotoJS.widgets.callWidgetMethod(l.widget,"_exec",l.data)}g()};var e=function(l){if(l.hasOwnProperty("error")){MotoJS.page.show();MotoJS.layout.show(true);g()}};var d=function(m){var l,n="openPage";try{if(!m.content||!m.content.page){throw new Error("Error while parsing response object. Response.content is empty","content.js")}window.scrollTo(0,0);MotoJS.FB.run("scrollTo");if(!MotoJS.isAlreadyInit()&&MotoJS.router.redirectOnLoad(m.content.page.url)){k=true;j(m.content);MotoJS.events.dispatch("onResize");return}if(m.statusCode=="401"){j(m.content);MotoJS.auth.showLoginBox();return}else{MotoJS.auth.hideLoginBox()}MotoJS.popup.close();MotoJS.page.setUrl(m.content.page.url);MotoJS.page.setPageTypeId(m.content.page.pageTypeId);MotoJS.page.setTitle(m.content.page.title);MotoJS.website.setDocumentTitle(m.content.page.title);MotoJS.layout.setLayoutTypeId(m.content.page.layoutTypeId);MotoJS.page.setHeight(m.content.page.height);if(MotoJS.isAlreadyInit()){if(!k){MotoJS.animation.openQueue(n);MotoJS.page.hide({queueName:n});MotoJS.layout.hide({queueName:n})}else{k=false}MotoJS.animation.waitForAnimationComplete(n).done(function(){MotoJS.animation.closeQueue(n);MotoJS.page.empty();MotoJS.layout.empty();a.when(MotoJS.backgroundImage.getInstance().removeBackground()).then(function(){j(m.content);MotoJS.events.dispatch("onResize");MotoJS.events.dispatch("onContentLoaded");g();MotoJS.page.show();MotoJS.layout.show()})})}else{j(m.content);MotoJS.events.dispatch("onResize");MotoJS.events.dispatch("onContentLoaded");g()}l=MotoJS.router.parseUrl();if(l.widget){MotoJS.widgets.callWidgetMethod(l.widget,"_exec",l.data)}}catch(o){log("Error while opening page. "+o.message,o.lineNumber)}};return{SITE_ROOT:"#mjs-website",updateBindableLinks:g,go:function(l,q){switch(q){case"none":break;case"switchPage":if(!l||l==MotoJS.page.getUrl()){return}a.when(MotoJS.load(l)).done(function(r,s){if(!r.hasOwnProperty("error")){d(r);MotoJS.router.pushState(s,{contentType:"page"});MotoJS.content.response=r;MotoJS.events.dispatch("onSwitchFinish",{hash:s})}else{MotoJS.events.dispatch("onSwitchFinish",r)}});break;case"openPopup":if(!l||l==MotoJS.popup.getOpenedPopupUrl()){return}a.when(MotoJS.load(l)).done(function(r,s){if(!r.hasOwnProperty("error")){try{b(r)}catch(t){log("Error while opening popup. "+t.message,t.lineNumber)}MotoJS.router.pushState(s,{contentType:"popup"});MotoJS.content.response=r;MotoJS.events.dispatch("onSwitchFinish",{hash:s})}else{MotoJS.events.dispatch("onSwitchFinish",r)}});break;case"closePopup":c();break;case"openLightbox":var n,m,p=l.split(";"),o={};for(n in p){if(p.hasOwnProperty(n)){m=p[n].split("=");o[m[0]]=m[1]}}MotoJS.lightbox.open(o);break;default:if(c()){return}if(!l){l=MotoJS.website.startPage.url}a.when(MotoJS.load(l)).done(function(r,s){try{if(r.hasOwnProperty("error")||!r){MotoJS.events.dispatch("onSwitchFinish",r);return}if(r.content.popup){MotoJS.router.pushState(s,{contentType:"popup"});b(r)}else{if(r.content.page){MotoJS.router.pushState(s,{contentType:"page"});d(r)}}MotoJS.content.response=r;MotoJS.events.dispatch("onSwitchFinish",{hash:s})}catch(t){log("Switch content error. "+t.message,t.lineNumber)}});break}},init:function(m){var l;try{if(!m.content){throw new Error("Error while parsing response object. Response.content is empty","content.js")}MotoJS.website.init(m.content.website);MotoJS.auth.init();MotoJS.events.subscribe("onSwitchFinish",e);if(m.content.popup){MotoJS.router.pushState(MotoJS.router.parseUrl().clean,{contentType:"popup"});b(m)}else{if(m.content.page){var o=MotoJS.router.parseUrl().clean||MotoJS.website.startPage&&MotoJS.website.startPage.url||m.content.page.url||"404";MotoJS.router.pushState(o,{contentType:"page"});d(m)}}MotoJS.content.response=m;var n=MotoJS.preloaderFactory.getSitePreloader();n.stop();a("#mjs-website").css("opacity","1");MotoJS.animation.openQueue("showQueue");MotoJS.website.show({queueName:"showQueue"});if(!k){MotoJS.page.show({queueName:"showQueue"});MotoJS.layout.show({queueName:"showQueue"})}}catch(p){log("Init Error. "+p.message,p.lineNumber)}},getFullUrl:function(m,l){var l=in_array(l,["rootPath","basePath"])?l:"basePath";return document.location.protocol+"//"+window.location.host+MotoJS.website[l]+m},popupOrPage:function(){return MotoJS.popup.getOpenedPopupUrl()?"popup":"page"},fixHeight:function(){var l=hp=h=0;if(MotoJS.website.height){l=MotoJS.website.height}if(MotoJS.page.getHeight()){hp=MotoJS.page.getHeight()}h=Math.max(l,hp,MotoJS.FB.activated?0:a(window).height());a("#mjs-main, #mjs-website").height(h);a("#mjs-main, #mjs-website").css("min-height",h+"px");a("body, html").css({"min-height":h+"px"});MotoJS.FB.run("setPageSize",h)},initializer:i,fixStyleIE:function(l){var q,n,m,p,o={};if(l){o.popup=null}else{o={website:null,layout:null,page:null,popup:null}}for(p in o){m="";if(p=="website"&&a("#mjs-styler-website").length>0){continue}if(p=="layout"&&a("#mjs-styler-layout").length>0&&!MotoJS.layout.changed()){continue}a("#mjs-styler-"+p).remove();q=MotoJS.holders.getHolderCollection(p);if(q instanceof MotoJS.holders.Collection){n=q.getHolderItemsMap();a.each(n,function(r){var t,s="";if(a("#mjs-object_"+r).length>0){t=a("#mjs-object_"+r+" style")}else{if(a("#mjs-widget_"+r).length>0){t=a("#mjs-widget_"+r+" style")}}t.each(function(){s+=a(this).html()||""});t.remove();m+=s});a("#mjs-browser").prepend('<style id="mjs-styler-'+p+'">'+m+"</style>")}}}}})()})(jQuery);(function(d){var c=false,g;var e=function(){};e.prototype.pageInfo={};e.prototype.updatePageInfo=function(k,j){var i=this;var j=j||"default";i.getPageInfo(function(l){l.bodyHeight=d("body").height();i.pageInfo[j]=l;typeof k=="function"&&k(l)})};e.prototype.callHook=function(j,i){var k=this.hooks[j];d.isFunction(k)&&k.apply(this,i)};e.prototype.hooks={openLightbox:function(){var i=this;i.updatePageInfo(function(j){i.setPageSize({height:j.clientHeight-j.offsetTop});i.scrollTo(0,0)},"lb")},closeLightbox:function(){var i=this;i.setPageSize({height:i.pageInfo.lb.bodyHeight});i.scrollTo(i.pageInfo.lb.scrollLeft,i.pageInfo.lb.scrollTop)},openPopup:function(){var i=this;i.updatePageInfo(function(k){var j=MotoJS.popup.getPopupMinHeight()||700,l=0;l=k.clientHeight-k.offsetTop;if(l<j){l=j}i.pageInfo.popup.height=l;i.setPageSize({height:l});i.scrollTo(0,0)},"popup")},closePopup:function(){var i=this;i.setPageSize({height:i.pageInfo.popup.bodyHeight});i.scrollTo(i.pageInfo.popup.scrollLeft,i.pageInfo.popup.scrollTop)},setPageSize:function(j){var i=this;if(MotoJS.lightbox.isOpen()){return}if(MotoJS.popup.isOpen()){j=i.pageInfo.popup.height;d("#mjs-main, #mjs-website").height(j);d("#mjs-main, #mjs-website").css("min-height",j+"px");d("body, html").css({"min-height":j+"px"});return}i.setPageSize({height:j})},scrollTo:function(){var i=this;i.scrollTo(0,0)},updatePageInfo:function(){var i=this;i.updatePageInfo.apply(i,arguments)}};var b=function(i){if(!i){return}this.globalFB=window.FB;this.globalFB.init({appId:i,status:true,cookie:true,xfbml:true})};b.prototype=new e();d.extend(true,b.prototype,{pageInfo:{},globalFB:{},getPageInfo:function(i){this.globalFB.Canvas.getPageInfo(i)},setPageSize:function(i){i=i||{};d("html, body").height(i.height);Object.size(i)>0&&this.globalFB.Canvas.setSize(i)},scrollTo:function(i,j){this.globalFB.Canvas.scrollTo(i,j)}});var a=function(){this.callFrameFunc("setFrameWidth",MotoJS.website.width)};a.prototype=new e();d.extend(true,a.prototype,{pageInfo:{},getFrame:function(i){var j=window.parent||{};if(!i){return j}return j[i]},callFrameFunc:function(l){var l=l||"",j=Array.prototype.slice.call(arguments,1),m=this.getFrame(),i;try{if(d.isFunction(m[l])){i=m[l].apply(m,j)}else{throw new Error("No such function '"+l+"' in preview iframe!")}}catch(k){log("Call frame function error in FB mode. Details - "+k.message)}return i},getPageInfo:function(k){var i=this,j={scrollLeft:i.callFrameFunc("getScrollX")||0,scrollTop:i.callFrameFunc("getScrollY")||0,clientWidth:i.callFrameFunc("getInnerWidth")||0,clientHeight:i.callFrameFunc("getInnerHeight")||0,offsetLeft:0,offsetTop:30};d.isFunction(k)&&k(j)},setPageSize:function(i){i=i||{};this.callFrameFunc("setFrameHeight",i.height)},scrollTo:function(i,j){this.callFrameFunc("scrollTo",i,j)}});MotoJS.FB={run:function(){var j=arguments[0]||false,i=Array.prototype.slice.call(arguments,1);try{if(c){g.callHook(j,i)}else{MotoJS.events.subscribe("onFacebookInit",function(){g.callHook(j,i)})}}catch(k){if(_DEBUG_){throw k}}},init:function(i){if(!this.activated){return}g=this.previewMode?new a():new b(i);c=true;MotoJS.events.dispatch("onFacebookInit")},isInit:function(){return c},previewMode:false}})(jQuery);(function(a){MotoJS.lazyLoader=(function(){var b=[];var e=function(g){if(!g){return}for(var j=0;j<b.length;j++){if(b[j].url==g){return b[j]}}};var d=function(i,m){var g,k,l=e(i);try{if(!l){l={url:i,loaded:a.Deferred()};b.push(l);k="callback_"+Math.round(Math.random()*1000000);i+=i.indexOf("?")==-1?"?callback=":"&callback=";i+="MotoJS.lazyLoader."+k;MotoJS.lazyLoader[k]=function(){l.loaded.resolve();m();try{delete MotoJS.lazyLoader[k]}catch(n){MotoJS.lazyLoader[k]=undefined}};g=document.createElement("script");g.src=i;g.type="text/javascript";a("head")[0].appendChild(g)}else{a.when(l.loaded).then(function(){m()})}}catch(j){log("Error while loading script - "+i+". Details - "+j);return false}};var c=function(i,j){var g=b.indexOf(i);g>=0&&b.splice(g,1);a('script[src^="'+i+'"]').remove();typeof j=="function"&&j()};return{load:d,unload:c}})()})(jQuery);(function(a){MotoJS.loader=(function(){var g=false,c=500,e="ajax.php",d,b,i;var j=function(l){MotoJS.ajax.getPage(l,location.hostname+(location.port!=""?":"+location.port:"")+MotoJS.website.rootPath+e).complete(function(m){d.stop();i.resolve(a.parseJSON(m.responseText),l);g=false})};var k=function(l){if(!l){return}b=l;if(!g){i=a.Deferred();MotoJS.events.dispatch("onSwitchStart");d.start();setTimeout(function(){j(b)},c);g=true;return i.promise()}return false};return{init:function(){d=MotoJS.preloaderFactory.getPagePreloader()},load:k,loading:function(){return g}}})();MotoJS.load=MotoJS.loader.load})(jQuery);(function(a){if(_HISTORY_LOAD_){if(!History.emulated.pushState){History.pushState=function(d,g,c,b){if(History.getHashByUrl(c)&&History.emulated.pushState){throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).")}if(b!==false&&History.busy()){History.pushQueue({scope:History,callback:History.pushState,args:arguments,queue:b});return false}History.busy(true);var e=History.createStateObject(d,g,c);if(History.isLastSavedState(e)){History.busy(false)}else{e.url=document.location.protocol+"//"+window.location.hostname+(window.location.port!=""?":"+window.location.port:"")+MotoJS.website.rootPath+c;History.storeState(e);History.expectedStateId=e.id;history.pushState(e.id,e.title,e.url);History.Adapter.trigger(window,"popstate")}return true}}else{History.pushState=function(g,l,b,j){if(History.getHashByUrl(b)){throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).")}if(j!==false&&History.busy()){History.pushQueue({scope:History,callback:History.pushState,args:arguments,queue:j});return false}History.busy(true);var e=History.createStateObject(g,l,b),c=History.getHashByState(e),d=History.getState(false),i=History.getHashByState(d),k=History.getHash();e.innerUrl=b;History.storeState(e);History.expectedStateId=e.id;History.recycleState(e);if(c===i){History.busy(false);return false}if(c!==k&&c!==History.getShortUrl(document.location.href)){History.setHash(c,false);return false}History.saveState(e);History.Adapter.trigger(window,"statechange");History.busy(false);return true}}}MotoJS.router=(function(){var g={},i={};var c=function(){var k=b(),l;if(g.widgetInitiator){l={exclude:g.widgetInitiator};g.widgetInitiator=null}MotoJS.events.dispatch("onStateChange",k,l);if(k.page==""&&g.page==MotoJS.website.startPage.url){return}if(g.page!=k.page){MotoJS.content.go(k.clean)}};var j=function(k){var k=k.toString(),o={clean:null,path:null,page:null,widget:null,data:null,queryString:null},p,q,l,n,m;n=/^([^\?]*)\?*([^\?]*)/ig;m=n.exec(k);if(m){l=m[1].replace(/^[\s\/]+|[\s\/]+$/g,"");p=l.split("/");q=m[2]||"";o.clean=k;o.path=l;o.page=p[0];o.widget=p[1]||null;o.data=p.length>2?p.slice(2):null;o.queryString=q.charAt(0)=="?"?q.slice(1):q}return o};var b=function(){var l=window.location.hash.substring(1),k=window.location.pathname+window.location.search;if(k[0]!=="/"){k="/"+k}return j(l?l.replace(/\.+\//,""):k.replace(MotoJS.website.rootPath,""))};var e=function(k,l){l=l||{};i=g;g=k?j(k):b();g.contentType=l.contentType&&in_array(l.contentType,["popup","page"])?l.contentType:MotoJS.content.popupOrPage();if(l.widgetInitiator){g.widgetInitiator=l.widgetInitiator}if(k==MotoJS.website.startPage.url){k=History.emulated.pushState?k:" "}History.pushState(null,null,k)};var d=function(){var k=g;g=i;i=k;History.pushState(null,null,g.clean)};return{parseUrl:b,splitUrl:j,pushState:e,returnState:d,getPrevState:function(){return i},redirectOnLoad:function(l){var k=b();if(k.page!=""&&k.page!=l){MotoJS.content.go(k.clean);return true}return false},init:function(){_HISTORY_LOAD_&&window.History.Adapter.bind(window,"statechange",c);preloader=MotoJS.preloaderFactory.getPagePreloader()}}})()})(jQuery);(function(a){MotoJS.layout=(function(){var e,c,d={hide:function(){},show:function(){},empty:function(){},getHolderItemById:function(){},getHolder:function(){},inited:false};var b=function(){return(e!=c)};return{fill:function(g){if(!(d instanceof MotoJS.holders.Collection)){d=new MotoJS.holders.Collection(MotoJS.content.SITE_ROOT);d.inited=true}d.fill(g)},setLayoutTypeId:function(g){c=e||null;e=g},getLayoutTypeId:function(){return e},hide:function(g){if(b()){d.hide(g)}},show:function(g,i){if(b()||g){d.show(i)}},empty:function(){b()&&d.empty()},getHolderItemById:function(g){return d.getHolderItemById(g)},getHolderById:function(g){return d.getHolder(g)},getHolderCollection:function(){return d.inited?d:undefined},changed:b}})()})(jQuery);(function(a){MotoJS.page=(function(){var g,c,d,b,e={hide:function(){},show:function(){},empty:function(){},getHolderItemById:function(){},getHolder:function(){},inited:false};return{getUrl:function(){return d},setUrl:function(i){d=(d==i)?d:i},setTitle:function(i){g=i},getTitle:function(){return g},setHeight:function(i){b=i},getHeight:function(){return b},fill:function(i){if(!(e instanceof MotoJS.holders.Collection)){e=new MotoJS.holders.Collection(MotoJS.content.SITE_ROOT);e.inited=true}e.fill(i)},setPageTypeId:function(i){prevPageTypeId=c||null;c=i},hide:function(i){return e.hide(i)},show:function(i){return e.show(i)},empty:function(){e.empty()},getHolderItemById:function(i){return e.getHolderItemById(i)},getHolderById:function(i){return e.getHolder(i)},getHolderCollection:function(){return e}}})()})(jQuery);(function(a){MotoJS.popup=(function(){var g="#mjs-popup-background",p="#mjs-popup-",r="#mjs-popups-container",e=".mjs-popup",t=[],k=700;var q=function(v){if(!v){throw new Error("Error while creating a new popup. Popup id is empty.")}this.url=null;this.id=v;var v=v,u=new MotoJS.holders.Collection(p+1);this.fill=function(w){u.fill(w);this.url=w.url||null;MotoJS.content.initializer.run(true)};this.show=function(){u.show({animationShow:"fade"});MotoJS.events.subscribe("onOrientationChange","popup"+v,m)};this.close=function(){a.each(u.items,function(w,x){x.empty()});a(p+1).empty();MotoJS.events.unsubscribe("onOrientationChange","popup"+v);(t.length==0)&&a(g).hide()};this.getHolderItemById=function(w){return u.getHolderItemById(w)};this.getHolderCollection=function(){return u};this.getHolderById=function(w){return u?u.getHolder(w):null}};var j=function(u){t.length>0&&(MotoJS.router.parseUrl().page!=d().url)&&MotoJS.popup.close()};var m=function(){var w=a(window).scrollTop(),v=0,x=a(document).height(),u=k+w;if(u>x){v=x-k;if(v<0){v=0}}else{v=w}a(e).css("top",v+"px");a(window).scrollTop(v)};var d=function(){return(t[t.length-1] instanceof q)?t[t.length-1]:null};var n=function(){var u=d();return u?u.url:null};var i=function(v){var u;try{MotoJS.tools.isApple()&&a(MotoJS.content.SITE_ROOT).css("-webkit-overflow-scrolling","touch");a(r).is(":hidden")&&a(r).show();u=new q(v.id);(t.length==0)&&a(g).show();t.push(u);u.fill(v);MotoJS.events.dispatch("onResize");m();u.show();MotoJS.events.dispatch("onOpenPopup")}catch(w){log("Open popup error. "+w.message,w.lineNumber)}};var s=function(){var u=t.pop()||null;u&&u.close();!a(r).is(":hidden")&&a(r).hide();MotoJS.tools.isApple()&&a(MotoJS.content.SITE_ROOT).css("-webkit-overflow-scrolling","")};var o=function(v){var u=d();return u?u.getHolderItemById(v):null};var l=function(v){var u=d();return u?u.getHolderById(v):null};var c=function(){var u=d();return u?u.getHolderCollection():null};var b=function(){return !!d()};return{open:i,close:s,getOpenedPopup:d,isOpen:b,getOpenedPopupUrl:n,getHolderItemById:o,getHolderById:l,getHolderCollection:c,getPopupMinHeight:function(){return k}}})()})(jQuery);(function(a){MotoJS.website=(function(){var b,i={hide:function(){},show:function(){},empty:function(){},getHolderItemById:function(){},getHolder:function(){},inited:false},d={backgroundGalleryButtonsMode:{value:"onlyHover"},backgroundGalleryControlsArea:{value:"padding: 0px 10px;"},backgroundGalleryControlsAreaHover:{value:"padding: 0px 10px;"},backgroundGalleryImageNext:{value:"images/next_arrow_big.png",image:{name:"next_arrow_big.png",parameters:{height:"45",width:"45"}}},backgroundGalleryImageNextHover:{value:"images/next_arrow_big.png",image:{name:"next_arrow_big.png",parameters:{height:"45",width:"45"}}},backgroundGalleryImagePrev:{value:"images/prev_arrow_big.png",image:{name:"prev_arrow_big.png",parameters:{height:"45",width:"45"}}},backgroundGalleryImagePrevHover:{value:"images/prev_arrow_big.png",image:{name:"prev_arrow_big.png",parameters:{height:"45",width:"45"}}},changeContentAnimationDuration:{value:"1000"},hideContentAnimationEffect:{value:"fade"},showContentAnimationEffect:{value:"fade"},lightboxActiveThumbnail:{value:"",style:{}},lightboxBackgroundAlpha:{value:"80"},lightboxBackgroundColor:{value:"1B1B1B"},lightboxCloseButtonImage:{value:"images/lightbox_close.png",image:{name:"lightbox_close.png",parameters:{height:"45",width:"45"}}},lightboxCloseButtonImageHover:{value:"",image:null},lightboxCloseButtonShow:{value:"true"},lightboxControlsArea:{value:"padding: 0px 20px;"},lightboxControlsAreaHover:{value:"padding: 0px 20px;"},lightboxFitFill:{value:"fit"},lightboxNextButtonImage:{value:"images/next_arrow_big.png",image:{name:"next_arrow_big.png",parameters:{height:"45",width:"45"}}},lightboxNextButtonImageHover:{value:"images/next_arrow_big.png",image:{name:"next_arrow_big.png",parameters:{height:"45",width:"45"}}},lightboxPrevButtonImage:{value:"images/prev_arrow_big.png",image:{name:"prev_arrow_big.png",parameters:{height:"45",width:"45"}}},lightboxPrevButtonImageHover:{value:"images/prev_arrow_big.png",image:{name:"prev_arrow_big.png",parameters:{height:"45",width:"45"}}},lightboxPreloader:{value:"",image:null},lightboxThumbButtonWidth:{value:"50"},lightboxThumbNextButtonImage:{value:"images/lightbox_thumbnails_next.png",image:{name:"lightbox_thumbnails_next.png",parameters:{height:"45",width:"45"}}},lightboxThumbPrevButtonImage:{value:"images/lightbox_thumbnails_prev.png",image:{name:"lightbox_thumbnails_prev.png",parameters:{height:"45",width:"45"}}},lightboxThumbnailsHeight:{value:"100"},lightboxThumbnailsShow:{value:"visible"}},c={};var g=function(j){var m,l,k;for(m in j){if(j.hasOwnProperty(m)){l=j[m];if(typeof l=="object"){switch(m){case"backgroundGalleryButtonsMode":b.properties.buttonsMode=j[m].value||"";break;case"backgroundGalleryPreloader":b.properties.preloader.image=j[m].value||"";break;case"backgroundGalleryPreloaderVerticalAlign":b.properties.preloader.verticalAlign=j[m].value||"top";break;case"backgroundGalleryPreloaderHorizontalAlign":b.properties.preloader.horizontalAlign=j[m].value||"left";break;case"backgroundGalleryPreloaderMargin":k=j[m].style;b.properties.preloader.margin.left=k&&k.paddingLeft||0;b.properties.preloader.margin.right=k&&k.paddingRight||0;b.properties.preloader.margin.top=k&&k.paddingTop||0;b.properties.preloader.margin.bottom=k&&k.paddingBottom||0;break;case"hideContentAnimationEffect":MotoJS.animation.setDefaultAnimationParams({animationHide:j[m].value});break;case"showContentAnimationEffect":MotoJS.animation.setDefaultAnimationParams({animationShow:j[m].value});break;case"changeContentAnimationDuration":MotoJS.animation.setDefaultAnimationParams({duration:j[m].value});break;default:if(j[m].value&&m.indexOf(" ")==-1){b.properties[m]=j[m].value}break}}}}};var e=function(l,m){var l=l||"",m=m||{},o=l.replace(/[^.]/g,"").length,n,k,j;if(o){n=l.split(".");k=m[n.shift()];j=n.length>1?n.join("."):n[0];return k?e(j,k):undefined}else{return m[l]}};return{init:function(j){b=this;if(!j){throw new Error("Error while initializing website object. Response.content.website is empty","website.js")}b.basePath=j.settings.basePath||null;b.rootPath=j.settings.rootPath||b.basePath;b.contentFolder=j.settings.contentFolder||"";b.width=j.width||null;b.height=j.height||null;b.startPage=j.settings.startPage||{url:""};b.title=j.settings.title||"";b.properties={buttonsMode:"always",imageNext:"",imageNextHover:"",imagePrev:"",imagePrevHover:"",preloader:{image:"",verticalAlign:"top",horizontalAlign:"left",margin:{top:0,right:0,bottom:0,left:0}}};b.underConstruction=(j.settings.underConstruction=="true");b.websiteProtectionEnabled=j.settings.websiteProtectionEnabled;c=a.extend(true,{},d,j.properties);g(j.properties)},fill:function(j){if(!(i instanceof MotoJS.holders.Collection)){i=new MotoJS.holders.Collection(MotoJS.content.SITE_ROOT);i.inited=true}i.fill(j)},getHolderItemById:function(j){return i.getHolderItemById(j)},show:function(j){return i.show(j)},getHolderById:function(j){return i.getHolder(j)},getHolderCollection:function(){return i},getProperty:function(j){return e(j,c)},setDocumentTitle:function(j){j=MotoJS.website.title+" "+j;document.title=j}}})()})(jQuery);(function(a){MotoJS.events=(function(){var g={},e=["onSwitchStart","onSwitchFinish","onResize","onOpenPopup","onStateChange","onOrientationChange","onInitFinished","onClosePopup","onLoginBoxShow","onLoginBoxHide","onContentLoaded","onFacebookInit","onGetFacebookPageInfo","onLightboxOpen","onLightboxClose"],j="_",c=[];function d(k){this.eventName=k;this.callbacks={};this.deliver=function(n,u){var s,q,o,p,m,t=[],r=false,l;u=u||{};if(u.include){t=a.isArray(u.include)?u.include:[u.include]}else{l=u.exclude?(a.isArray(u.exclude)?u.exclude:[u.exclude]):[];for(var s in this.callbacks){if(this.callbacks.hasOwnProperty(s)&&!in_array(s,l)){t.push(s)}}}t.sort();t.reverse();p=t.length;for(o=0;o<p;o++){q=this.callbacks[t[o]];if(!q){continue}r=in_array(t[o],c);for(m=0;m<q.length;m++){(typeof q[m]=="function")&&q[m](n)}r&&(delete this.callbacks[t[o]])}return this}}var b=function(){var k=a("#mjs-main").width();var l;MotoJS.content.fixHeight();l=a(window).width();if(l<k){l=k}if(a("div.mjs-holder .mjs-auto-width-parent").length>0){l=a("div.mjs-holder .mjs-auto-width-parent").parent().data("widthx");if(!l){l=a("div.mjs-holder .mjs-auto-width-parent").parent().width()}if(l<1){l=a("div.mjs-holder .mjs-auto-width-parent").width()}a("div.mjs-holder .mjs-auto-width-parent").width(l).css("left",0)}if(a("div.mjs-holder .mjs-auto-right-window").length>0){a("div.mjs-holder .mjs-auto-right-window").each(function(){var m=a(this).data();if(typeof m.right=="undefined"){a(this).data("right",parseInt(a(this).css("right")))}a(this).css("right",(m.right-(l-k)/2)+"px")})}if(a("div.mjs-holder .mjs-auto-left-window").length>0){a("div.mjs-holder .mjs-auto-left-window").each(function(){var m=a(this).data();if(typeof a(this).data("left")=="undefined"){a(this).data("left",parseInt(a(this).css("left")))}a(this).css("left",(m.left-(l-k)/2)+"px")})}if(a("div.mjs-holder.mjs-auto-position").length>0){a("div.mjs-holder.mjs-auto-position").each(function(){var n=a(this).data(),m={top:a(this).css("top"),left:a(this).css("left")};if(typeof n.valign!="undefined"){switch(n.valign){case"bottom":m.top=(a("#mjs-main").height()-parseInt(a(this).data("height")))+"px";break;case"middle":m.top=((a("#mjs-main").height()-parseInt(a(this).data("height")))/2)+"px";break}}if(typeof n.halign!="undefined"){switch(n.halign){case"right":m.left=(a("#mjs-main").width()-parseInt(a(this).data("width")))+"px";break;case"middle":m.left=((a("#mjs-main").width()-parseInt(a(this).data("width")))/2)+"px";break}}a(this).css(m)})}};var i=function(m,k,o){var l=k-m+1;var n=j+Math.floor(Math.random()*l)+m;if(o.hasOwnProperty(n)){i(m,k,o)}return n};return{init:function(){var l,k;for(k in e){l=new d(e[k]);g[e[k]]=l}this.subscribe("onResize",b)},dispatch:function(k,m,l){if(g.hasOwnProperty(k)){g[k].deliver(m,l)}},subscribe:function(){var k,m,l,n;k=arguments[0];if(!(g[k] instanceof d)){return false}n=g[k].callbacks;if(arguments.length==3){m=arguments[1];if(!m){return false}l=arguments[2]}else{if(arguments.length==2){l=arguments[1];m=i(0,500,n)}else{return false}}if(typeof l!=="function"){return false}if(typeof n[m]=="object"){n[m].push(l)}else{n[m]=[l]}return m},subscribeOnce:function(k,l){var m=this.subscribe(k,l);c.push(m)},unsubscribe:function(k,m){if(arguments.length==1){var m=k;for(var l in g){this.unsubscribe(l,m)}return}var n=g[k].callbacks;n.hasOwnProperty(m)&&delete n[m]}}})();MotoJS.events.init()})(jQuery);(function(a,b){MotoJS.holders=(function(){var g,e,i="#mjs-holder_",d=".mjs-holder";function j(o,m,k,l){var n={},k=k||false,o=o,m=m;if(!o||!m){throw new Error("Holder id and type are undefined")}this.id=o;this.items=n;this.type=m;this.isDynamic=k;this.properties=l||{};this.$content=null;this.getDomObj=function(){return a(i+o)};this.add=function(p){if(!p){return}if(p.id&&!this.itemExists(p.id)){n[p.id]=p;return true}return false};this.remove=function(p){if(this.itemExists(p)){delete n[p]}MotoJS.events.unsubscribe(p)};this.hide=function(s){var r,p,s=s||{};if(this.isDynamic){try{r=parseInt(this.properties.hideDuration.value,10);if(!(r>0)){throw new Error()}}catch(q){r=s.duration}try{p=this.properties.animationHide.value;if(!p){throw new Error()}}catch(q){p=s.animationHide}MotoJS.animation.hide(i+this.id,{duration:r,animationHide:p,queueName:s.queueName})}else{a.each(n,function(t,u){try{if(u){u.parentId||u.hide(s)}}catch(v){log(v.message)}})}};this.show=function(s){var r,p,s=s||{};if(this.isDynamic){try{r=parseInt(this.properties.showDuration.value,10);if(!(r>0)){throw new Error()}}catch(q){r=s.duration}try{p=this.properties.animationShow.value;if(!p){throw new Error()}}catch(q){p=s.animationShow}a.each(n,function(t,u){if(u){u.applyOpacity()}});MotoJS.animation.show(i+this.id,{duration:r,animationShow:p,queueName:s.queueName})}else{a.each(n,function(t,u){try{if(u){u.parentId||u.show(s)}}catch(v){log(v.message)}})}};this.empty=function(){var p=this;a.each(n,function(q,r){try{r.empty&&r.empty();r._destruct();r.getDomObj().remove();p.remove(r.id)}catch(s){log("Remove hoder item error. Item id - "+r.id+". Details - "+s.message,s.lineNumber)}})};this.itemExists=function(p){return !!n[p]};this.prepareContent=function(){var p=this.html;if(!p||!/<*>/.test(p)){return}this.$content=a(p)};this.makeTransparent=function(){if(MotoJS.isAlreadyInit()){if(!this.$content){return}if(this.$content.filter(d).length==1){this.$content.filter(d).css("opacity","0")}else{this.$content.not("a").css("opacity","0").end().filter("a").children().css("opacity","0")}}else{a(this.container).children().not("a").css("opacity","0").end().filter("a").children().css("opacity","0")}};this.fillDom=function(){a(this.container).append(this.$content)}}var c=function(q){var o={},n=q,k={},p=this;this.getHolder=function(r){if(o[r] instanceof j){return o[r]}else{return null}};this.items=o;this.addHolder=function(r){if(r instanceof j){o[r.id]=r}};this.remove=function(r){if(o[r]){delete o[r]}};var m=function(r){if(r){a.each(r||{},function(){try{var t=a.extend({},MotoJS.widgets.create(this.type),this);if(p.addItemToHolder(this.holder,t)){MotoJS.content.initializer.add(t)}}catch(s){log("Widget init error. Widget id - "+this.id+". Details - "+s.message,s.lineNumber)}})}};var l=function(r){if(r){a.each(r||{},function(){try{var t=MotoJS.objects.create(this);if(p.addItemToHolder(this.holder,t)){MotoJS.content.initializer.add(t)}}catch(s){log("Object init error. Object id - "+this.id+". Details - "+s.message,s.lineNumber)}})}};this.fill=function(r){if(!r){return}a.each(r.holders||{},function(s,u){if(!p.holderExists(s)&&u!=b){try{var t=new MotoJS.holders.HolderClass(s,u.type,u.isDynamic,u.properties);t.x=u.x;t.y=u.y;t.width=u.width;t.height=u.height;t.depth=u.depth;t.html=u._html;t.container=n;if(MotoJS.isAlreadyInit()){t.prepareContent();t.makeTransparent();t.fillDom()}else{t.makeTransparent()}p.addHolder(t)}catch(v){log("Holder init error. Holder id - "+(u&&u.id?u.id:"NONE")+". Details - "+v.message,v.lineNumber)}}});m(r.modules);m(r.slots);l(r.objects)};this.getHolderItemsMap=function(){return k};this.holderExists=function(r){return !!o[r]};this.hide=function(r){a.each(o,function(s,t){if(t){t.hide(r)}})};this.show=function(r){a.each(o,function(s,t){if(t){t.show(r)}})};this.empty=function(){var r=this;a.each(o,function(s,t){t.empty();for(var u in k){if(k[u]==t.id){delete k[u]}}if(t.isDynamic){t.getDomObj().remove()}r.remove(t.id)})};this.getHolderItemById=function(s){var r=this.getHolder(k[s])||{};return r.items?r.items[s]:null};this.addItemToHolder=function(t,s){var r=p.getHolder(t);if(r&&!r.itemExists(s.id)){if(r.add(s)){k[s.id]=r.id;return true}}return false}};return{init:function(){e=MotoJS.website.getDomNode();g=new c();g.fill()},Collection:c,HolderClass:j,getHolderCollection:function(k){var l=null;switch(k){case"page":l=MotoJS.page.getHolderCollection();break;case"website":l=MotoJS.website.getHolderCollection();break;case"layout":l=MotoJS.layout.getHolderCollection();break;case"popup":l=MotoJS.popup.getHolderCollection();break}return l},getHolderById:function(l){var k=MotoJS.page.getHolderById(l);if(!k){k=MotoJS.website.getHolderById(l)}if(!k){k=MotoJS.layout.getHolderById(l)}if(!k){k=MotoJS.popup.getHolderById(l)}return k}}})()})(jQuery);(function(a){MotoJS.objects=(function(){var e={},d="#mjs-object_",c=".mjs-object-content",n=".mjs-object";function m(){var o=this.id="";this.parentClass=m;this.applyOpacity=function(){var p=this.hasOwnProperty("alpha")?this.alpha:1;this.getDomObj().css("opacity",parseFloat(p))};this.me=function(p){var p=p||"";return a(d+this.id+" > "+c+" "+p)};this.hide=function(q){var p={},q=q||{};return MotoJS.animation.hide(d+this.id,q)};this.show=function(q){var p={},q=q||{};p.opacity=this.alpha||"0";if(q.animationShow){p.animationShow=q.animationShow}if(q.duration){p.duration=q.duration}if(q.queueName){p.queueName=q.queueName}return MotoJS.animation.show(d+this.id,p)};this.getDomObj=function(){return a(d+this.id)}}m.prototype.init=function(){};m.prototype._destruct=function(){};function k(){var o="mjs-object_",p;this.init=function(){p=this;var q="";if(this["itemInfo"]&&this.itemInfo.type){switch(this.itemInfo.type){case"youtube":q+='<iframe width="100%" height="100%" src="//www.youtube.com/embed/'+this.value+"/?wmode=opaque&autoplay="+this.parameters.autoPlay+"&loop="+this.parameters.repeat+(parseInt(this.parameters.repeat)?"&playlist="+this.value:"")+'" frameborder="0" allowfullscreen></iframe>';break}}if(q!=""){a("#"+o+this.id).html(q)}};this.empty=function(){try{a("#"+o+p.id+" iframe").hide()}catch(q){}}}k.prototype=new m();function j(){var o="mjs-object_",p;this.redraw=function(){if(this.live){this._draw()}};this.init=function(){p=this;this.live=true;this._draw();if(this.snapping){var s=a(this._dom).data();if(s&&s.binded){return}s.binded=true;a(this._dom).data(s);var r=this;this.live=true;this.handlerResize=f=function(){r.redraw()};MotoJS.events.subscribe("onResize",this.id,f)}};this._draw=function(){if(this._initWrap()){switch(this.parameters.scalingMode){case"fit":this._scalingModeFit();break;case"fill":this._scalingModeFill();break;case"resize":this._scalingModeResize();break;case"crop":this._scalingModeCrop();break;case"none":this._scalingModeNoScale();break}}};this._destroy=function(){a(this._dom).data({});a(this._wrap).data({});a(this._img).data({});this.live=false};this._initWrap=function(){var v,u,s,r;v=o+this.id;u=a("#"+v);var t=a(u).data();if(t&&t.wraped){return true}a(u).attr("id","_"+v);if(u.parent().is("a")){u=u.parent()}a(u).wrap('<div id="'+v+'"><div class="mjs-image-wrap"></div></div>');this._img=a("#_"+v);this._dom=a("#"+v);this._wrap=a("#"+v+" > .mjs-image-wrap");if(!this._dom||!this._wrap||!this._img||this._dom.length!=1||this._wrap.length!=1||this._img.length!=1){this._destroy();return false}a(this._dom).attr("class",a(this._img).attr("class")).attr("style",a(this._img).attr("style")).css("overflow","hidden");a(this._img).attr("class","").attr("style","");t.wraped=true;a(this._dom).data(t);if((parseInt(this._dom[0].style.bottom))!=0){this._dom[0].style.bottom=(parseInt(this._dom[0].style.bottom)-parseInt(a(this._dom[0]).css("border-bottom-width")))+"px"}if((parseInt(this._dom[0].style.top))!=0){this._dom[0].style.top=(parseInt(this._dom[0].style.top)-parseInt(a(this._dom[0]).css("border-top-width")))+"px"}if((parseInt(this._dom[0].style.left))!=0){this._dom[0].style.left=(parseInt(this._dom[0].style.left)-parseInt(a(this._dom[0]).css("border-left-width")))+"px"}if((parseInt(this._dom[0].style.right))!=0){this._dom[0].style.right=(parseInt(this._dom[0].style.right)-parseInt(a(this._dom[0]).css("border-right-width")))+"px"}return true};this._scalingModeResize=function(){var r=a(this._dom).data();if(r&&r.inited){return}if(r==null){r={}}r.inited=true;a(this._dom).data(r);a(this._wrap).css("width","100%").css("height","100%");a(this._img).css("width","100%").css("height","100%")};this._scalingModeNoScale=function(){a(this._img).css("width","100%").css("height","100%")};this._scalingModeCrop=function(){var s=a(this._dom).data();if(s==null){s={}}if(!s||!s.inited){s.inited=true;a(this._dom).data(s)}this.width=a(this._dom).width();this.height=a(this._dom).height();var t=this._scaleInfo(this.itemInfo.parameters.width,this.itemInfo.parameters.height,this.width,this.height);var r={top:0,left:0,width:(this.width>t.width?this.width:t.width),height:(this.height>t.height?this.height:t.height)};switch(this.parameters.verticalAlign){case"middle":r.top=(this.height-this.itemInfo.parameters.height)/2;break;case"bottom":r.top=(this.height-this.itemInfo.parameters.height);break}switch(this.parameters.horizontalAlign){case"center":r.left=(this.width-this.itemInfo.parameters.width)/2;break}a(this._wrap).css("position","absolute").css("top",r.top+"px").css("left",r.left+"px").css("width",r.width+"px").css("height",r.height+"px");q.call(a(this._wrap));if(this.parameters.horizontalAlign!="center"){a(this._img).css("float",this.parameters.horizontalAlign)}};this._scalingModeFit=function(){var r=a(this._dom).data();if(r==null){r={}}if(!r||!r.inited){r.inited=true;a(this._dom).data(r)}this.width=a(this._dom).width();this.height=a(this._dom).height();var s=this._scaleInfo(this.itemInfo.parameters.width,this.itemInfo.parameters.height,this.width,this.height);a(this._dom).css("text-align",this.parameters.horizontalAlign).css("line-height",this.height+"px").css("overflow","hidden");if(s.height<this.height){a(this._img).css("vertical-align",this.parameters.verticalAlign)}else{a(this._img).css("vertical-align","")}if(s.height==this.height){a(this._img).css("width","").css("height",this.height+"px")}else{a(this._img).css("width",this.width+"px").css("height","")}};this._scaleInfo=function(t,w,v,s){var u={width:"",height:"",mode:"height"};var x=v;var r=Math.round(v*w/t);if(r<1){r=1}if(r>s){r=s;x=Math.round(s*t/w);if(x<1){x=1}u.mode="width"}u.width=x;u.height=r;u.maxWidth=Math.round(s*t/w);u.maxHeight=Math.round(v*w/t);return u};var q=function(){var t=a(this).closest(".mjs-rel-wrapper"),s=a(p._dom).width(),r=a(p._dom).height();if(!t.length){t=a("<div />");t.addClass("mjs-rel-wrapper");t.css({overflow:"hidden",position:"relative"});t=a(this).wrap(t).closest(".mjs-rel-wrapper")}t.css({width:s+"px",height:r+"px"})};this._scalingModeFill=function(){var t=a(this._dom).data();if(t==null){t={}}if(!t||!t.inited){t.inited=true;a(this._dom).data(t)}this.width=a(this._dom).width();this.height=a(this._dom).height();var u=this._scaleInfo(this.itemInfo.parameters.width,this.itemInfo.parameters.height,this.width,this.height);var s={top:0,left:0,width:(this.width>u.width?this.width:u.width),height:(this.height>u.height?this.height:u.height)};switch(this.parameters.verticalAlign){case"middle":s.top=(u.height-u.maxHeight)/2;break;case"bottom":s.top=(u.height-u.maxHeight);break}switch(this.parameters.horizontalAlign){case"center":s.left=(u.width-u.maxWidth)/2;break}var r={width:this.width,height:this.height};switch(u.mode){case"width":r.height=u.maxHeight;break;case"height":r.width=u.maxWidth;break}a(this._wrap).css("position","absolute").css("top",s.top+"px").css("left",s.left+"px").css("width",s.width+"px").css("height",s.height+"px");q.call(a(this._wrap));a(this._img).css("width",r.width+"px").css("height",r.height+"px");if(this.parameters.horizontalAlign!="center"){a(this._img).css("float",this.parameters.horizontalAlign)}}}j.prototype=new m();function i(){this.init=function(){if(MotoJS.tools.isIE()<10){if(this.me().parent().css("background-image")=="none"){this.me().parent().css({"background-image":"url("+MotoJS.website.basePath+"assets/images/null.gif)"})}}}}i.prototype=new m();function g(){var o="mjs-object_",p;this.init=function(){p=this;var r="";var t={wmode:"transparent",allowScriptAccess:"always",scale:"scale",allowFullScreen:"true",play:"true",loop:"false"};var s=o+this.id+"_wrap";var q={id:s,name:s};swfobject.embedSWF(response.content.website.settings.basePath+this.value,s,"100%","100%","9.0.23","expressInstall.swf",false,t,q)}}g.prototype=new m();function b(){}b.prototype=new m();var l=function(p){var q=null,r,o;try{switch(p.type){case"image":q=j;break;case"htmlText":q=b;break;case"shape":q=i;break;case"swf":q=g;break;case"flv":q=k;break;default:q=m;break}if(q){r=new q();o=a.extend({},r,p);return o}}catch(s){throw new Error(s.message,s.lineNumber)}return null};return{create:l,ObjectClass:m}})()})(jQuery);(function(a){MotoJS.preloaderFactory=(function(){var c="#mjs-preloader",g="#mjs-site-preloader";function b(i){this.label=i}b.prototype.start=function(){var m,k,i=0,j=a(this.label);if(MotoJS.FB.activated){m=new Image();try{m.src=/url\((.*)\)/.exec(j.css("background-image"))[1].replace(/[',"]/g,"");i=m.height}catch(l){}MotoJS.FB.run("updatePageInfo",function(n){k=((n.clientHeight||a(window).height())-n.offsetTop-i)/2+n.scrollTop;j.css("background-position","50% "+k+"px");j.show()})}else{j.show()}};b.prototype.stop=function(){a(this.label).hide()};function e(i){this.label=i}e.prototype=new b();function d(i){this.label=i}d.prototype=new b();d.prototype.stop=function(){a(this.label).hide()};return{getPagePreloader:function(){return new e(c)},getSitePreloader:function(){return new d(g)}}})()})(jQuery);(function(e){MotoJS.tools={};MotoJS.tools.adjustImage=function(l,k,j){var i,g={width:k.w,height:k.h,top:"",right:"",bottom:"",left:""};j=e.extend({w:0,h:0,valign:"left",halign:"top"},j);switch(l){case"fill":case"fit":i=scaleSize(k.w,k.h,j.w,j.h,"fill"==l,k.respectMaxSize);g.width=i[0];g.height=i[1];break;default:break}switch(j.valign){case"bottom":g.bottom=0;break;case"middle":g.top=(j.h-g.height)/2;break;default:g.top=0}switch(j.halign){case"right":g.right=0;break;case"center":g.left=(j.w-g.width)/2;break;default:g.left=0}return g};MotoJS.tools.applyAdjustments=function(g,i){if(!g instanceof jQuery){g=e(g)}if(!g[0]){return false}i=e.extend({width:"",height:"",top:"",right:"",bottom:"",left:""},i);g.width(i.width).height(i.height).css({top:i.top,left:i.left,right:i.right,bottom:i.bottom});return true};MotoJS.tools.ImageProvider=function(q){var g={},m,j={};q=q||{};q=e.extend({onFirstProviderAdd:null,onLastProviderRemove:null,onProviderActivate:null},q);var n=function(t,r,s){s=s||false;if(typeof r!=="function"||g.hasOwnProperty(t)){return false}m=t;if(Object.size(g)==0&&typeof q.onFirstProviderAdd==="function"){q.onFirstProviderAdd(s)}g[t]=r;j[t]=s;return true};var k=function(r){if(g.hasOwnProperty(r)){delete g[r];delete j[r];m=null;for(m in j){break}for(m in g){break}}if(Object.size(g)==0&&typeof q.onLastProviderRemove==="function"){m=null;q.onLastProviderRemove()}};var o=function(r){r=parseInt(r,10);if(!isNaN(r)){m=r}if(typeof q.onProviderActivate==="function"){q.onProviderActivate(l())}};var i=function(){return m};var p=function(){if(typeof g[m]=="function"){return g[m]}return false};var l=function(r){r=!!r||m;if(j.hasOwnProperty(r)){return j[r]}return true};return{add:n,remove:k,setId:o,getId:i,get:p,isSingleImage:l,getList:function(){return{providers:g,single:j}}}};MotoJS.tools.isApple=function(){return navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)};MotoJS.tools.isIE=function(){return e.browser.msie?e.browser.version:undefined};var d=" -webkit- -moz- -o- -ms- ".split(" "),c="modernizr";var b=function(o,q,j,p){var i,n,l,g=document.createElement("div"),m=document.body,k=m?m:document.createElement("body");if(parseInt(j,10)){while(j--){l=document.createElement("div");l.id=p?p[j]:c+(j+1);g.appendChild(l)}}i=["&#173;",'<style id="s',c,'">',o,"</style>"].join("");g.id=c;(m?g:k).innerHTML+=i;k.appendChild(g);if(!m){k.style.background="";document.documentElement.appendChild(k)}n=q(g,o);!m?k.parentNode.removeChild(k):g.parentNode.removeChild(g);return !!n};MotoJS.tools.isTouchDevice=function(){var g;if(("ontouchstart" in window)||window.DocumentTouch&&document instanceof DocumentTouch){g=true}else{b(["@media (",d.join("touch-enabled),("),c,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(i){g=i.offsetTop===9})}return g};var a=[];MotoJS.tools.loadImages=function(g,p){var o,n,m=0,k=[];if(typeof g=="string"){g=[g]}if(g.constructor!=Array){return false}n=g.length;m=0;var j=function(){m++;if(m==n){if(e.isFunction(p)){p(k)}}};for(var l=0;l<n;l++){o=e("<img />");o.on("load",function(){a.push(this);k.push(this);j()}).error(j);o.attr("src",g[l])}};e.fn.mjsLoadImg=function(l){var g=this.filter("img"),k=g.length,i=0;var j=function(){i++;if(i==k){l(i)}};return(typeof l=="function")?g.each(function(){if(e(this).is("img")){if(this.complete){j()}else{e(this).load(j).error(j);this.src=this.src}}}):this};MotoJS.tools.strToInt=function(g){return parseInt(g,10)|0};MotoJS.tools.stripTags=function(g,j){j=(((j||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");var i=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,k=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi;return g.replace(k,"").replace(i,function(m,l){return j.indexOf("<"+l.toLowerCase()+">")>-1?m:""})}}(jQuery));(function(b){var a=0;MotoJS.ui={};MotoJS.ui.Grid=function(g){var d,e=[],c=false;g=g||{};var i=function(j){if(e.length==0){return false}if(!c){c=true;e.find("ul").stop().animate({left:j},800,function(){c=false})}};this.rows=parseInt(g.rows,10)||3;this.cols=parseInt(g.cols,10)||3;this.numItems=parseInt(g.numItems,10)||0;d=parseInt(this.numItems/this.rows)-this.cols;if(this.numItems%this.rows!=0){d++}this.render=function(j){e=j;if(e.length==0){return false}var k=e.find("ul"),l=e.find("ul li");l.height((k.height()-15)/this.rows);l.width(Math.ceil(e.width()/this.cols));k.width(Math.ceil(this.numItems/this.rows)*Math.ceil(e.width()/this.cols))};this.renderGridContainer=function(j){e=j;if(e.length==0){return false}var k=e.find("ul"),m=e.find("ul li"),l;m.height(e.height()/this.rows);m.width(Math.ceil(e.width()/this.cols));k.width(Math.ceil(this.numItems/this.rows)*Math.ceil(e.width()/this.cols))};this.scrollLeft=function(){if(e.length==0){return false}var j=parseInt(e.find("ul").css("left"))||0;if(j<0){i(j+e.find("ul li").width())}};this.scrollRight=function(){if(e.length==0){return false}var j=parseInt(e.find("ul").css("left"))||0;if((j+e.find("ul").width()-Math.ceil(this.numItems/this.rows))>e.width()){i(j-(e.find("ul li").width()))}};this.bindClickAction=function(j){if(e.length==0){return false}if(typeof j=="function"){e.find("ul li a").on("click",j)}}};MotoJS.ui.ImageThumbnails=function(){var E={delimiter:5,arrows:{prev:"",prevHover:"",next:"",nextHover:"",size:0,jumpToFirst:true},items:{styleVO:"",styleVOHover:"",hoverAnimationDuration:500,opacity:1,hoverOpacity:1},zoom:{enlargeImageOffset:10},orientation:"horizontal",followMouse:false,clickAction:false,enableActiveItem:false,onAfterInit:null},w=false,P={},k=this,d=b(),J=b(),e=b(),x=b(),G=b(),l=b(),i=b(),R=0,n=0,K=false,s,g;var I=function(V){V=V||{};if(typeof V!="object"){return}b.extend(true,P,E,V);if(P.zoom===true){P.zoom=E.zoom}if(!in_array(P.orientation,["vertical","horizontal"])){P.orientation="horizontal"}P.delimiter=MotoJS.tools.strToInt(P.delimiter);P.items.hoverAnimationDuration=MotoJS.tools.strToInt(P.items.hoverAnimationDuration);P.arrows.size=MotoJS.tools.strToInt(P.arrows.size)};var C=function(){if(!d.find(".mjs-thumbnailsComponent-frame").length){x=b("<div />");x.addClass("mjs-thumbnailsComponent-frame");J.wrap(x);x=d.find(".mjs-thumbnailsComponent-frame")}s=MotoJS.events.subscribe("onResize",function(){if(!d.data("mjs-thumbnailsComponent")||d.data("mjs-thumbnails-uniqueId")!=g){MotoJS.events.unsubscribe("onResize",s)}else{setTimeout(k.reconfigure,1)}});return true};var q=function(){var W=0,X=b("<li />").addClass("mjs-thumbnailsComponent-delimiter");if(k.isVertical()){X.height(P.delimiter);X.width(x.width())}else{X.width(P.delimiter);X.height(x.height())}var V=function(){return k.isVertical()?this.height():this.width()};J.find("li").each(function(){var Y=b(this).find("img");m(Y);R+=V.call(Y)+P.delimiter});J.find("li:not(:last)").after(X);R-=P.delimiter;k.isVertical()?J.height(R):J.width(R)};var p=function(){i=e.find(" > a");if(!i.length){e.find("img").wrap('<a href="#" />');i=e.find("a")}if(!i.hasClass("mjs-thumbnailsComponent-link")){i.addClass("mjs-thumbnailsComponent-link")}};var U=function(){O();if(typeof P.arrows!="object"||P.followMouse||R<=n){D();return}if(K&&G.add(l).is(":hidden")){u();return}var X=P.arrows.size,W=k.isVertical(),V,aa,Y,Z;G=b('<a href="#" />');l=b('<a href="#" />');d.find(".mjs-thumbnailsComponent-prev, .mjs-thumbnailsComponent-next").remove();G.addClass("mjs-thumbnailsComponent-prev");l.addClass("mjs-thumbnailsComponent-next");(function(ab){var ae=ab?"top":"left",ad=ab?"bottom":"right",ac={};ac[ae]=X+"px";ac[ad]=X+"px";x.css(ac);ab?G.height(X):G.width(X);ab?l.height(X):l.width(X)})(W);Y=G.attr("style");V=l.attr("style");A(G,P.arrows.prev);A(l,P.arrows.next);G.hover(function(){b(this).attr("style",P.arrows.prevHover+Y)},function(){b(this).attr("style",P.arrows.prev+Y)});l.hover(function(){b(this).attr("style",P.arrows.nextHover+V)},function(){b(this).attr("style",P.arrows.next+V)});d.append(G);d.append(l);r();K=true};var D=function(){var V={};if(!K){return}V[k.isVertical()?"top":"left"]="0px";V[k.isVertical()?"bottom":"right"]="0px";G.add(l).hide();x.css(V);t(0)};var u=function(){var V={};if(!K){return}V[k.isVertical()?"top":"left"]=P.arrows.size;V[k.isVertical()?"bottom":"right"]=P.arrows.size;G.add(l).show();x.css(V)};var c=function(){if(!P.followMouse||K){return}var ab=b.isPlainObject(P.followMouse)?(parseInt(P.followMouse.duration)||1000):1000,Z,V,X=false,aa=k.isVertical()?"top":"left",ac={},Y=R/i.length;x.off("dragstart.mjsThumbnails").on("dragstart.mjsThumbnails",function(ad){var ae=ad.originalEvent.targetTouches[0];Z=k.isVertical()?ae.pageY:ae.pageX;V=T()});x.off("drag.mjsThumbnails").on("drag.mjsThumbnails",function(af){af.preventDefault();var ah=af.originalEvent.targetTouches[0],ad=k.isVertical()?ah.pageY:ah.pageX,ae,ag={};ae=V-(Z-ad);if(ae>0||Math.abs(ae)>(R-n)){return}ac[aa]=ae+"px";J.css(ac);Z=ad;V=ae});if(MotoJS.tools.isApple()){return}var W=function(ad){var af=ad-x.offset()[aa]||1,ae;af=af<Y/2?0:af;af=af>n-Y/2?n:af;ae=R*af/n;ac[aa]=af>ae?ae-af:af-ae;J.stop().animate(ac,{duration:ab,easing:"linear"})};x.off("mousemove.mjsThumbnails").on("mousemove.mjsThumbnails",function(ae){var ad=k.isVertical()?b(this).height():b(this).width();if(ad<R&&!X){W(k.isVertical()?ae.pageY:ae.pageX)}X=true;setTimeout(function(){X=false},20)})};var A=function(W,X){var Y=b(W),V=b.trim(b(W).attr("style"))||"";if(V.charAt(V.length-1)!=";"){V+=";"}b(W).attr("style",V+X)};var Q=function(){return MotoJS.tools.isIE()<9};var S=function(W,V){var V=parseInt(V,10);try{W.filters.item("DXImageTransform.Microsoft.Alpha").enabled=true;W.filters.item("DXImageTransform.Microsoft.Alpha").opacity=V;return}catch(X){}try{W.style.filter+="progid:DXImageTransform.Microsoft.Alpha(opacity="+V+")"}catch(X){}};var H=function(V){try{V.filters.item("DXImageTransform.Microsoft.Alpha").enabled=false}catch(W){}};var j=function(){i.each(function(){var W,V;W=b(this).find("img");V=b(this).find(".mjs-thumbnailsComponent-styleVO");if(!V.length){V=b('<span class="mjs-thumbnailsComponent-styleVO" />');b(this).append(V)}A(V,P.items.styleVO);if(!Q()){V.css("opacity",P.items.opacity)}if(!W.length){return true}b(this).parent().width(W.width());b(this).parent().height(W.height())})};var o=function(Z){var V=n,X=b(this).is(l),Y=Math.abs(T()),aa;if(w){return}w=true;Z.preventDefault();var W=function(ai,aj,ae,ab,ag){var ac=[],ah=false,ak,af=ai;ag?(ai+=aj):(ai-=aj);e.each(function(al){ac[al]=b(this).position()[ab?"top":"left"]});ag||ac.reverse();for(var ad=0;ad<ac.length;ad++){if(!ac[ad+1]){break}if(ac[ad]<=ai&&ac[ag?ad+1:ad-1]>ai&&!(ai+aj>ae||ai<0)){ah=ag?ac[ad]:ac[ad-1];ak=ag?ac[ad+1]:ac[ad];break}}if(ah==af){ah=ak}return ah};aa=W(Y,V,R,k.isVertical(),X);if(!b.isNumeric(aa)){aa=X?(R-V):0;if(aa==Y&&P.arrows.jumpToFirst){aa=0}}t(aa)};var t=function(W){var V={};if(b.isNumeric(W)){V[k.isVertical()?"top":"left"]=-W+"px";J.stop().animate(V,500,function(){w=false})}};var T=function(){var V=parseInt(J.css(k.isVertical()?"top":"left"),10);return isNaN(V)?0:V};var r=function(){b(G).add(l).on("click",o)};var z=function(){if(k.isVertical()){return}e.each(function(){b(this).css("margin-top",(-b(this).height()/2)+"px")})};var M=function(Y){if(b(this).hasClass("active")){return}var Y=!!Y,af=b(this).find(".mjs-thumbnailsComponent-activeStyleVO"),X=P.items.hoverAnimationDuration,aa=P.items.hoverOpacity,ag=P.zoom,V=b(this).find("img"),ac,ad=V.data("mjs-imageLeftOffset")!==undefined?V.data("mjs-imageLeftOffset"):V.position().left,ab=V.data("mjs-imageTopOffset")!==undefined?V.data("mjs-imageTopOffset"):V.position().top,W=V.data("mjs-initImgW")!==undefined?V.data("mjs-initImgW"):V.width(),ae=V.data("mjs-initImgH")!==undefined?V.data("mjs-initImgH"):V.height(),Z=b(this).find(".mjs-thumbnailsComponent-styleVO");if(Y){if(Q()){H(af[0]);S(Z[0],0)}else{Z.stop().animate({opacity:0},P.items.hoverAnimationDuration);af.stop().animate({opacity:aa},X)}if(typeof ag=="object"){ac=ag.enlargeImageOffset||0;V.stop().animate({left:ad-ac+"px",top:ab-ac+"px",width:W+2*ac+"px",height:ae+2*ac+"px"},X)}V.data("mjs-imageLeftOffset",ad);V.data("mjs-imageTopOffset",ab);V.data("mjs-initImgW",W);V.data("mjs-initImgH",ae)}else{if(Q()){S(af[0],0);H(Z[0])}else{af.stop().animate({opacity:0},X);Z.stop().animate({opacity:P.items.opacity},P.items.hoverAnimationDuration)}typeof ag=="object"&&V.stop().animate({left:ad+"px",top:ab+"px",width:W+"px",height:ae+"px"},X)}};var B={$activeItem:b(),setActiveItem:function(V){if(!V.is("a.mjs-thumbnailsComponent-link")){return}V=b(V);if(P.followMouse||!P.enableActiveItem||!V.length){return}M.call(V,true);this.$activeItem=V;this.$activeItem.addClass("active");this.moveThumbsToActive()},removeActiveItem:function(){if(this.$activeItem.length&&this.$activeItem.hasClass("active")&&P.enableActiveItem){this.$activeItem.removeClass("active");M.call(this.$activeItem,false)}},moveThumbsToActive:function(){if(!this.$activeItem.length){return}var V=this.$activeItem.parent(),X=V.position()[k.isVertical()?"top":"left"];if(R<=n){return}var W=function(){var Y=T();return Y>0||Math.abs(Y)+n>R};if(v(V)&&!W()){return}if(X+n>R){X=R-n}t(X)},initActiveItemsStyleVO:function(){i.each(function(){var V=b(this).find(".mjs-thumbnailsComponent-activeStyleVO");if(!V.length){V=b('<span class="mjs-thumbnailsComponent-activeStyleVO" />');b(this).append(V)}A(V,P.items.styleVOHover);if(Q()){S(V[0],0)}b(this).bind("mouseenter mouseleave",function(W){M.call(this,W.type=="mouseenter")})})}};var N=function(){if(G.add(l).is(":hidden")||!G.add(l).length){y();return}B.moveThumbsToActive()};var y=function(){if(R<=n){t(-(n-R)/2)}};var v=function(W){var X,Z,V,Y;W=W||b();if(!W.is("li")){return}X=W[k.isVertical()?"height":"width"]();Z=W.offset()[k.isVertical()?"top":"left"];V=x.offset()[k.isVertical()?"top":"left"];Y={left:V,right:V+n};return Z>=Y.left&&Z+X<=Y.right};var m=function(W){var X=b(W),Y,Z=k.isVertical()?d.width():10000,V=k.isVertical()?10000:d.height();if(!X.is("img")){return null}Y=scaleSize(X.width(),X.height(),Z,V,false,true);X.width(Y[0]);X.height(Y[1]);return X};var L=function(){d.css("opacity","0")};var F=function(){d.css("opacity","1")};var O=function(){n=x[k.isVertical()?"height":"width"]()};this.isVertical=function(){return P.orientation=="vertical"};this.setActiveItem=function(V){if(P.enableActiveItem&&!P.followMouse&&P.arrows){B.removeActiveItem();B.setActiveItem(b.isNumeric(V)?i.eq(V||0):b(V))}};this.onItemClick=function(V){if(typeof V=="function"){p();i.off("click.mjsThumbnails").on("click.mjsThumbnails",function(W){W.preventDefault();V.call(this,i.index(this))});return true}};this.init=function(X,V){try{I(V);d=b(X);if(!d.length){return}J=d.find("ul");e=d.find("ul > li");e.addClass("mjs-thumbnailsComponent-item");if(!(J.length&&e.length)){throw new Error("Image list not specified")}if(!d.hasClass("mjs-thumbnailsComponent")){d.addClass("mjs-thumbnailsComponent")}g=Math.random().toString(36).substr(2,9);d.data("mjs-thumbnails-uniqueId",g);L();d.find("ul li img").mjsLoadImg(function(){C();q();p();B.initActiveItemsStyleVO();j();U();c();O();k.isVertical()?d.addClass("mjs-thumbnailsComponent-vertical"):d.addClass("mjs-thumbnailsComponent-horizontal");z();y();k.onItemClick(P.clickAction);if(P.enableActiveItem){B.setActiveItem(i.eq(P.activeItemNumber||0))}b.isFunction(P.onAfterInit)&&P.onAfterInit();F()});return this}catch(W){log(W.message+" :: ThumbnailsComponent")}};this.reconfigure=function(){U();O();N()}};b.fn.mjsThumbnails=function(d){var c=this.selector;if(!b(this).length){return}return this.each(function(){if(!b.data(this,"mjs-thumbnailsComponent")){b.data(this,"mjs-thumbnailsComponent",new MotoJS.ui.ImageThumbnails().init(this,d))}})};MotoJS.ui.controls={};MotoJS.ui.controls.Paginator=function(i){var c,g=b(i.linkItems),d=i.activeClassName||"",e=this;this.activeNum=i.activeNum||0;i=i||{};c=g.length;if(c==0){return this}g.eq(e.activeNum).addClass(d);if(i.onClick&&typeof i.onClick=="function"){g.off("click");g.on("click",function(k,j){k.preventDefault();i.onClick.call(this,k)})}this.setActiveItem=function(j){g.eq(e.activeNum).removeClass(d);e.activeNum=j;g.eq(j).addClass(d)}};MotoJS.ui.controls.Arrows=function(e){var j=this,k=false,l=function(){},d=++a,c="mousemove.arrows"+d,g="mouseleave.arrows"+d;e=e||{};e=b.extend(true,{left:{$:b(),handler:null},right:{$:b(),handler:null},$parent:b(window)},e);b.extend(j,e);var i=function(n){this.$.css("visibility",n?"visible":"hidden")};this.left.toggle=i;this.right.toggle=i;var m=function(){if(k){return}var n=function(y){var x=j.$parent[0]===window,E=x?(MotoJS.tools.isIE()?document.documentElement.clientWidth:window.innerWidth):j.$parent.width(),A=(x?0:j.$parent.position().top),B=A+j.$parent.height(),w=(x?0:j.$parent.position().left),z=w+E,D=parseInt(E/3,10),s=w,p=s+D,v=z-D,u=z,t=y.pageX||(MotoJS.tools.isIE()&&window.screenLeft),r=y.pageY||(MotoJS.tools.isIE()&&window.screenTop),q=false,C=false;if(r>=A&&r<=B&&t>=w&&t<=z){if(t>=s&&t<=p){q=true}else{if(t>=v&&t<=u){C=true}}}j.left.toggle(q);j.right.toggle(C)};var o=function(p){j.left.toggle(false);j.right.toggle(false)};l=function(){if(!k){return}j.left.toggle(false);j.right.toggle(false);b(document).off(c);b(document).off(g);k=false};b(document).on(c,n);b(document).on(g,o);k=true};this.toggleButtonMode=function(n,o){if(MotoJS.tools.isTouchDevice()&&n!="never"){n="always"}switch(n){case"never":break;case"onlyHover":o?m():l();break;case"always":default:j.left.toggle(o);j.right.toggle(o);break}};this.bindArrowClickAction=function(o,n){if(typeof o=="function"){j.left.$.off("click");j.left.$.on("click",o)}if(typeof n=="function"){j.right.$.off("click");j.right.$.on("click",n)}};this.bindArrowClickAction(j.left.handler,j.right.handler)};MotoJS.ui.controls.TextBlock=function(c){c=c||{};c=b.extend(true,{$:b(),text:""},c);this.$=c.$;this.setText=function(d,k){var i,g;try{i=b.trim(MotoJS.tools.stripTags(d))}catch(j){i=""}g=!!i.replace("&nbsp;","").length;if(g){c.text=d;c.$.html(d);c.$.css("visibility","visible")}else{c.$.css("visibility","hidden");c.$.html("")}b.isFunction(k)&&k();return g}}})(jQuery);(function(a){MotoJS.widgets=(function(){var c={},e="#mjs-widget_",j=".mjs-widget-content",d=".mjs-widget";function l(q,p){if(!q||typeof p!="function"){return null}this.className=q;this.construct=p;this.parent=this.construct.prototype;this.callParentFunc=function(r,s,t){var t=t||[];if(this.parent[s]){this.parent[s].apply(r,t)}}}function k(){var p=this.id="";this.properties={};this.parentClass=k;this.hideAnimationComplete;this.showAnimationComplete;this.me=function(q){var r=e+this.id+" > "+j;return q?a(r).find(q):a(r)};this.applyOpacity=function(){var q=this.hasOwnProperty("alpha")?this.alpha:1;this.getDomObj().css("opacity",parseFloat(q))};this.hide=function(r){var q={},r=r||{},s;s=MotoJS.animation.hide(e+this.id,r);a.isFunction(this.hideAnimationComplete)&&a.when(s).then(this.hideAnimationComplete);return s};this.show=function(s){var r={},s=s||{},t,q=this;r.opacity=this.alpha||"0";if(s.animationShow){r.animationShow=s.animationShow}if(s.duration){r.duration=s.duration}t=MotoJS.animation.show(e+this.id,r);a.isFunction(this.showAnimationComplete)&&a.when(t).then(this.showAnimationComplete);return t};this.getDomObj=function(){return a(e+this.id)};this.getProperty=function(q){return this.properties[q]};this.getPropertyValue=function(s){var r=this.getProperty(s),q;if(a.isPlainObject(r)){q=r.value}return q};this.applyDefaults=function(q){if(a.isPlainObject(q)){this.properties=a.extend(true,q,this.properties)}};this._exec=function(){};this._destruct=function(){}}var m=function(q,r,p){a.extend(r.prototype,new k());c[q]=r;p&&i(q,p)};var n=function(p){return c[p]||null};var g=function(r){var q,s,p,u;q=n(r);if(q){try{s=new q(new l(r,q));if(q.ext){for(u in q.ext){s[u]=q.ext[u]}}}catch(t){log("Error while instantiating widget. "+t.message,t.lineNumber)}return s}else{return new k()}};var i=function(p,t){if(p==t){return}var s=n(p);var r=n(t);if(s&&r&&s.superclass!=r.prototype){var q=s.prototype;s.prototype=a.extend(q,g(t));s.superclass=r.prototype}};var b=function(q,p){var r=n(q);r.ext=r.ext||{};a.extend(r.ext,p)};var o=function(q){var p=MotoJS.page.getHolderItemById(q);if(!p){p=MotoJS.website.getHolderItemById(q)}if(!p){p=MotoJS.layout.getHolderItemById(q)}if(!p){p=MotoJS.popup.getHolderItemById(q)}return(p&&p.widgetType=="module")?p:null};return{reg:m,extend:i,refact:b,create:g,getWidgetById:o,callWidgetMethod:function(p,s,r){var q;if(p&&(q=o(p))){s=q[s]||null;if(typeof s=="function"){return s.apply(q,r)}}return false},WidgetClass:k,classes:{}}})();MotoJS.widgets.reg("AbstractModule",function(){this.init=function(){var b=this}})})(jQuery);(function(a){MotoJS.animation=(function(){var i={},b=false,d={duration:500,opacity:1,animationShow:"fade",animationHide:"fade"},g={general:{}},j;var e=function(o){var n;return isNaN(n=parseInt(o))?d.duration:n};var k={fade:function(p){var n=this,p=p||{},q=parseInt(p.duration)||d.duration,o=parseFloat(p.opacity),r={};isNaN(q)&&(q=d.duration);isNaN(o)&&(o=d.opacity);if(o==1){r.opacity=""}if(MotoJS.tools.isIE()<9){q=0}return this.animate({opacity:o},q,function(){n.css(r)}).promise()},flyLeft:function(u){var x=this,r=x.position(),u=u||{},q=parseInt(u.duration)||d.duration,s=parseFloat(u.opacity),w=x.outerWidth(),o=a(window).width(),p={left:x.css("left"),right:x.css("right")},t={},n={},v=a("#mjs-main").offset().left;isNaN(q)&&(q=d.duration);isNaN(s)&&(s=d.opacity);if(s==1){s=""}v=v<0?0:v;n.left=-v-w;n.opacity=s;t.left=r.left;if(p.right!="auto"){n.right=o-v;t.right=MotoJS.tools.strToInt(p.right)}this.css(n);return this.animate(t,q,j,function(){x.css(p)}).promise()},flyRight:function(u){var x=this,r=x.position(),u=u||{},q=parseInt(u.duration)||d.duration,s=parseFloat(u.opacity),o=a(window).width(),w=x.outerWidth(),p={left:x.css("left"),right:x.css("right")},t={},n={},v=a("#mjs-main").offset().left;isNaN(q)&&(q=d.duration);isNaN(s)&&(s=d.opacity);if(s==1){s=""}v=v<0?0:v;n.left=o-v;n.opacity=s;t.left=r.left;if(p.right!="auto"){n.right=-v-w;t.right=MotoJS.tools.strToInt(p.right)}this.css(n);return this.animate(t,q,j,function(){x.css(p)}).promise()},resize:function(s){var p=this,r=this.width(),o=this.height(),n=this.position(),s=s||{},t=parseInt(s.duration)||d.duration,q=parseFloat(s.opacity),u={left:p.css("left"),top:p.css("top")};isNaN(t)&&(t=d.duration);isNaN(q)&&(q=d.opacity);if(q==1){q=""}this.css({width:0,height:0,opacity:q,left:n.left+r/2,top:n.top+o/2});return this.animate({width:r,height:o,left:n.left,top:n.top},t,j,function(){p.css(u)}).promise()},scrollUp:function(r){var p=this,o=this.height(),n=this.position(),r=r||{},s=parseInt(r.duration)||d.duration,q=parseFloat(r.opacity),t={top:p.css("top")};isNaN(s)&&(s=d.duration);isNaN(q)&&(q=d.opacity);if(q==1){q=""}this.css({height:0,opacity:q,top:n.top+o});return this.animate({height:o,top:n.top},s,j,function(){p.css(t)}).promise()},scrollDown:function(q){var o=this,n=this.height(),q=q||{},r=parseInt(q.duration)||d.duration,p=parseFloat(q.opacity),s={};isNaN(r)&&(r=d.duration);isNaN(p)&&(p=d.opacity);if(p==1){p=""}this.css({height:0,opacity:p});return this.animate({height:n},r,j,function(){o.css(s)}).promise()}};g.show=k;var m={fade:function(n){var n=n||{},o=parseInt(n.duration)||d.duration;return this.animate({opacity:0},o).promise()},resize:function(r){var q=this.width(),o=this.height(),n=this.position(),r=r||{},s=parseInt(r.duration)||d.duration,p=this;return this.animate({width:0,height:0,left:n.left+q/2,top:n.top+o/2},{duration:s,easing:j,complete:function(){p.css("overflow","hidden")}}).promise()},flyLeft:function(q){var q=q||{},s=parseInt(q.duration)||d.duration,n=this.position(),r=this.width(),t=this.offset(),o=this,p=a(window).width();return this.animate({left:-(p-t.left)},{duration:s,easing:j,complete:function(){o.css("overflow","hidden")}}).promise()},flyRight:function(q){var q=q||{},r=parseInt(q.duration)||d.duration,p=a(window).width(),n=this.position(),s=this.offset(),o=this;return this.animate({left:(p-s.left+2*n.left)},{duration:r,easing:j,complete:function(){o.css("overflow","hidden")}}).promise()},scrollUp:function(q){var o=this.height(),n=this.position(),q=q||{},r=parseInt(q.duration)||d.duration,p=this;return this.animate({height:0},{duration:r,easing:j,complete:function(){p.css("overflow","hidden")}}).promise()},scrollDown:function(q){var o=this.height(),n=this.position(),q=q||{},r=parseInt(q.duration)||d.duration,p=this;return this.animate({height:0,top:n.top+o},{duration:r,easing:j,complete:function(){p.css("overflow","hidden")}}).promise()}};g.hide=m;function c(n){this.selector=n;this._in=g.show[d.animationShow];this._out=g.hide[d.animationHide];this.show=function(o){var p;if(!a(this.selector).length){return true}p=this._in.call(a(this.selector),o);if(!p||typeof p.done!="function"){a(this.selector).css({opacity:1});return true}return p};this.hide=function(o){var p;if(!a(this.selector).length){return true}p=this._out.call(a(this.selector),o);if(!p||typeof p.done!="function"){a(this.selector).css({opacity:0});return true}return p};this.setShowHandler=function(o){(typeof o=="function")&&(this._in=o)};this.setHideHandler=function(o){(typeof o=="function")&&(this._out=o)}}var l=function(o,p){var n;if(o&&i[o]){n=i[o];n.constructor==Array&&n.push(p)}};return{hide:function(p,q){var s,n;try{s=new c(p);if(q&&q.animationHide){s.setHideHandler(m[q.animationHide])}n=s.hide(q);q.queueName&&l(q.queueName,n);return n}catch(r){throw new Error("Hide animation error. Details - "+r.message)}},show:function(p,q){var s,n;try{s=new c(p);if(q&&q.animationShow){s.setShowHandler(k[q.animationShow])}n=s.show(q);q.queueName&&l(q.queueName,n);return n}catch(r){throw new Error("Show animation error. Details - "+r.message)}},waitForAnimationComplete:function(s){var p=a.Deferred(),q=0,t,o,n;var r=function(){q++;if(t==q){p.resolve()}};if(i.hasOwnProperty(s)&&i[s].constructor==Array&&i[s].length>0){n=i[s];t=n.length;a.each(n,function(u,v){if(a.isPlainObject(v)&&a.isFunction(v.done)){v.done(r)}else{if(v){r()}}});o=p.promise()}else{o=p.resolve()}return o},openQueue:function(n){if(!i.hasOwnProperty(n)){i[n]=[];return true}return false},closeQueue:function(n){if(i.hasOwnProperty(n)){delete i[n]}},addToLibrary:function(n,q,p){var n=n||null,q=q||"general",p=(typeof p=="function")?p:null,o;if(!(n&&p)){return false}switch(q){case"show":g.show[n]=p;break;case"hide":g.hide[n]=p;break;default:if(q=="general"){g.general[n]=p}else{o={};o[n]=p;g[q]=o}break}return true},getEffectHandler:function(n,p){var n=n||null,p=p||"general",o;if(in_array(p,["show","hide","general"])){o=g[p][n]||null}else{o=g[p]?g[p][n]:null}return o},setDefaultAnimationParams:function(n){var n=n||{};if(n.duration){n.duration=parseInt(n.duration,10);if(isNaN(n.duration)){n.duration=0}d.duration=n.duration}if(n.animationHide){d.animationHide=n.animationHide}if(n.animationShow){d.animationShow=n.animationShow}}}})()})(jQuery);(function(a){MotoJS.backgroundImage=(function(){var e,x="#mjs-background",w="#mjs-bg-preloader",j="#mjs-background-prev",k="#mjs-background-next",l=true,o,z,q,m,n=false,v,r=false,c={opacity:1,duration:500};var y=function(D){if(D=="never"){return}q=new MotoJS.ui.controls.Arrows({left:{$:a(j),handler:C},right:{$:a(k),handler:C}})};var C=function(){var D=s.get(),F={url:""},E=a(this).is(j)?"prev":"next";if(D&&!n){var G=D(E=="next"?1:-1,true);if(typeof G=="object"){a.extend(true,F,G)}d(F.url)}};var t={initialized:false,init:function(){if(MotoJS.website.properties.preloader.image!=""){var D=this,E=a("<img />").hide();E.each(function(){if(this.complete){a(this).trigger("load")}}).on("load",function(){D.width=a(this).width();D.height=a(this).height();a(w).width(D.width);a(w).height(D.height);a(w).hide();a(this).show();D.locate()});a(w).append(E);E.attr("src",MotoJS.content.getFullUrl(MotoJS.website.properties.preloader.image));this.initialized=true}},locate:function(){if(!this.initialized){return}var E=MotoJS.website.properties.preloader,D=parseInt(this.height/2,10),G=parseInt(this.width/2,10),F={};a.each(E.margin,function(I,H){F[I]=H+"px"});switch(E.verticalAlign){case"top":a(w).css("top",F.top);break;case"middle":a(w).css("top","50%");a(w).css("margin-top",(-D+E.margin.top-E.margin.bottom)+"px");break;case"bottom":a(w).css("bottom",F.bottom);break}switch(E.horizontalAlign){case"left":a(w).css("left",F.left);break;case"center":a(w).css("left","50%");a(w).css("margin-left",(-G+E.margin.left-E.margin.right)+"px");break;case"right":a(w).css("right",F.right);break}},width:0,height:0,start:function(){if(this.initialized){a(w).show()}},stop:function(){if(this.initialized){a(w).hide()}}};var p=function(){var G=s.getList(),F,E,D;if(Object.size(G.providers)+Object.size(G.single)>0||!r){return}F=a(x);E=F.find("#mjs-background-image1, #mjs-background-image2");D=MotoJS.animation.getEffectHandler("fade","hide");return D.call(E,c).then(function(){F.hide();E.empty();E.css("opacity","1");r=false}).promise()};var d=function(I,K){var E='<img src="" />',J,F,D,G;if(n){return false}a(x).show();r=true;J=MotoJS.animation.getEffectHandler("fade","hide");F=MotoJS.animation.getEffectHandler("fade","show");D=a(x).find("#mjs-background-image1");G=a(x).find("#mjs-background-image2");t.start();n=true;v=a.Deferred();var H=function(){var L=G.find("img").get(0);D.attr("style",o);D.html(L);G.attr("style",z);n=false;v.resolve()};MotoJS.tools.loadImages(MotoJS.content.getFullUrl(I),function(M){var L=M.shift();a(L).css("opacity","0");G.html(a(L));g(L);G.hide();a(L).css("opacity","1");t.stop();G.fadeIn(1000,H)});s.setId(K);return v};var g=function(D){var F=a(D),E=a(window).width(),H=a(window).height();if(F.length==0){return}MotoJS.FB.activated&&(H=a("#mjs-website").height());var G=MotoJS.tools.adjustImage("fill",{w:D.width,h:D.height},{w:E,h:H,valign:"top",halign:"center"});MotoJS.tools.applyAdjustments(F,G)};var i=function(D){q&&q.toggleButtonMode(m,!D)};var s=new MotoJS.tools.ImageProvider({onProviderActivate:i,onLastProviderRemove:function(){q&&q.toggleButtonMode(m,false)}});var b=function(F,D,E){s.add(F,D,E)};var B=function(D){s.remove(D)};var A=function(){return{animationInProgress:n,deferred:v}};var u=function(){try{t.init();m=MotoJS.website.properties.buttonsMode;y(m);o=a(x).find("#mjs-background-image1").attr("style")||"";z=a(x).find("#mjs-background-image2").attr("style")||"";MotoJS.events.subscribe("onResize",function(){g(a(x).find("#mjs-background-image1 img")[0])});a(x).show();return{setBackground:d,removeBackground:p,addProvider:b,removeProvider:B,getCurrentAnimationState:A}}catch(D){log("Error while background gallery init. Details - "+D.message)}};return{getInstance:function(){if(!e){e=u()}return e}}})()})(jQuery);(function(a){MotoJS.ui=MotoJS.ui||{};MotoJS.ui.Lightbox=function(){var C=false,o,V=0,ae=0,J=0,R=0,U=0,l=false,ad,q,z,W,r,t,D=true;var L="//www.youtube.com/embed/{id}?autoplay=1";var c=5;var i={lightboxFitFill:"fit",lightboxThumbnailsShow:"hidden",lightboxThumbnailsHeight:50,lightboxThumbButtonWidth:40,"lightboxThumbShowButtonImage.image.parameters.height":c,lightboxThumbShowButtonImage:"",lightboxThumbPrevButtonImage:"",lightboxThumbNextButtonImage:"",lightboxActiveThumbnail:"",lightboxCloseButtonImage:"",lightboxCloseButtonImageHover:"",lightboxBackgroundAlpha:"",lightboxPreloader:"",lightboxCloseButtonShow:false,fillAnimation:"fade",fitAnimation:"fade"};var d=new MotoJS.tools.ImageProvider(),b=false,g=false,Q,O,ab="#cboxPrevious",w="#cboxNext",m="#colorbox",k="#cboxTitle",Z="#cboxThumb",aa="#cboxClose",X="onlyHover",S={$:false,width:0,height:0,url:"",type:"image",source:"youtube"},P={transition:"fade",speed:500,maxWidth:"95%",maxHeight:"95%",current:false,open:false,slideshow:true,slideshowAuto:false,slideshowSpeed:2000,returnFocus:false,previous:"",next:"",close:"",slideshowStart:"",slideshowStop:"",thumbnailsHeight:0,single:false},K={onOpen:{},onClose:{},onComplete:{},onLoad:{},onCleanup:{}};var y=function(af){var ag;if(!i[af]){ag={}}if(!MotoJS.website.properties[af]){ag=i[af];return ag}if(!MotoJS.website.properties){throw new Error("Lightbox get properties error.");return ag}return MotoJS.website.properties[af]};var B=function(ag){var ak;if(!i[ag]){ak={}}else{ak=i[ag]}var af,al=ag.replace(/[^.]/g,"").length,ai=response.content.website.properties,aj=ai;var ah=function(ao,an){var am=an;aj=aj[ao];al=am.replace(/[^.]/g,"").length;af=an.split(".");if(al>0){if(aj){af.shift();am=af.join(".");return ah(af[0],am)}else{return ak}}else{if(aj){return aj}else{return ak}}};if(al>0){return ah(ag.split(".")[0],ag)}if(!response.content.website.properties){throw new Error("Lightbox get properties from responce error.")}if(!response.content.website.properties[ag]){ak=i[ag];return ak}};var G=function(){MotoJS.router.pushState(MotoJS.popup.getOpenedPopupUrl()||MotoJS.page.getUrl());MotoJS.events.dispatch("onLightboxClose",null,{include:V});g=false;MotoJS.FB.run("closeLightbox");MotoJS.events.unsubscribe("onResize",O);a("body").css("overflow","visible");a(m).removeClass("system");a(ab).toggle(true);a(w).toggle(true);Q.toggleButtonMode(X,false);a(Z).html("");a(Z).removeData("mjs-thumbnailsComponent");a(Z).removeClass("mjs-thumbnailsComponent");a(Z).removeClass("mjs-thumbnailsComponent-horizontal");ae=0;J=0;R=0;U=0;l=false};var E=function(){var af=d.get();V=d.getId();if(V<0){V=0}MotoJS.events.dispatch("onLightboxOpen",null,{include:V});MotoJS.FB.run("openLightbox");ad=y("lightboxFitFill");q=y("lightboxThumbnailsShow");z=y("lightboxThumbnailsHeight");W=y("lightboxThumbButtonWidth");r=y("lightboxThumbPrevButtonImage");t=y("lightboxThumbNextButtonImage");if(ad=="fill"){D=false}O=MotoJS.events.subscribe("onResize",function(){if(J!=0){s(J,ae,ad)}else{s(R,U,ad)}});a("body").css("overflow","hidden");g=true;a(m).addClass("system");n(false);af&&af(a.colorbox.element().data("item"));l=true;if(q=="visible"||q=="onhover"){a(Z).css({opacity:0});u()}if(R!=0){s(R,U,ad)}};var T=function(){if(R!=0){s(R,U,ad)}H()};var j={onOpen:E,onClosed:G,onComplete:T,onLoad:null,onCleanup:null};var n=function(af){Q.toggleButtonMode(X,af)};var A=function(ah,ai,af){af=af||false;if(g&&!af){return}Y();ai=ai||-1;d.setId(ai);(typeof ah=="string")&&(ah={url:ah});if(typeof ah=="object"&&ah.properties){ah={url:ah.properties.preview.value,width:ah.properties.preview.image.parameters.width,height:ah.properties.preview.image.parameters.height}}R=ah.height;U=ah.width;var ag=a.extend(true,{},P);S=a.extend(S,ah);switch(S.type){case"image":if(S.url.charAt(0)!="/"){S.url=MotoJS.content.getFullUrl(S.url)}a.colorbox(a.extend(ag,j,{href:S.url,html:false,iframe:false,slideshow:false,rel:false,innerWidth:0,innerHeight:0,single:true}));break;case"youtube":S.url=L.replace("{id}",S.url);a.colorbox(a.extend(ag,j,{href:S.url,slideshow:false,rel:false,iframe:true,innerWidth:425,innerHeight:344,single:true}));break}};var p=function(ai,ak,ap,aj){ap=ap||false;aj=aj||5000;C=true;V=ak;ad=y("lightboxFitFill");q=y("lightboxThumbnailsShow");z=y("lightboxThumbnailsHeight");W=y("lightboxThumbButtonWidth");r=y("lightboxThumbPrevButtonImage");t=y("lightboxThumbNextButtonImage");Y();var am=q=="onhover",ag=P,an=parseFloat(z),ah=parseFloat(W),ao="background:url("+MotoJS.website.basePath+r+") center center no-repeat;",af="background:url("+MotoJS.website.basePath+t+") center center no-repeat;",al=parseFloat(B("lightboxThumbShowButtonImage.image.parameters.height"))+c;H();ai.attr("rel","g"+ak).colorbox(a.extend(ag,j,{onComplete:function(){var aw=MotoJS.widgets.getWidgetById(V),av,ar=(aw.itemsMap&&aw.itemsMap[a(this).data("item")]?aw.itemsMap[a(this).data("item")].order-1:a(this).data("item")-1);a("#cboxLoadedContent").attr("data-item",a(this).data("item"));if(aw){var au=aw.itemsMap[a(this).data("item")];ae=au.properties.preview.image.parameters.width,J=au.properties.preview.image.parameters.height;var at,aq}a(k).html("");if(typeof au=="object"&&au.properties&&au.properties.description){at="<div>"+au.properties.description.value+"</div>";if(a.trim(a(at).text()).length>0){a(k).html(at)}}if(am){ao="background:url("+MotoJS.website.basePath+r+") center center no-repeat; margin-top :"+al+"px;";af="background:url("+MotoJS.website.basePath+t+") center center no-repeat; margin-top :"+al+"px;"}if(q=="visible"||am){a(Z).css("height",an+"px");if(!a(Z).data("mjs-thumbnailsComponent")){setTimeout(function(){a(Z).mjsThumbnails({arrows:{prev:ao,prevHover:ao,next:af,nextHover:af,size:ah},delimiter:c,zoom:"false",items:{styleVOHover:y("lightboxActiveThumbnail"),opacity:1},clickAction:I,enableActiveItem:true,activeItemNumber:ar})},1)}else{av=a(Z).data("mjs-thumbnailsComponent");av.setActiveItem(ar)}if(am){a("#cboxThumb, #cboxThumb .mjs-thumbnailsComponent-frame").css("height",(an)+parseFloat(al)+"px");a("#cboxThumb .mjs-thumbnailsComponent-frame").css("padding-top",al+"px");if(y("lightboxThumbShowButtonImage")!=""){a("#cboxThumb .mjs-thumbnailsComponent-frame").css("background","url("+MotoJS.website.basePath+y("lightboxThumbShowButtonImage")+") center top no-repeat")}a("#cboxThumb .cboxThumbBG").css({"margin-top":al-c+"px"})}else{a(Z).css("height",an+2*c+"px")}a("#cboxThumb .cboxThumbBG").css({height:an+2*c+"px"});a(Z).animate({opacity:1},2000,function(){});F()}if(J!=0){s(J,ae,ad,true)}else{s(R,U,ad)}n(true)}}))};var I=function(ah){if(a("#colorbox").hasClass("locked")){return}var ag=d.get(),af=a(Z).data("mjs-");if(typeof ag=="function"){ag(a(this).data("item"),false)}MotoJS.lightbox.openImage(a(this).data("item"))};var u=function(){if(!V){return}var ag=MotoJS.widgets.getWidgetById(V),ai=ag.data.items,ah="<div class='cboxThumbBG'></div>";ah=ah.concat("<ul>");for(var af in ai){if(ai.hasOwnProperty(af)&&ai[af].properties.thumbnail.value!=""){ah=ah.concat("<li><a data-item="+ai[af].id+" href="+MotoJS.website.basePath+ai[af].properties.preview.value+"><img src="+MotoJS.website.basePath+ai[af].properties.thumbnail.value+"></a></li>")}}ah=ah.concat("</ul>");a(Z).html(ah)};var s=function(ak,af,aj,ai){if(S.type=="youtube"){e(0.85,0.85)}else{if(aj=="fit"){e(0.95,0.95)}else{if(aj=="fill"){e(1,1)}}}try{var ah=MotoJS.tools.adjustImage(aj,{w:+af,h:+ak,respectMaxSize:D},{w:a("#cboxLoadedContent").width(),h:a("#cboxLoadedContent").height(),valign:"middle",halign:"center"})}catch(ag){log("adjustImage fill error")}a("#cboxLoadedContent .cboxPhoto").css(ah);if(!(ai)){a("#cboxLoadedContentPrev .cboxPhoto").css(ah)}};var e=function(ah,ag){var ai=a(window).height(),af=a(window).width();if(q=="visible"&&J!=0){ai=ai-parseFloat(z)}if(q=="visible"||q=="onhover"){a("#cboxThumb .mjs-thumbnailsComponent").css({width:af+"px"})}a("#colorbox").css({width:af*ah+"px",height:ai*ag+"px",left:"0",right:"0",top:(ai-ai*ag)/2+"px",bottom:"0",margin:"0 auto",position:"fixed"});a("#cboxWrapper, #cboxWrapper div:nth-child(2), #cboxContent, #cboxLoadedContent").css({width:"100%",height:"100%"});a("#cboxLoadedContent").css({position:"relative",overflow:"hidden"});a(".cboxPhoto").css({position:"absolute"})};var F=function(){if(q=="onhover"){if(l==true){a("#cboxThumb").css("bottom",-z-c+"px");l=false}a("#cboxThumb").hover(function(){a("#cboxThumb").stop();a("#cboxThumb").animate({bottom:c+"px"},600,function(){})},function(){a("#cboxThumb").stop();a("#cboxThumb").animate({bottom:-z-c+"px"},600,function(){})})}else{return}};var N=function(){if(q=="visible"||q=="onhover"){var af=a("#cboxLoadedContent").attr("data-item");a("#cboxThumb a.mjs-thumbnailsComponent-link").find("span.mjs-thumbnailsComponent-styleVO").attr("style","");a('#cboxThumb a.mjs-thumbnailsComponent-link[data-item="'+af+'"]').find("span.mjs-thumbnailsComponent-styleVO").attr("style",y("lightboxActiveThumbnail"))}};var H=function(){if(y("lightboxCloseButtonShow")=="true"){a("#cboxClose").css("background","url("+MotoJS.website.basePath+y("lightboxCloseButtonImage")+") no-repeat center center");if(y("lightboxCloseButtonImageHover")!=""){a("#cboxClose").mouseenter(function(){a("#cboxClose").css("background","url("+MotoJS.website.basePath+y("lightboxCloseButtonImageHover")+") no-repeat center center")});a("#cboxClose").mouseleave(function(){a("#cboxClose").css("background","url("+MotoJS.website.basePath+y("lightboxCloseButtonImage")+") no-repeat center center")})}}else{a("#cboxClose").hide()}};var x=function(ag){var af=d.get();if(typeof af=="function"&&!a("#colorbox").hasClass("locked")){if(ag=="picture"){af(1,true)}else{af(a(this).is(w)?1:-1,true)}}};var v=function(){Q=new MotoJS.ui.controls.Arrows({left:{$:a(ab),handler:x},right:{$:a(w),handler:x}})};var Y=function(){if(b){return}v();ad=y("lightboxFitFill");P.scale=ad;if((y("fitAnimation"))=="none"||(y("fitAnimation"))=="none"){P.transition="none"}if(y("lightboxPreloader")!=""){a("#cboxLoadingGraphic").css("background","url("+MotoJS.website.basePath+y("lightboxPreloader")+") no-repeat center center")}if(y("lightboxBackgroundAlpha")!=""){P.opacity=0.01*parseInt(y("lightboxBackgroundAlpha"))}if(q=="visible"){P.thumbnailsHeight=z-0;P.maxHeight=a(window).height()*0.95-z}a(document).on("click",m+".system .cboxPhoto",function(){if(!C){a.colorbox.close()}else{x("picture")}});b=true};var ac=function(af){if(a.isNumeric(af)&&g){a.colorbox.item(af);return true}return false};var M=function(){g&&a.colorbox.close()};return{openImage:ac,register:p,open:A,imageProvider:d,close:M,isOpen:function(){return g}}};MotoJS.lightbox=new MotoJS.ui.Lightbox()}(jQuery));(function(a){MotoJS.widgets.reg("BaseGalleryModule",function(){this.grid=null;this.initGrid=function(b){this.grid=new MotoJS.ui.Grid(b)};this.arrows=null;this.initArrows=function(b){this.arrows=new MotoJS.ui.controls.Arrows(b)};this.paginator=null;this.initPaginator=function(b){this.paginator=new MotoJS.ui.controls.Paginator(b)};this.descriptionBlock=null;this.initDescriptionBlock=function(b){this.descriptionBlock=new MotoJS.ui.controls.TextBlock(b)};this.slideshow=null;this.initSlideshow=function(b){b=b||{};this.slideshow={enabled:false,timerId:null,duration:b.duration||1000,handler:b.handler||null,start:function(){var c=this,d;c.enabled=true;if(typeof c.handler=="function"){d=function(){var e;if(!c.enabled){return}e=c.handler();a.when(e).then(function(){c.timerId=setTimeout(d,c.duration)})};c.timerId=setTimeout(d,c.duration)}},restart:function(){this.stop();this.start()},stop:function(){clearInterval(this.timerId);this.enabled=false}}};this.getItemsMap=function(c){var b={};for(var d in c){c[d].id&&(b[c[d].id]=c[d])}return b};this.galleryItems=null;this.initGalleryItems=function(){this.galleryItems={list:[],fill:function(b){if(b.constructor==Array){this.list=b}},currItemNumber:0,next:function(){this.currItemNumber=this.getNewNumber(1);return this.getCurrentItem()},prev:function(){this.currItemNumber=this.getNewNumber(-1);return this.getCurrentItem()},getItemByNum:function(b){return this.list[b]},go:function(c){var b;if(this.list[c]){this.currItemNumber=c;b=this.getCurrentItem()}return b},setCurrentItemNumberById:function(c){if(!c){return}var b=0;for(b;b<this.list.length;b++){if(this.list[b].id==c){this.currItemNumber=b;return this.list[b]}}},getItemById:function(c){if(!c){return}var b=0;for(b;b<this.list.length;b++){if(this.list[b].id==c){return this.list[b]}}return null},getCurrentItem:function(){if(this.getItemByNum(this.currItemNumber)){return this.getItemByNum(this.currItemNumber)}else{return 0}},getNewNumber:function(e){var d=this.currItemNumber,c=this.currItemNumber,b=this.list.length;if(e<0){e=Math.abs(e);d=c-e<0?b-((c+e)%b):c-e}else{if(e>0){d=c+e>=b?(((c+e)%b)-1):c+e;if(d<0){d=0}}}return d},getCount:function(){return this.list.length},}}})})(jQuery);(function(a){MotoJS.widgets.reg("BackgroundControlsModule",function(){var n,l;var i={prev:function(){return this.getBgImageLoaded("prev")},next:function(){return this.getBgImageLoaded("next")},getBgImageLoaded:function(r){var r=in_array(r,["prev","next"])?r:false,p,o;if(!r){return false}p=n.galleryItems[r]();try{o=MotoJS.backgroundImage.getInstance().setBackground(p.properties.preview.value,n.id)}catch(q){log("BackgroundControlsModule :: error while setting bg image. Details - "+q.message)}return o},goTo:function(o){var p=n.galleryItems.go(o);try{MotoJS.backgroundImage.getInstance().setBackground(p.properties.preview.value,n.id)}catch(q){}}};var e=function(){var o={properties:{controlsSelector:{value:"buttons"},enableSlideshow:{value:"false"},slideshowDuration:{value:"1000"}},data:{items:{}}};n.data=n.data||{};n.data.items=n.data.items||{};a.extend(true,o,n);n=o};var m=function(){n.properties.controlsSelector.value=="pagination"&&n.initPaginator({linkItems:n.me(".mjs-pagination li a"),activeNum:n.galleryItems.currItemNumber,activeClassName:"selected",onClick:j})};var k=function(){n.properties.controlsSelector.value=="buttons"&&n.initArrows({left:{$:n.me(".mjs-backgroundControls-prev"),handler:function(){b();i.prev()}},right:{$:n.me(".mjs-backgroundControls-next"),handler:function(){b();i.next()}}})};var j=function(){var o=parseInt(n.me(".mjs-pagination li a").index(this),10);if(n.paginator instanceof MotoJS.ui.controls.Paginator){if(n.paginator.activeNum==o){return}n.paginator.setActiveItem(o)}b();i.goTo(o)};var g=function(o){b();var p=(o>0)?n.galleryItems.next():n.galleryItems.prev();return p&&{url:p.properties.preview.value}};var c=function(o){b();var p=(o>0)?n.galleryItems.next():n.galleryItems.prev();if(n.paginator instanceof MotoJS.ui.controls.Paginator){n.paginator.setActiveItem(n.galleryItems.currItemNumber)}return p&&{url:p.properties.preview.value}};var d=function(o){n.initSlideshow({handler:function(){var p;var q=MotoJS.backgroundImage.getInstance().getCurrentAnimationState();if(q.animationInProgress){return q.deferred}p=i.next();if(n.paginator instanceof MotoJS.ui.controls.Paginator){n.paginator.setActiveItem(n.galleryItems.currItemNumber)}return p},duration:o});if(n.properties.enableSlideshow.value=="true"){n.slideshow.start()}};var b=function(){n.slideshow&&n.slideshow.enabled&&n.slideshow.restart()};this.init=function(){var o;n=this;e();n.initGalleryItems();n.galleryItems.fill(n.data.items);k();m();switch(n.properties.controlsSelector.value){case"none":case"buttons":o=g;break;case"pagination":o=c;break}try{MotoJS.backgroundImage.getInstance().addProvider(n.id,o,n.galleryItems.getCount()==1);MotoJS.backgroundImage.getInstance().setBackground(n.galleryItems.getCurrentItem().properties.preview.value,n.id)}catch(p){}d(n.properties.slideshowDuration.value)};this._destruct=function(){MotoJS.backgroundImage.getInstance().removeProvider(n.id);n.slideshow&&n.slideshow.stop()}},"BaseGalleryModule")})(jQuery);(function(a){MotoJS.widgets.reg("CarouselGalleryModule",function(){var b;var c=function(g){var j=b.properties,i=j[g+"Icon"].value?j[g+"Icon"].image.parameters.width:0,e=j[g+"Icon"].value?j[g+"Icon"].image.parameters.height:0;b.me(".mjs-"+g+", .mjs-"+g+">.controlsImage").css("width",i+"px");b.me(".mjs-"+g+" .controlsImage").css("height",e+"px")};var d=function(){b.me("li.roundabout-moveable-item > div").show();if(b.me("li.roundabout-in-focus > a").attr("data-action")!=""){b.me("li.roundabout-in-focus > div").hide()}};this.init=function(){b=this;var j=b.properties;try{b.initGalleryItems();b.galleryItems.fill(b.data.items)}catch(k){log("Carousel init failed!")}var i={shape:"square",maxScale:1,minScale:0.1,minOpacity:0.5,btnNext:b.me(".mjs-next .controlsImage"),btnPrev:b.me(".mjs-prev .controlsImage")};if(j.autoplay.value=="true"){i.autoplay=true;i.autoplayDuration=j.duration.value;i.autoplayPauseOnHover=true}try{b.me("ul").roundabout(i)}catch(k){log("roundabout init failed")}d();b.me("ul").bind("animationEnd",function(){d()});var g=(b.me().height()-b.me("ul li.roundabout-in-focus").height())/2;b.me("ul.roundabout-holder").css({"margin-top":g+"px"});try{b.itemsMap=b.getItemsMap(b.data.items)}catch(k){log("Get Items Map failed")}c("next");c("prev")};this._destruct=function(){b.me("ul").roundabout("stopAutoplay");MotoJS.backgroundImage.getInstance().removeProvider(b.id);MotoJS.lightbox.imageProvider.remove(b.id)}},"BaseGalleryModule")})(jQuery);(function(a){MotoJS.widgets.reg("ContactFormModule",function(){var e="id";var m;var i;var g;var s;var v=(document.createElement&&document.getElementsByTagName);var n=function(x,y){if(!y){y=""}return(m.data&&m.data.configuration&&m.data.configuration[x]?m.data.configuration[x]:y)};var o=function(A){l(n("formProcessingText"));var B=n("emailFromSource");var x=new RegExp("^[0-9]+$");if(x.test(B)){if(e=="id"){B=t("input_"+B).val()}else{var z;for(var y in m.data.items.formItems){z=m.data.items.formItems[y];if(parseInt(z.id)==parseInt(B)){B=a('input[name="data['+z.mailOrder+":"+z.label+']"]',A).val();break}}}}a('input[name="mail_from"]',A).val(B);a(A).ajaxSubmit({success:j,error:r,dataType:"json"});return false};var j=function(y,A,B,x){try{if(y.status){l(n("messageSentText"));x.trigger("reset")}else{l(n("messageSentFailedText"))}}catch(z){}};var r=function(y,A,B,x){try{log("Cannot parse response: "+y);l(n("messageSentFailedText"))}catch(z){}};var t=function(x,y){if(y){return"#mjs-widget_"+m.id+"_"+x}return a("#mjs-widget_"+m.id+"_"+x)};var b=function(z,x,B){var y=a(x).data("formItem")||{};if(y.hasOwnProperty("required")&&!y.required){return true}if(!this.depend(B,x)){return"dependency-mismatch"}if(z==a(x).attr("placeholder")){z=""}switch(x.nodeName.toLowerCase()){case"select":var A=a(x).val();return A&&A.length>0;case"input":if(this.checkable(x)){return this.getLength(z,x)>0}default:return a.trim(z).length>0}};var c=function(y,x,z){if(a(x).data("formItem").required||y.length){if(typeof z!=="RegExp"){z=new RegExp(z)}return z.test(y)}return true};var w=function(E,B,D){if(E==a(B).attr("placeholder")){E=""}if(D.required||E.length){var x="[^\\s]";var A=function(G,F){return x+"{"+(G-1)+","+(F-1)+"}"};var y="[^.\\s]";var z="^"+y+A(+D.minLettersBeforeAt,+D.maxLettersBeforeAt)+"@"+y+x+"*\\."+y+A(+D.minLettersAfterLastPoint,+D.maxLettersAfterLastPoint)+"$";var C=new RegExp(z);return C.test(E)}return true};var q=function(y,x){return s[y].replace("{LABEL}",x)};var k=function(y,x){switch(y.validator){case"EmailValidator":x.rules("add",{emailEx:y,messages:{emailEx:q("emailNotValid",y.label)}});break;case"StringValidator":if(y.minChars>0){x.rules("add",{minlength:y.minChars,messages:{minlength:q("minCharsLimitError",y.label)}})}if(y.regExp){x.rules("add",{regEx:new RegExp(y.regExp,y.regExpFlags),messages:{regEx:q("reqExpError",y.label)}})}break;case"NumberValidator":x.rules("add",{number:true,messages:{number:q("notANumberError",y.label)}});if(!y.allowNegative&&y.minValue<0){y.minValue=0}if(y.minValue){x.rules("add",{min:y.minValue,messages:{min:q("lowerThanMinError",y.label)}})}if(y.maxValue){x.rules("add",{max:y.maxValue,messages:{max:q("biggerThanMaxError",y.label)}})}break;case"DateValidator":x.rules("add",{date:true,messages:{date:q("dateIsNotValidError",y.label)}});break;default:break}};var u=function(){s=n("validationErrorMessages");a.validator.addMethod("regEx",c);a.validator.addMethod("emailEx",w);a.validator.addMethod("required",b);var y=i.validate({showErrors:function(C,D){log(D);if(D&&D instanceof Array&&D[0]){l(D[0].message)}else{l()}},submitHandler:o,ignore:false,onfocusout:function(C,D){},onkeyup:function(C,D){},onclick:function(C,D){}});for(var z in m.data.items.formItems){if(m.data.items.formItems.hasOwnProperty(z)){var B=m.data.items.formItems[z];var x=a(t("input_"+B.id));x.data("formItem",B);if(B.required){var A=x.rules("add",{required:true,messages:{required:q("fieldIsRequired",B.label)}})}if(B.validator){k(B,x)}}}};var d=function(){if(!v){return}if(a(".fakeFileUpload",i)[0]){return}var z=document.createElement("div");z.className="mjs-fakefile";var y=document.createElement("input");y.type="text";z.appendChild(y);var x=document.createElement("div");x.innerHTML="...";z.appendChild(x);a(".mjs-input.mjs-input-file",i).each(function(A){var B=z.cloneNode(true);this.parentNode.appendChild(B);this.relatedElement=B.getElementsByTagName("input")[0];this.relatedElement.style.cssText=this.style.cssText;this.relatedElement.className="mjs-input fakeFileUpload";a(B).css("line-height",a(this).height()+"px");a(this.relatedElement).attr("placeholder",a(this).data("placeholder"));this.onchange=function(){this.relatedElement.value=this.value};a(this).addClass("mjs-hidden")})};var l=function(x){if(!g){g=a("#mjs-widget_"+m.id+"_statusMessage")}if(!x){x=""}g.text(x)};var p=function(){var x,y,z;a("input.mjs-input-text",i).each(function(){a(this).parent().height(parseInt((a(this).parent().height()),10));y=parseInt(a(this).siblings(".mjs-item-border").css("border-left-width"),10)+4;z=parseInt(a(this).siblings(".mjs-item-border").css("border-right-width"),10)+4;a(this).css({"padding-left":y+"px","padding-right":z+"px"});a(this).css("width",(parseInt(a(this).parent().width())-y-z)+"px");var A=Math.round(parseInt(a(this).css("font-size"))*1.2);if(a(this).parent().height()>A){x=((a(this).parent().height()-A)/2)+"px";a(this).css({"padding-top":x,"padding-bottom":x})}});a("textarea",i).each(function(){a(this).css({width:(parseInt(a(this).parent().width())-8)+"px",height:(parseInt(a(this).parent().height())-8)+"px"});a(this).parent().css({width:"auto",height:"auto"})});a(".mjs-item",i).bind("click",function(){a("input",this).focus()});return};this.init=function(){m=this;try{i=this.me().find("form");p();d();u();a("#mjs-widget_"+m.id+"_resetButton").click(function(y){y.preventDefault();l();i.trigger("reset")});a("#mjs-widget_"+m.id+"_submitButton").click(function(y){y.preventDefault();i.trigger("submit")});i.find("input[type=checkbox], input[type=radio]").motoInput();i.find("input, textarea").placeholder()}catch(x){log("oops in contact form");log(x)}}})})(jQuery);(function(a){MotoJS.widgets.reg("GalleryModule",function(){var o,i="GalleryModule",b=false,t={transition:"elastic",width:"100%",height:"100%",current:false,open:false,slideshow:true,slideshowAuto:false,slideshowSpeed:2000,returnFocus:false,preloading:false,previous:"",next:"",close:"",slideshowStart:"",slideshowStop:""},p={w:null,h:null,mTop:null},w={},n=false,s,d=["#cboxNext","#cboxPrevious","#cboxSlideshow","#cboxClose","#cboxInfo"],c={"#cboxPrevious":"prevIcon","#cboxNext":"nextIcon","#cboxClose":"closeIcon","#cboxSlideshow":s?"pauseSlideShowIcon":"startSlideShowIcon","#cboxInfo":"descriptionIcon"};var r=function(){o.grid.render(o.me())};var v=function(){var x=o.me("ul li").width();var y=o.me("ul li").height();o.me("ul li img").each(function(){var z=scaleSize(a(this).width(),a(this).height(),x-parseInt(a(this).parent("a").css("marginLeft"))*2,y-parseInt(a(this).parent("a").css("marginTop"))*2);a(this).width(z[0]);a(this).height(z[1]);a(this).css("margin-top",parseInt((a(this).parent().height()-a(this).height())/2)+"px")})};var l=function(){var x=MotoJS.popup.getOpenedPopupUrl()||MotoJS.page.getUrl();MotoJS.router.pushState(x+"/"+o.id+"/"+a.colorbox.element().data("item"),o.id)};var q=function(){var z=o.properties,A,x,y;z.thumbnailsBgColor.value&&a("#cboxContent").css("background-color","#"+z.thumbnailsBgColor.value);z.controlPanelColor.value&&a("#cboxBottomCenter").css("background-color","#"+z.controlPanelColor.value);z.descriptionBgColor.value&&a("#cboxTitle").css("background-color","#"+z.descriptionBgColor.value);z.descriptionBgAlpha.value&&a("#cboxTitle").css("opacity",z.descriptionBgAlpha.value/100);a("#cboxTitle").css("visibility","hidden")};var u=function(){a("#cboxInfo").remove();a("#cboxSlideshow").remove();a("#cboxLoadedContent > img").css("margin-top","");a.each(d,function(y,x){if(!o.properties[c[x]].image){return}a(x).removeAttr("style")})};var k=function(x){x.slideshowSpeed.value&&(t.slideshowSpeed=x.slideshowSpeed.value);x.autoStartSlideShow.value&&(t.slideshowAuto=x.autoStartSlideShow.value!="false");x.prevIcon.value?o.me(".mjs-prev img").attr("src",MotoJS.content.getFullUrl(x.prevIcon.value)):o.me(".mjs-prev img").attr("src","");x.nextIcon.value?o.me(".mjs-next img").attr("src",MotoJS.content.getFullUrl(x.nextIcon.value)):o.me(".mjs-next img").attr("src","");if(x.prevIcon.image){t.previous='<img src="'+MotoJS.content.getFullUrl(x.prevIcon.value)+'" width="'+x.prevIcon.image.parameters.width+'" height="'+x.prevIcon.image.parameters.height+'" />'}if(x.nextIcon.image){t.next='<img src="'+MotoJS.content.getFullUrl(x.nextIcon.value)+'" width="'+x.nextIcon.image.parameters.width+'" height="'+x.nextIcon.image.parameters.height+'" />'}if(x.closeIcon.image){t.close='<img src="'+MotoJS.content.getFullUrl(x.closeIcon.value)+'" width="'+x.closeIcon.image.parameters.width+'" height="'+x.closeIcon.image.parameters.height+'" />'}if(x.startSlideShowIcon.image){t.slideshowStart='<img src="'+MotoJS.content.getFullUrl(x.startSlideShowIcon.value)+'" width="'+x.startSlideShowIcon.image.parameters.width+'" height="'+x.startSlideShowIcon.image.parameters.height+'" />'}if(x.pauseSlideShowIcon.image){t.slideshowStop='<img src="'+MotoJS.content.getFullUrl(x.pauseSlideShowIcon.value)+'" width="'+x.pauseSlideShowIcon.image.parameters.width+'" height="'+x.pauseSlideShowIcon.image.parameters.height+'" />'}};var g=function(){var y=o.properties,x=t.slideshowAuto,z=a("#cboxBottomCenter").height();k(y);o.me("ul li a").attr("rel","g"+o.id);o.me("ul li a").colorbox(a.extend(t,{onOpen:function(){var A;n=true;a("#colorbox").addClass("GalleryModule");q();if(a("#cboxInfo").length==0){if(y.descriptionIcon.value){var B=a('<div><img src="'+MotoJS.content.getFullUrl(y.descriptionIcon.value)+'" /></div>');B.attr("id","cboxInfo");B.css("visibility","hidden")}a("#cboxContent").append(B);a("#cboxInfo").click(function(){A=(a("#cboxTitle").css("visibility")=="visible")?"hidden":"visible";a("#cboxTitle").css("visibility",A)})}a("#cboxSlideshow").appendTo("#cboxContent");a.each(d,function(F,E){if(!y[c[E]].image){return}var D=y[c[E]].image.parameters.height,G=y[c[E]].image.parameters.width,H=parseInt((z/2),10)-parseInt((D/2),10),C=-D-H;if(E=="#cboxSlideshow"){a(E).css("margin-top",H+"px");a(E).css("margin-left",-parseInt((G/2),10)+"px")}else{a(E).css("bottom",C+"px")}});if(!MotoJS.tools.isApple()){a("body, html").css({overflow:"hidden"})}},onLoad:function(){l()},onComplete:function(){var B=o.data,A=w[a(this).data("item")]||null,C;p.w=a("#cboxLoadedContent > img").width();p.h=a("#cboxLoadedContent > img").height();p.mTop=a("#cboxLoadedContent > img").css("margin-top");a("#cboxTitle").css("visibility","hidden");if(typeof A!="object"){log("ColorBox loading image error. Cannot extract description of the image.")}else{if(A.properties&&A.properties.description){C=a.trim(a("<div>"+A.properties.description.value+"</div>").text());if(C.length>0){a("#cboxInfo").css("visibility","visible");a("#cboxTitle").append('<div class="cboxTitlePadding" />');a("#cboxTitle .cboxTitlePadding").html(A.properties.description.value)}else{a("#cboxInfo").css("visibility","hidden")}}}},onClosed:function(){MotoJS.router.pushState(MotoJS.router.parseUrl().page,o.id);n=false;if(!MotoJS.tools.isApple()){a("body, html").css({overflow:"auto"})}a("#colorbox").removeClass("GalleryModule");u()}}))};var j=function(){a.colorbox.resize(t);var y=a("#cboxLoadedContent > img"),x=y.height(),A=y.width(),C=a("#cboxLoadedContent").width(),B=a("#cboxLoadedContent").height(),z;if(x>B||A>C){z=scaleSize(A,x,C,B);y.width(z[0]);y.height(z[1])}else{if(x<p.h||A<p.w){z=scaleSize(p.w,p.h,C,B);y.width(z[0]);y.height(z[1])}}y.css("margin-top",((B-x)/2)+"px")};var m=function(x){if(x.widget==o.id){if(n){x.data[0]&&a.colorbox.item(x.data[0])}else{x.data[0]&&o.me('ul li a[data-item="'+parseInt(x.data[0])+'"]').trigger("click")}}else{n&&a.colorbox.close()}};this._exec=function(x){x&&o.me('ul li a[data-item="'+x+'"]').trigger("click")};var e=function(){var z=o.properties,B=true,A=["rowsNum","columnsNum","autoStartSlideShow","thumbnailsBgColor","controlPanelColor","descriptionIcon","descriptionBgColor","descriptionBgAlpha","prevIcon","nextIcon","closeIcon","slideshowSpeed","startSlideShowIcon","pauseSlideShowIcon"],y,x;try{if(!(z||(typeof z.data.items=="object"))){return false}for(y=0;y<A.length;y++){x=A[y];if(B=z.hasOwnProperty(x)){B=z[x].hasOwnProperty("value")}if(!B){break}}}catch(C){return false}return B};this.init=function(){o=this;if(!e()){throw new Error("ColorBox initialization error. Response object is broken.")}var x=o.properties;o.initGrid({rows:o.properties.rowsNum.value,cols:o.properties.columnsNum.value,numItems:o.me("ul li").length});o.initArrows({left:{$:o.me(".mjs-prev"),handler:function(){o.grid.scrollLeft()}},right:{$:o.me(".mjs-next"),handler:function(){o.grid.scrollRight()}}});w=o.getItemsMap(o.data.items);g();if(o.id){MotoJS.events.subscribe("onResize",o.id,r);MotoJS.events.subscribe("onResize",o.id,v);MotoJS.events.subscribe("onResize",o.id,j);MotoJS.events.subscribe("onOrientationChange",o.id,r);MotoJS.events.subscribe("onOrientationChange",o.id,v);MotoJS.events.subscribe("onOrientationChange",o.id,j);MotoJS.events.subscribe("onStateChange",o.id,m)}}},"BaseGalleryModule")})(jQuery);(function(a){MotoJS.widgets.reg("GoogleMapModule",function(){var b;var c=function(){var l=b.getCords(b.properties.positionMapFocus.value,b.data.items);var j={normal:google.maps.MapTypeId.ROADMAP,satellite:google.maps.MapTypeId.SATELLITE,hybrid:google.maps.MapTypeId.HYBRID,physical:google.maps.MapTypeId.TERRAIN};var e={anchor_bottom_left:google.maps.ControlPosition.BOTTOM_LEFT,anchor_bottom_center:google.maps.ControlPosition.BOTTOM_CENTER,anchor_bottom_right:google.maps.ControlPosition.BOTTOM_RIGHT,anchor_left_bottom:google.maps.ControlPosition.LEFT_BOTTOM,anchor_right_bottom:google.maps.ControlPosition.RIGHT_BOTTOM,anchor_left_center:google.maps.ControlPosition.LEFT_CENTER,anchor_right_center:google.maps.ControlPosition.RIGHT_CENTER,anchor_left_top:google.maps.ControlPosition.LEFT_TOP,anchor_right_top:google.maps.ControlPosition.RIGHT_TOP,anchor_top_left:google.maps.ControlPosition.TOP_LEFT,anchor_top_center:google.maps.ControlPosition.TOP_CENTER,anchor_top_right:google.maps.ControlPosition.TOP_RIGHT};var g=b.fillMapTypes(b.properties,j);var d={zoom:b.properties.mapZoom.value-0,center:new google.maps.LatLng(l[0],l[1]),mapTypeId:j[b.properties.mapType.value.toLowerCase()],zoomControl:("invisible"!=b.properties.controllPositionZoom.value)?true:false,zoomControlOptions:{position:e[b.properties.controllPositionZoom.value]},scaleControl:("invisible"!=b.properties.controllPositionScale.value)?true:false,scaleControlOptions:{position:e[b.properties.controllPositionScale.value]},mapTypeControl:("invisible"!=b.properties.controllPositionMapType.value)?true:false,mapTypeControlOptions:{position:e[b.properties.controllPositionMapType.value],mapTypeIds:g},overviewMapControl:("invisible"!=b.properties.controllPositionOverview.value)?true:false,overviewMapControlOptions:{opened:false},panControl:("invisible"!=b.properties.controllPositionLocation.value)?true:false,panControlOptions:{position:e[b.properties.controllPositionLocation.value]}};b.map=new google.maps.Map(document.getElementById("mjs-widget_"+b.id+"_content"),d);var k={};for(key in b.data.items){prop=b.data.items[key].properties;if(!prop){continue}var i={position:new google.maps.LatLng(prop.latitude.value-0,prop.longitude.value-0),map:b.map,title:MotoJS.tools.stripTags(prop.title.value)};if(prop.icon.value!=""){i.icon=new google.maps.MarkerImage(response.content.website.settings.basePath+prop.icon.value)}k[key]=new google.maps.Marker(i);k[key].desc=prop.title.value+prop.description.value;google.maps.event.addListener(k[key],"click",function(){if(b.infowindow!=undefined){b.infowindow.close()}b.infowindow=new google.maps.InfoWindow({content:'<div style="overflow:hidden;line-height:1.35;min-width:50px;">'+this.desc+"</div>",size:new google.maps.Size(50,50)});b.infowindow.open(b.map,this)})}};this.init=function(){b=this;MotoJS.lazyLoader.load("//maps.googleapis.com/maps/api/js?&sensor=false",function(){try{c()}catch(d){log("GoogleMapModule init error. Details - "+d.message)}})};this.fillMapTypes=function(g,e){var d=[];if(g.mapTypesHybrid.value=="true"){d.push(e.hybrid)}if(g.mapTypesNormal.value=="true"){d.push(e.normal)}if(g.mapTypesSatellite.value=="true"){d.push(e.satellite)}if(g.mapTypesPhysical.value=="true"){d.push(e.physical)}return d};this.getCords=function(i,k){if(!k||!k.length){return[0,0]}var m,l;switch(i){case"first":m=k[0].properties.latitude.value-0;l=k[0].properties.longitude.value-0;break;case"last":m=k[k.length-1].properties.latitude.value-0;l=k[k.length-1].properties.longitude.value-0;break;default:var e=k[0].properties.latitude.value-0;var j=k[0].properties.latitude.value-0;var d=k[0].properties.longitude.value-0;var g=k[0].properties.longitude.value-0;for(var n in k){e=(k[n].properties.latitude.value-0>e)?k[n].properties.latitude.value-0:e;d=(k[n].properties.longitude.value-0>d)?k[n].properties.longitude.value-0:d;j=(k[n].properties.latitude.value-0<j)?k[n].properties.latitude.value-0:j;g=(k[n].properties.longitude.value-0<g)?k[n].properties.longitude.value-0:g}m=(e+j)/2;l=(d+g)/2;break}return[m,l]};this.InfoBox=function(e){google.maps.OverlayView.call(this);this.latlng_=e.latlng;this.map_=e.map;this.title=e.title;this.description=e.description;this.offsetVertical_=-125;this.offsetHorizontal_=0;this.height_=100;this.width_=166;var d=this;this.boundsChangedListener_=google.maps.event.addListener(this.map_,"bounds_changed",function(){return d.panMap.apply(d)});this.setMap(this.map_)};this.InfoBox.prototype.remove=function(){if(this.div_){this.div_.parentNode.removeChild(this.div_);this.div_=null}};this.InfoBox.prototype.draw=function(){this.createElement();if(!this.div_){return}var d=this.getProjection().fromLatLngToDivPixel(this.latlng_);if(!d){return}this.div_.style.width=this.width_+"px";this.div_.style.left=(d.x+this.offsetHorizontal_)+"px";this.div_.style.height=this.height_+"px";this.div_.style.top=(d.y+this.offsetVertical_)+"px";this.div_.style.display="block"};this.InfoBox.prototype.createElement=function(){var k=this.getPanes();var m=this.div_;if(!m){m=this.div_=document.createElement("div");m.style.border="0px none";m.style.position="absolute";m.style.width=this.width_+"px";m.style.height="11px";var j=document.createElement("div");j.style.padding="3px";j.style.background="blue";j.innerHTML=this.description;var e=document.createElement("div");var l=document.createElement("div");l.style["float"]="left";l.innerHTML="<b>"+this.title+"</b>";e.appendChild(l);var i=document.createElement("img");m.style.background="white";i.style["float"]="right";i.style.width="22px";i.style.height="22px";i.style.cursor="pointer";i.src="//gmaps-samples.googlecode.com/svn/trunk/images/closebigger.gif";var d=document.createElement("div");d.style.clear="both";function g(n){return function(){n.setMap(null)}}google.maps.event.addDomListener(i,"click",g(this));m.appendChild(e);m.appendChild(d);m.style.display="none";k.floatPane.appendChild(m);this.panMap()}else{if(m.parentNode!=k.floatPane){m.parentNode.removeChild(m);k.floatPane.appendChild(m)}else{}}};this.InfoBox.prototype.panMap=function(){var G=this.map_;var j=G.getBounds();if(!j){return}var I=this.latlng_;var z=this.width_;var B=this.height_;var k=this.offsetHorizontal_;var i=this.offsetVertical_;var t=40;var s=40;var y=G.getDiv();var C=y.offsetWidth;var x=y.offsetHeight;var H=j.toSpan();var A=H.lng();var p=H.lat();var r=A/C;var o=p/x;var n=j.getSouthWest().lng();var u=j.getNorthEast().lng();var F=j.getNorthEast().lat();var e=j.getSouthWest().lat();var d=I.lng()+(k-t)*r;var g=I.lng()+(k+z+t)*r;var w=I.lat()-(i-s)*o;var q=I.lat()-(i+B+s)*o;var v=(d<n?n-d:0)+(g>u?u-g:0);var D=(w>F?F-w:0)+(q<e?e-q:0);var E=G.getCenter();var m=E.lng()-v;var l=E.lat()-D;G.setCenter(new google.maps.LatLng(l,m));google.maps.event.removeListener(this.boundsChangedListener_);this.boundsChangedListener_=null}})})(jQuery);(function(a){MotoJS.widgets.reg("GridGalleryModule",function(){var n,t={rowsNum:{value:1},columnsNum:{value:3},openIn:{value:"lightbox"},duration:{value:1000},prevIcon:{},nextIcon:{},thumbnailStyle:{style:null},activeThumbnailStyle:{style:{}},controlAreaStyleVO:{style:{}},controlAreaStyleVOHover:{style:{}}},d="GridGalleryModule",o={w:null,h:null,mTop:null},g=false,v;var i=function(z){try{return n.properties[z]}catch(y){return t[z]}};var q=function(z){var y=i(z);return(y.value)?y.value:t[z].value};var w=function(){var y=MotoJS.popup.getOpenedPopupUrl()||MotoJS.page.getUrl();MotoJS.router.pushState(y+"/"+n.id+"/"+n.galleryItems.getCurrentItem().id,{widgetInitiator:n.id})};var l=function(y){if(y.widget==n.id){y.data[0]&&n.me('ul li a[data-item="'+parseInt(y.data[0])+'"]').trigger("click")}else{if(MotoJS.lightbox.imageProvider.getId()==n.id){MotoJS.lightbox.close()}}};this._exec=function(y){y&&n.me('ul li a[data-item="'+y+'"]').trigger("click")};var p=function(){var z=0,B=0,C,y;if(!v){y=i("controlAreaStyleVO").style;C=y.paddingLeft+y.paddingRight+y.borderLThickness+y.borderRThickness;try{z=~~i("prevIcon").image.parameters.width+C}catch(A){z=0}try{B=~~i("nextIcon").image.parameters.width+C}catch(A){B=0}}n.me(".mjs-gallery-content").css("height",100+"%");n.me(".mjs-gallery-content").css("width",n.me().width()-z-B-1);n.grid.renderGridContainer(n.me(".mjs-gallery-content"))};var s=function(){var y=n.me("ul li").width(),B=n.me("ul li").height();var A=i("thumbnailStyle").style;var z=A.borderLThickness+A.borderRThickness,E=A.borderTThickness+A.borderBThickness,D=A.paddingLeft+A.paddingRight,C=A.paddingTop+A.paddingBottom;n.me("ul li img").each(function(){var F=scaleSize(a(this).width(),a(this).height(),(y-z-D-6),(B-C-E));a(this).width(F[0]).height(F[1]);a(this).parent(".mjs-gallery-item-stylevo").width(F[0]).height(F[1])});j()};var j=function(){n.me("ul li").each(function(){var y=a(this).height(),z=a(this).find("a").height();a(this).find("a").css("margin-top",((y-z)/2)+"px")})};var k=function(I){var E="";j();var z=i("thumbnailStyle").style,B=i("activeThumbnailStyle").style,H=(z.borderLThickness>B.borderLThickness)?B.borderLThickness:z.borderLThickness,F=(z.borderTThickness>B.borderTThickness)?B.borderTThickness:z.borderTThickness,A=(z.borderRThickness>B.borderRThickness)?B.borderRThickness:z.borderRThickness,y=(z.borderBThickness>B.borderBThickness)?B.borderBThickness:z.borderBThickness;I.find("span.active").css({"border-top-width":F+"px","border-right-width":A+"px","border-bottom-width":y+"px","border-left-width":H+"px"});var G=I.height(),D=I.find("a").height(),C=I.find("a span").height();E=((G-C)/2)+"px";I.find("a").css("margin-top",E)};var m=function(){var z=(n.me("ul li a").length==1),y=n.me("ul li a");switch(q("openIn")){case"bg":y.click(function(B){var A,C=a(this).data("item");B.preventDefault();n.me("ul li a span.active").removeClass("active");a(this).find("span").addClass("active");n.galleryItems.setCurrentItemNumberById(C);try{A=n.galleryItems.getItemById(C).properties.preview.value}catch(B){A=""}MotoJS.backgroundImage.getInstance().setBackground(A,n.id);w()});MotoJS.backgroundImage.getInstance().addProvider(n.id,r,z);break;case"lightbox":MotoJS.lightbox.register(y,n.id);MotoJS.lightbox.imageProvider.add(n.id,r,z);y.click(function(){MotoJS.lightbox.imageProvider.setId(n.id)});break;default:break}};var c=function(){var y=n.properties;try{if(!(y||(typeof y.data.items=="object"))){return false}}catch(z){return false}return true};var r=function(y,B){var A,z;A=n.galleryItems.getCurrentItem().id;n.me('ul li a[data-item="'+A+'"] span').removeClass("active");if(B){z=(y>0)?n.galleryItems.next():n.galleryItems.prev()}else{z=n.galleryItems.setCurrentItemNumberById(y)}n.me('ul li a[data-item="'+z.id+'"] span').addClass("active");k(n.me('ul li a[data-item="'+z.id+'"]').parent());j();if(!g){e()}w();return z&&{url:z.properties.preview.value}};var x=function(){g=true};var b=function(){g=false;e()};var e=function(){var C=n.me("ul li").length,D=q("rowsNum"),z=Math.ceil(C/D),F=n.me("ul li a span.active").parent().parent().index()+1,F=(C>z)?F%z:F,F=(F==0)?z:F,A=n.me("ul li:first").width(),B=-(A*(F-q("columnsNum"))),y=-(A*(F-1)),E=parseInt(n.me("ul").css("left"),10);if(n.me().find("ul li a span.active").length>0){if(E<y||E>B){n.me("ul").animate({left:(B>0?0:B)+"px"})}}};var u=function(){n.me(".mjs-prev, .mjs-next").hide();n.initArrows({left:{$:n.me(".mjs-prev"),handler:function(){n.grid.scrollLeft()}},right:{$:n.me(".mjs-next"),handler:function(){n.grid.scrollRight()}}});if(!v){n.me(".controlsImage").on("load",function(){a(this).parents(".mjs-prev, .mjs-next").show()});if(n.me(".controlsImage")[0].complete||n.me(".controlsImage")[1].complete){n.me(".controlsImage").trigger("load")}}n.me(".controlsImage").each(function(){if(a(this).attr("src")==""){a(this).hide()}})};this.init=function(){n=this;var B=n.properties,z;var D=q("rowsNum");var y=q("columnsNum");var C=n.me("ul li").length;var A=Math.ceil(C/D);v=y>=A;u();if(!c()){throw new Error("Grid gallery initialization error. Response object is broken.")}n.initGalleryItems();n.galleryItems.fill(n.data.items);n.itemsMap=n.getItemsMap(n.data.items);if(q("openIn")=="bg"){n.me('ul li a[data-item="'+n.galleryItems.getCurrentItem().id+'"] span').addClass("active");try{z=n.galleryItems.getCurrentItem().properties.preview.value}catch(E){z=""}MotoJS.backgroundImage.getInstance().setBackground(z,n.id)}n.initGrid({rows:D,cols:y,numItems:n.me("ul li").length});m();if(n.id){MotoJS.events.subscribe("onResize",n.id,p);MotoJS.events.subscribe("onLightboxOpen",n.id,x);MotoJS.events.subscribe("onLightboxClose",n.id,b);MotoJS.events.subscribe("onResize",n.id,s);MotoJS.events.subscribe("onOrientationChange",n.id,p);MotoJS.events.subscribe("onOrientationChange",n.id,s);MotoJS.events.subscribe("onStateChange",n.id,l)}};this._destruct=function(){MotoJS.backgroundImage.getInstance().removeProvider(n.id);MotoJS.lightbox.imageProvider.remove(n.id)}},"BaseGalleryModule")})(jQuery);(function(a){MotoJS.widgets.reg("HTMLWidgetModule",function(){var b="mjs-widget_";var c;this.init=function(){c=this};this.empty=function(){try{a("#"+b+c.id+" iframe").hide()}catch(d){}}})})(jQuery);(function(a){MotoJS.widgets.reg("ReflectionGalleryModule",function(){var n;var s={imageDelimiter:{value:10},reflectionOpacity:{value:30},textVerticalOffset:{value:60},scrollAnimationTime:{value:500},zoomAnimationTime:{value:500},fadeInAnimationTime:{value:500}},o={w:null,h:null,mTop:null},d=false,q,j;var w=function(A){var z=MotoJS.popup.getOpenedPopupUrl()||MotoJS.page.getUrl(),B=n.galleryItems.getCurrentItem().id;if(!A){MotoJS.router.pushState(z+"/"+n.id+"/"+B+"/lightbox/",{widgetInitiator:n.id})}else{MotoJS.router.pushState(z+"/"+n.id+"/"+B,{widgetInitiator:n.id})}};var l=function(z){var B,A;if(z.widget==n.id&&n.galleryItems.getItemById(z.data[0])){B=z.data[0];A=z.data[1]=="lightbox";if(A){if(MotoJS.lightbox.isOpen()){MotoJS.lightbox.openImage(B)}else{p(B);n.me('ul li a[data-item="'+B+'"]').trigger("click")}}else{MotoJS.lightbox.close();p(B)}}else{if(MotoJS.lightbox.imageProvider.getId()==n.id){MotoJS.lightbox.close()}}};this._exec=function(z,A){A&&z&&n.galleryItems.getItemById(z)&&n.me('ul li a[data-item="'+z+'"]').trigger("click")};var y=function(){d=true};var b=function(){var z=n.galleryItems.getCurrentItem().id;p(z);w(true);d=false};var p=function(C){if(!a.isNumeric(C)){return}var B=n.me('ul li a[data-item="'+(C)+'"]'),A=g(B),z=B.data("item-order");n.galleryItems.currItemNumber=(z-1);e(n.me('ul li a[data-item="'+(C)+'"]'));c(0,A);return true};var u=function(z,E,F){var F=F||false;var D=0;if(E<1){D=j}var A=z.attr("data-kf"),B={width:Math.round(E*(n.me().height()*A)/2)+"px",height:Math.round(E*n.me().height())+"px","margin-top":D+"px"},C=z.find(".mjs-galllery-reflection-text");z.data("active-width",(n.me().height()*A)/2);z.data("passive-width",(0.67*(n.me().height()*A)/2));(F)?C.hide():{};(E>=1)?C.show():{};C.stop().animate({opacity:E<1?0:1,width:B.width},n.getPropertyValue("zoomAnimationTime"),function(){E<1?a(this).hide():{}});if(F){z.css(B)}else{z.stop().animate(B,n.getPropertyValue("zoomAnimationTime"),function(){})}};var m=function(){var A=0,F=a("<li />").addClass("mjs-reflectionGallery-delimiter"),E=n.getPropertyValue("imageDelimiter"),B=n.me("ul"),z=0,D={},C={};F.width(E+"px");F.height(n.me().height());B.find("li").each(function(){D=a(this);C=a(this).find("img");var G=n.galleryItems?n.galleryItems.getItemByNum(D.find("a").data("item-order")-1):null,I,H;if(G!=null){if(G.properties.thumbnail.image.parameters){D.attr("data-kf",(G.properties.thumbnail.image.parameters.width/G.properties.thumbnail.image.parameters.height))}if(!D.hasClass("active")){u(D,0.67,true)}}});B.find("li").each(function(){z+=(a(this).width()+E/1)});if(n.me().find(".mjs-reflectionGallery-delimiter").length==0){B.find("li:not(:last)").after(F)}z-=E;B.width(z*4/3+"px")};var x=function(){var A=(n.me(".mjs-galllery-reflection-link").length==1),z=n.me(".mjs-galllery-reflection-link");MotoJS.lightbox.register(z,n.id);MotoJS.lightbox.imageProvider.add(n.id,r,A);n.me().on("click","li.active>.mjs-galllery-reflection-link",(function(){MotoJS.lightbox.imageProvider.setId(n.id)}))};var r=function(z,C){var A,B;A=n.me('ul li a[data-item="'+z+'"]').data("item-order");n.me('ul li a[data-item-order="'+A+'"] span').removeClass("active");if(C){B=(z>0)?n.galleryItems.next():n.galleryItems.prev()}else{n.galleryItems.currItemNumber=(A-1);B=n.galleryItems.getItemByNum()}if(!d){c()}w(false);return B&&{url:B.properties.preview.value}};var k=function(){n.me().height(Math.floor(n.me().height()/2)*2);var z=n.me().height();j=(z/2)-(z/2)*0.67;n.me(".mjs-galllery-reflection-image-rotated").css({opacity:n.getPropertyValue("reflectionOpacity")/100});n.me(".mjs-galllery-reflection-item").each(function(){if(!a(this).hasClass("active")){a(this).css("margin-top",j+"px")}});n.me(".mjs-galllery-reflection-text").css("top",n.getPropertyValue("textVerticalOffset")+"%")};var e=function(z){u(z.parent(),1);z.parent().siblings(".active").each(function(){u(a(this),0.67);a(this).removeClass("active")});z.parent().addClass("active")};var g=function(A){var z={},B=0;if(A.parent().prevAll("li.active").length!=0){z=A.parent().prevAll("li.active");B=z.data("active-width")-z.data("passive-width")}return B};var i=function(){n.me(".mjs-galllery-reflection-item a.mjs-galllery-reflection-link").click(function(B){var z,A=0;n.galleryItems.currItemNumber=(a(this).attr("data-item-order")-1);z=n.galleryItems.getCurrentItem();if(a(this).parent().hasClass("active")){return}A=g(a(this));if(!d){e(a(this));w(true);c(0,A)}return false})};var v=function(){var z=MotoJS.router.parseUrl();if(!z.data||z.widget!=n.id){n.me('ul li a[data-item-order="'+Math.ceil(Object.size(n.itemsMap)/2)+'"]').each(function(){a(this).parent().addClass("active");u(a(this).parent(),1,true)})}else{if(z.widget==n.id){if(z.data[0]){var A=n.me('ul li a[data-item="'+parseInt(z.data[0])+'"]');if(z.data[1]&&z.data[1]=="lightbox"){}n.galleryItems.currItemNumber=((z.data[0])-1);A.parent().addClass("active");var B=A.parent().find("img");u(A.parent(),1,true)}}}};var c=function(A,D){var z=A||0,F=D||0;var I=n.me("li.active"),E=n.me().find("ul"),B,G,C,H;B=I.position()?(I.position().left-F):0;G=(n.me().width()-(I.data("active-width")||0))/2;H=G-B;C=E.position().left;E.stop().animate({left:Math.ceil(H)+"px"},(z>0?100:n.getPropertyValue("scrollAnimationTime")));n.getPropertyValue("scrollAnimationTime")};var t=function(){m();v();k();c(1);x();n.me().find("ul li img").mjsLoadImg(function(){n.me("ul li").fadeIn(n.getPropertyValue("fadeInAnimationTime"))})};this.init=function(){n=this;var z=n.properties;n.applyDefaults(s);n.me("ul li").fadeOut(1);n.initGalleryItems();n.galleryItems.fill(n.data.items);n.itemsMap=n.getItemsMap(n.data.items);i();if(n.id){MotoJS.events.subscribe("onResize",n.id,c);MotoJS.events.subscribe("onContentLoaded",n.id,t);MotoJS.events.subscribe("onOrientationChange",n.id,c);MotoJS.events.subscribe("onLightboxOpen",n.id,y);MotoJS.events.subscribe("onLightboxClose",n.id,b);MotoJS.events.subscribe("onStateChange",n.id,l)}};this._destruct=function(){MotoJS.backgroundImage.getInstance().removeProvider(n.id);MotoJS.lightbox.imageProvider.remove(n.id)}},"BaseGalleryModule")})(jQuery);(function(a){MotoJS.widgets.reg("RichContent",function(){var b={},k=".jspVisualStyles",z=".jspInnerWrapper",t,w,c,v,y,u,j,p,x,r,q,C,s,d,D,e,o,F,m,n,l={deltaWidth:0,deltaHeight:0};var g=function(){m=a("<div />").addClass(k.slice(1));n=a("<div />").addClass(z.slice(1));if(t.snapping){n.css("height","100%")}else{n.css("height",y+"px")}t.me(".jspPane").wrap(m);t.me(".jspPane").wrap(n);m=a(k,t.me());n=a(z,t.me())};var E=function(){var K=t.properties.hasOwnProperty("scrollerShowArrows")&&t.properties.scrollerShowArrows.value==="true"?true:false,J={showArrows:K,horizontalGutter:0,verticalGutter:parseInt(w),isScrollableH:false},H=calcAbsoluteElementsHeight(t.me())+d+F+s+o,I="<style> <!--";I+=" #mjs-widget_"+t.id+" .jspVerticalBar .jspCapTop { height:"+(s+o)+"px; }\n";I+=" #mjs-widget_"+t.id+" .jspVerticalBar .jspCapBottom { height:"+(d+F)+"px; }\n";I+="--> </style>\n";t.me().append('<div style="height: '+H+'px">&nbsp;</div>'+I);if(t.snapping){J.autoReinitialise=true;J.autoReinitialiseDelay=150}t.me().jScrollPane(J);g()};function G(){if(t.left!==null&&t.right!==null){m.css("width",t.me().parent().width()+l.deltaWidth+"px")}if(t.bottom!==null){m.css("height",t.me().parent().height()+l.deltaHeight+"px")}}var i=function(){var J={},I=t.me().parent();q=parseInt(t.style.paddingLeft)||0;C=parseInt(t.style.paddingRight)||0;s=parseInt(t.style.paddingTop)||0;d=parseInt(t.style.paddingBottom)||0;o=parseInt(t.style.borderTThickness)||0;D=parseInt(t.style.borderLThickness)||0;e=parseInt(t.style.borderRThickness)||0;F=parseInt(t.style.borderBThickness)||0;w=isNaN(w=parseInt(t.properties.scrollerPadding.value))?0:w;c=isNaN(c=parseInt(t.properties.scrollerThickness.value))?0:c;v=I.outerWidth();y=I.outerHeight();u=q+C+D+e;j=s+d+o+F;l.deltaWidth=-w-c-q-D;l.deltaHeight=-s-o-d-F;p=v+w+c+u;x=y+j;J.width=p+"px";J.height=x+"px";if(t.snapping){MotoJS.events.subscribe("onResize",t.id,G);var H={};if(t.top!==null){H.top=(parseInt(I.css("top"))-s-o)+"px"}if(t.bottom!==null){H.bottom=(parseInt(I.css("bottom"))-d-F)+"px";delete J.height}if(t.left!==null){H.left=(parseInt(I.css("left"))-q-D)+"px"}if(t.right!==null){delete J.width;H.right=(parseInt(I.css("right"))-c-w)+"px"}I.css(H)}else{J.width=p+"px";J.height=x+"px"}I.css(J);t.me().css(J)};this.init=function(){t=this;r=t.holder;B("slots");B("modules");A();i();E()};var B=function(K){if(!K){K="modules"}if(!t.data[K]){return false}var I=t.data[K],H=MotoJS.holders.getHolderById(r),L=H?MotoJS.holders.getHolderCollection(H.type):null,J;if(!(H&&L)){return false}a.each(I||{},function(M){try{J=a.extend({},MotoJS.widgets.create(this.type),this);if(L.addItemToHolder(r,J)){J.init&&J.init();J.parentId=t.id}}catch(N){log("Rich content init error. Widget init failed. Widget id - "+this.id+". Details - "+N.message,N.lineNumber)}})};var A=function(){var I=t.data.objects,H=MotoJS.holders.getHolderById(r),K=H?MotoJS.holders.getHolderCollection(H.type):null,J;if(!(H&&K)){return false}a.each(I||{},function(L){try{J=MotoJS.objects.create(this);if(K.addItemToHolder(r,J)){J.init&&J.init();J.parentId=t.id}}catch(M){log("Rich content init error. Object init failed. Widget id - "+this.id+". Details - "+M.message,M.lineNumber)}})}})})(jQuery);(function(a){MotoJS.widgets.reg("BaseMenu",function(){this.init=function(){};var d={duration:300,opacity:1};this.setBGImage=function(g){if(g.length==0){return}var i=arguments[1]?"url("+MotoJS.content.getFullUrl(arguments[1])+")":"none";var j=arguments[2]?arguments[2]:"no-repeat";var e=arguments[3]&&arguments[4]?arguments[3]+" "+arguments[4]:"top left";g.css({"background-image":i,"background-repeat":j,"background-position":e})};var b={fade:function(e){var g=e&&e.duration||d.duration;return this.fadeIn(g).promise()}};var c={fade:function(e){var g=e&&e.duration||d.duration;return this.fadeOut(g).promise()}};this.showSubmenu=function(g,e,j){var i=b[e];if(typeof i=="function"){i.call(a(g),j)}};this.hideSubmenu=function(g,e,j){var i=c[e];if(typeof i=="function"){i.call(a(g),j)}};this.killBGHack=function(e){if(e.hasOwnProperty("enableMenuBG")&&e.enableMenuBG.value=="false"){this.me("> ul > li > a.mjs-menu-styles").css({"background-color":"transparent","border-width":"0px"})}if(e.hasOwnProperty("enableSubmenuBG")&&e.enableSubmenuBG.value=="false"){this.me("> ul > li > ul li > a.mjs-menu-styles").css({"background-color":"transparent","border-width":"0px"})}};this.setSubmenuBgImage=function(g){var j;try{if(g.hasSubmenuBGImage2&&g.hasSubmenuBGRepeatMode2&&g.hasSubmenuBGHorizontalAlign2&&g.hasSubmenuBGVerticalAlign2){j=[g.hasSubmenuBGImage2.value,g.hasSubmenuBGRepeatMode2.value,g.hasSubmenuBGHorizontalAlign2.value,g.hasSubmenuBGVerticalAlign2.value];this.setBGImage(this.me("> ul > li > ul li > .mjs-menu").siblings("a.mjs-menu-styles"),j[0],j[1],j[2],j[3])}if(g.hasSubmenuBGImage&&g.hasSubmenuBGRepeatMode&&g.hasSubmenuBGHorizontalAlign&&g.hasSubmenuBGVerticalAlign){j=[g.hasSubmenuBGImage.value,g.hasSubmenuBGRepeatMode.value,g.hasSubmenuBGHorizontalAlign.value,g.hasSubmenuBGVerticalAlign.value];this.setBGImage(this.me("> ul > li > .mjs-menu").siblings("a.mjs-menu-styles"),j[0],j[1],j[2],j[3])}}catch(i){throw new Error("Menu initialization error. While setting background of item which contains submenu.")}};this.setLineHeight=function(){this.me("ul li a .mjs-menu-align").css("lineHeight",function(){return(parseInt(a(this).css("fontSize"))+2)+"px"})};this.applyIEStyleVOGradientFilterHack=function(j){var i=a(j),g,l;if(!i.length||MotoJS.tools.isIE()>9){return}try{g=i[0].filters.item("DXImageTransform.Microsoft.Gradient");if(g.enabled){l=a('<div class="mjs-advancedMenu-ieGradientContainer" />');l[0].style.filter+="progid:DXImageTransform.Microsoft.Gradient(GradientType="+g.GradientType+',startColorstr="'+g.startColorstr+'", endColorstr="'+g.endColorstr+'")';i.prepend(l);i.addClass("mjs-advancedMenu-removeIEGradient")}}catch(k){}}});MotoJS.widgets.reg("HorizontalMenuModule",function(l){var m,g,e,d,c;var i=function(o){var n=o&&o.hash?o.hash:MotoJS.page.getUrl()||MotoJS.website.startPage.url;m.killBGHack(m.properties);m.me("> ul li.mjs-active").removeClass("mjs-active");m.me("ul li > a").filter("[data-url='"+n+"']").parent().addClass("mjs-active")};var k=function(){g.hover(function(){d=a("> .mjs-menu",this);if(a(this).offset().top>d.outerHeight()){var n=a(window).height()-(a(this).offset().top+a(this).outerHeight());if(n<d.outerHeight()){d.css("bottom",a(this).outerHeight()+"px")}else{d.css("bottom","auto");d.css("top","auto")}}d.show()},function(){d.hide();d=undefined});MotoJS.tools.isApple()&&g.on("mousedown",function(n){var o=a(" ul.mjs-menu-level-1",this);if(o.is(":hidden")){o.show();a(this).find("a.mjs-link-bindable").eq(0).data("disabled",true)}});e.hover(function(){c=a("> .mjs-menu",this);var n=a(window).width()-(a(this).offset().left+a(this).outerWidth());if(n>c.outerWidth()){c.css("right","auto");c.css("left",a(this).width()+"px")}else{c.css("left","auto");c.css("right",a(this).width()+"px")}c.css({top:"0px"});c.show()},function(){c.hide();c=undefined})};var b=function(){var n=m.properties;if(!n){throw new Error("Horizontal Menu initialization error. Response properties object is undefined")}m.setLineHeight();m.killBGHack(n);m.setSubmenuBgImage(n);g=m.me("> ul.mjs-menu-level-0 > li.mjs-sub:has(ul.mjs-menu)");e=m.me("> ul .mjs-menu-level-1 > li.mjs-sub:has(ul.mjs-menu)");k();if(n.hasOwnProperty("fitText")&&n.fitText.value==="true"){m.me(".mjs-menu-level-0 > li").css("width",(100/m.me(".mjs-menu-level-0 > li").length)+"%")}else{m.me(".mjs-menu-level-0 li ul.mjs-menu").addClass("mjs-menu-minWidth")}i()};var j=function(){a(d).hide();a(c).hide()};this.init=function(){m=this;b();this.id&&MotoJS.events.subscribe("onSwitchFinish",this.id,i);MotoJS.tools.isApple()&&this.id&&MotoJS.events.subscribe("onSwitchFinish",this.id,j);this.id&&MotoJS.events.subscribe("onClosePopup",this.id,i);this.id&&MotoJS.events.subscribe("onLoginBoxHide",this.id,i)}},"BaseMenu");MotoJS.widgets.reg("VerticalMenuModule",function(b){var d,i,c;var k=function(m){var l=m&&m.hash?m.hash:MotoJS.page.getUrl()||MotoJS.website.startPage.url;d.killBGHack(d.properties);d.me("> ul li.mjs-active").removeClass("mjs-active");d.me("ul li > a").filter("[data-url='"+l+"']").parent().addClass("mjs-active")};var e=function(){i.hover(function(){c=a("> .mjs-menu",this);var l=a(window).width()-(a(this).offset().left+a(this).outerWidth());if(l>c.outerWidth()){c.css("right","auto");c.css("left",a(this).width()+"px")}else{c.css("left","auto");c.css("right",a(this).width()+"px")}c.css({top:"0px"});c.show()},function(){c.hide();c=undefined});MotoJS.tools.isApple()&&i.on("mousedown",function(l){var m=a(" ul.mjs-menu-level-1",this);if(m.is(":hidden")){m.show();a(this).find("a.mjs-link-bindable").eq(0).data("disabled",true)}})};var g=function(){var l=d.properties;if(!l){throw new Error("Vertical Menu initialization error. Response properties object is undefined")}d.setLineHeight();d.killBGHack(l);d.setSubmenuBgImage(l);i=d.me("> ul.mjs-menu-level-0 li.mjs-sub:has(ul.mjs-menu)");e();d.me(".mjs-menu-level-0 > li").css("height",(100/d.me(".mjs-menu-level-0 > li").length)+"%");k()};var j=function(){a(c).hide();a(c).hide()};this.init=function(){d=this;g();MotoJS.tools.isApple()&&this.id&&MotoJS.events.subscribe("onSwitchFinish",this.id,j);this.id&&MotoJS.events.subscribe("onSwitchFinish",this.id,k);this.id&&MotoJS.events.subscribe("onClosePopup",this.id,k);this.id&&MotoJS.events.subscribe("onLoginBoxHide",this.id,k)}},"BaseMenu")})(jQuery);(function(a){MotoJS.widgets.reg("SliderModule",function(){var t,q=false,i=false,e=false,j,k;var p=function(){try{var v=t.galleryItems.getCurrentItem().properties.description.value;t.initDescriptionBlock({$:t.me(".mjs-description-block"),text:v});g.addTransitionEffectToDescrBlock(t.descriptionBlock)}catch(u){log("Slider Module. Error while init description block. Details - "+u.message)}};var r=function(){t.getPropertyValue("showPagination")=="true"&&t.initPaginator({linkItems:t.me(".mjs-pagination li a"),activeNum:t.galleryItems.currItemNumber,activeClassName:"selected",onClick:m})};var n=function(){t.getPropertyValue("showButtons")=="true"&&t.initArrows({left:{$:t.me(".mjs-slider-prev"),handler:function(){b();l.slidePrev()}},right:{$:t.me(".mjs-slider-next"),handler:function(){b();l.slideNext()}}})};var d=function(u){t.initSlideshow({handler:function(){return l.slideNext()},duration:u});if(t.getPropertyValue("enableSlideshow")=="true"){t.slideshow.start()}};this.dispatcher={callbacks:{paginator:function(u){if(t.paginator instanceof MotoJS.ui.controls.Paginator){t.paginator.setActiveItem(t.galleryItems.currItemNumber)}}},dispatch:function(w,u){var v;for(v in this.callbacks){if(v!=u&&this.callbacks.hasOwnProperty(v)&&typeof this.callbacks[v]=="function"){this.callbacks[v](w)}}}};var l={slidingInProgress:false,go:function(y,v){var w=t.galleryItems.getNewNumber(y),u;if(!this.slidingInProgress){try{u=this.loadContent(w);a.when(u).then(function(){t.dispatcher.dispatch(y,v)});return u}catch(x){log(x.message)}}return false},goTo:function(w,v){var x=w,u;if(!this.slidingInProgress){try{u=this.loadContent(x);a.when(u).then(function(){t.dispatcher.dispatch(0,v)});return u}catch(y){log(y.message)}}return false},slidePrev:function(u){return this.go(-1,u)},slideNext:function(u){return this.go(1,u)},loadContent:function(x){x=x||0;var B=t.galleryItems.getItemByNum(x),v=a.Deferred();if(!B){return}var z=t.me('.mjs-slider-items img[data-item-id="'+B.id+'"]'),u=a(),C=t.galleryItems.getCount()-1,w=t.galleryItems.currItemNumber,y=x>w||(x==0&&w==C);y=y&&!(x==C&&w==0);if(!z.is("img")){throw new Error("Cannot load image. Slider widget.")}var A=function(){t.galleryItems.currItemNumber=x;if(l.slidingInProgress){return}try{o(u);g.changeImage(u,y);t.descriptionBlock.setText(B.properties.description.value,function(){MotoJS.content.updateBindableLinks()});i=true}catch(D){log("SliderModule :: error while image switching. Details - "+D.message)}v.resolve()};z.one("load",function(){u=z.clone(true);u.one("load",A);u[0].complete&&u.trigger("load")});if(MotoJS.tools.isIE()>=9){z.attr("src",z.attr("src"))}z[0].complete&&z.trigger("load");return v.promise()}};var o=function(u,w){var v=s(w);v&&u.css(MotoJS.tools.adjustImage(t.getPropertyValue("imageScaling"),v,{w:t.me(".mjs-slider-image-wrapper").width(),h:t.me(".mjs-slider-image-wrapper").height(),valign:t.getPropertyValue("imageVerticalAlign"),halign:t.getPropertyValue("imageHorizontalAlign")}))};var s=function(v){var u=v?t.galleryItems.getItemByNum(v):t.galleryItems.getCurrentItem();return a.isPlainObject(u)?{w:+u.properties.preview.image.parameters.width,h:+u.properties.preview.image.parameters.height}:false};var b=function(){t.slideshow&&t.slideshow.enabled&&t.slideshow.restart()};var g={defaults:{duration:500,opacity:1},hideEffects:{fade:function(u){var u=u||{},v=+u.duration;if(MotoJS.tools.isIE()<9){return false}isNaN(v)&&(v=g.defaults.duration);return this.animate({opacity:0},v).promise()},flyLeft:function(v){var v=v||{},x=+(v.duration||g.defaults.duration),u=this.position(),w=this.width(),y=this.offset();this.css("width",w+"px");this.css({right:"auto",left:"auto"});return this.animate({left:-(w)},x).promise()},flyRight:function(v){var v=v||{},x=+(v.duration||g.defaults.duration),u=this.position(),w=this.width(),y=this.offset();this.css("width",w+"px");this.css({right:"auto",left:"auto"});return this.animate({right:-(w)},x).promise()}},showEffects:{fade:function(v){var v=v||{},w=+v.duration,u=v.opacity||g.defaults.opacity;if(MotoJS.tools.isIE()<9){return false}isNaN(w)&&(w=g.defaults.duration);return this.animate({opacity:u},w).promise()},flyRight:function(w){var u=this.position(),x=a(this),w=w||{},z=+(w.duration||g.defaults.duration),v=a(window).width(),y=this.width(),B=this.offset(),A={left:x.css("left"),right:x.css("right"),width:"auto"};this.css("width",y+"px");this.css({right:"auto",left:y,opacity:1});return this.animate({left:(u.left)},z,function(){x.css(A)}).promise()},flyLeft:function(w){var u=this.position(),w=w||{},x=a(this),z=+(w.duration||g.defaults.duration),v=a(window).width(),y=this.width(),B=this.offset(),A={left:x.css("left"),right:x.css("right"),width:"auto"};this.css("width",y+"px");this.css({right:"auto",left:-(y),opacity:1});return this.animate({left:(u.left)},z,function(){x.css(A)}).promise()}},changeImage:function(C,B){var z=a(C),y=t.me(".mjs-slider-image-old"),x=t.me(".mjs-slider-image-new"),E=y.find("img"),F,u,w,v,A=t.getPropertyValue("imageAnimationDuration"),D=true;if(z.is("img")){switch(t.getPropertyValue("imageAnimation")){case"slide":if(B){F=this.hideEffects.flyLeft;u=this.showEffects.flyRight}else{F=this.hideEffects.flyRight;u=this.showEffects.flyLeft}break;case"fade":default:F=this.hideEffects.fade;u=this.showEffects.fade;break}e=t.slideshow.enabled&&t.getPropertyValue("imageScaling")=="fill"&&!MotoJS.tools.isIE()&&t.getPropertyValue("imageAnimationZoom")=="true";if(E.is("img")||e){l.slidingInProgress=true;x.css("opacity","0");if(D){x.append(z);if(e){k=new c({container:x,duration:t.slideshow.duration*1+A*1});k.animate()}w=F.call(y,{duration:A});v=u.call(x,{duration:A});e&&(j instanceof c)&&j.stop();a.when(w,v).then(function(){if(e){j=k}else{E.remove()}y.attr("style","");l.slidingInProgress=false;y.find("canvas").remove();y.removeClass("mjs-slider-image-old").addClass("mjs-slider-image-new");x.removeClass("mjs-slider-image-new").addClass("mjs-slider-image-old")})}else{a.when(F.call(y,{duration:A})).then(function(){E.remove();y.removeClass("mjs-slider-image-old").addClass("mjs-slider-image-new");x.removeClass("mjs-slider-image-new").addClass("mjs-slider-image-old");y.attr("style","");x.append(z);a.when(u.call(x,{duration:A})).then(function(){l.slidingInProgress=false})})}}else{y.append(z)}}},addTransitionEffectToDescrBlock:function(v){var u=function(w){this.block=w;this.$=w.$;this.setText=function(x,B){var A=(t.getPropertyValue("imageAnimationDuration")||g.defaults.duration)/2,z=this;var y=function(){z.block.setText(x,B)&&z.block.$.fadeIn(A)};if(t.slideshow.enabled&&A>t.slideshow.duration){A=t.slideshow.duration/2}if(i){if(this.block.$.is(":visible")){this.block.$.fadeOut(A,y)}else{setTimeout(y,A)}}else{y()}}};if(v instanceof MotoJS.ui.controls.TextBlock){t.descriptionBlock=new u(v);t.descriptionBlock.$.hide()}}};var m=function(){var u=parseInt(t.me(".mjs-pagination li a").index(this),10);if(l.slidingInProgress){return}if(t.paginator instanceof MotoJS.ui.controls.Paginator){if(t.paginator.activeNum==u){return}b();l.goTo(u)}else{b();l.goTo(u)}};var c=function(G){G=G||{};var F=G.container||a,z=G.duration||10000,x,D=a("<canvas />"),y=a("<canvas />"),A=50,v,w=F.width(),B=F.height();var E=function(Q){Q=Q||{};Q.x=Q.x||P("x");Q.y=Q.y||P("y");Q.isZoom=Q.isZoom!=undefined?Q.isZoom:P("isZoom");if(!in_array(Q.x,["left","right"])&&!in_array(Q.y,["up","down"])&&Q.isZoom==false){Q.x="left"}function P(T){var R={x:["left","right","center"],y:["up","down","center"]},S;switch(T){case"x":case"y":S=R[T][Math.floor((Math.random()*3))];break;case"isZoom":S=Math.floor(Math.random()*2)==0;break}return S}var O=A*x.ratio,M=A,L=(in_array(Q.x,["left","right"])?(Q.x=="left"?0:2):1)*O,K=(in_array(Q.y,["up","down"])?(Q.y=="up"?0:2):1)*M,N=2*O,I=2*M,H={x:-L,y:-K,w:N,h:I},J={x:L-N,y:K-I,w:N,h:I};Q.isZoom&&(H.x=H.y=H.w=H.h=0);return{start:{top:H.y,left:H.x,width:H.w,height:H.h},finish:{top:J.y-H.y,left:J.x-H.x,width:J.w-H.w,height:J.h-H.h}}};this.animate=function(){if(MotoJS.tools.isIE()){return}C();var K=40,I=1/z*K,J=0;var H=function(){x.redraw(J);J>1?clearInterval(v):J+=I};v=setInterval(H,K)};this.stop=function(){clearInterval(v)};var u=function(J){if(!J.length){throw new Error("wrong image in zoomer!")}var I={left:J.position().left,top:J.position().top,width:J.width(),height:J.height()},L,H,K;this.ratio=J.width()/J.height();this.initCtx=function(N,M){H=N;K=M;L=E();var O=function(P){var P=P||0;P++;try{K.drawImage(J[0],0,0,w,B)}catch(Q){if(Q.name=="NS_ERROR_NOT_AVAILABLE"){P<5&&setTimeout(function(){O(P)},1)}else{throw Q}}};O();J.remove()};this.redraw=function(M){H.drawImage(y[0],I.left+L.start.left+L.finish.left*M,I.top+L.start.top+L.finish.top*M,I.width+L.start.width+L.finish.width*M,I.height+L.start.height+L.finish.height*M)}};var C=function(){var H,I;x=new u(F.find("img"));y.attr("width",w).attr("height",B);D.attr("width",w).attr("height",B);F.append(D);H=D[0].getContext("2d");I=y[0].getContext("2d");x.initCtx(H,I)}};this.goToImage=function(u){b();return l.goTo(u)};this.init=function(){t=this;if(!t.data||Object.size(t.data.items)==0){return}t.initGalleryItems();t.galleryItems.fill(t.data.items);n();p();r();e=t.getPropertyValue("imageScaling")=="fill"&&!MotoJS.tools.isIE()&&t.getPropertyValue("imageAnimationZoom")=="true";MotoJS.events.subscribe("onContentLoaded",t.id,function(){d(t.getPropertyValue("slideshowDuration"));l.goTo(t.galleryItems.currItemNumber);MotoJS.events.unsubscribe("onContentLoaded",t.id)});MotoJS.events.subscribe("onResize",t.id,function(){o(t.me(".mjs-slider-image-old img"))})};this._destruct=function(){t.slideshow&&t.slideshow.stop()}},"BaseGalleryModule")})(jQuery);(function(a){MotoJS.widgets.reg("SliderThumbnailsModule",function(t){var c,d,n,g=false,v=false,k=false,s,o;var q=function(){try{var z=n.galleryItems.getCurrentItem().properties.description.value;n.initDescriptionBlock({$:n.me(".mjs-description-block"),text:z});w.addTransitionEffectToDescrBlock(n.descriptionBlock)}catch(y){log("Slider Module. Error while init description block. Details - "+y.message)}};var u=function(){n.getPropertyValue("showButtons")=="true"&&n.initArrows({left:{$:n.me(".mjs-slider-prev"),handler:function(){p();x.slidePrev()}},right:{$:n.me(".mjs-slider-next"),handler:function(){p();x.slideNext()}}})};var r=function(e){n.initSlideshow({handler:function(){return x.slideNext()},duration:e});if(n.getPropertyValue("enableSlideshow")=="true"){n.slideshow.start()}};var p=function(){n.slideshow&&n.slideshow.enabled&&n.slideshow.restart()};var j=function(e){if(n.galleryItems.currItemNumber==e){return}if(n.goToImage(e)!==false){c.setActiveItem(this)}};this.dispatcher={callbacks:{},dispatch:function(z,e){var y;for(y in this.callbacks){if(y!=e&&this.callbacks.hasOwnProperty(y)&&typeof this.callbacks[y]=="function"){this.callbacks[y](z)}}}};var x={slidingInProgress:false,go:function(C,z){var A=n.galleryItems.getNewNumber(C),y;if(!this.slidingInProgress){try{y=this.loadContent(A);a.when(y).then(function(){n.dispatcher.dispatch(C,z)});return y}catch(B){log(B.message)}}return false},goTo:function(A,z){var B=A,y;if(!this.slidingInProgress){try{y=this.loadContent(B);a.when(y).then(function(){n.dispatcher.dispatch(0,z)});return y}catch(C){log(C.message)}}return false},slidePrev:function(e){return this.go(-1,e)},slideNext:function(e){return this.go(1,e)},loadContent:function(A){A=A||0;var E=n.galleryItems.getItemByNum(A),y=a.Deferred();if(!E){return}var C=n.me('.mjs-slider-items img[data-item-id="'+E.id+'"]'),e=a(),F=n.galleryItems.getCount()-1,z=n.galleryItems.currItemNumber,B=A>z||(A==0&&z==F);B=B&&!(A==F&&z==0);if(!C.is("img")){throw new Error("Cannot load image. Slider widget.")}var D=function(){n.galleryItems.currItemNumber=A;if(x.slidingInProgress){return}try{i(e);w.changeImage(e,B);n.descriptionBlock.setText(E.properties.description.value,function(){MotoJS.content.updateBindableLinks()});v=true}catch(G){log("SliderModule :: error while image switching. Details - "+G.message)}y.resolve()};C.one("load",function(){e=C.clone(true);e.one("load",D);e[0].complete&&e.trigger("load")});if(MotoJS.tools.isIE()>=9){C.attr("src",C.attr("src"))}C[0].complete&&C.trigger("load");return y.promise()}};var i=function(e,z){var y=b(z);y&&e.css(MotoJS.tools.adjustImage(n.getPropertyValue("imageScaling"),y,{w:n.me(".mjs-slider-image-wrapper").width(),h:n.me(".mjs-slider-image-wrapper").height(),valign:n.getPropertyValue("imageVerticalAlign"),halign:n.getPropertyValue("imageHorizontalAlign")}))};var b=function(y){var e=y?n.galleryItems.getItemByNum(y):n.galleryItems.getCurrentItem();return a.isPlainObject(e)?{w:+e.properties.preview.image.parameters.width,h:+e.properties.preview.image.parameters.height}:false};var w={defaults:{duration:500,opacity:1},hideEffects:{fade:function(e){var e=e||{},y=+e.duration;if(MotoJS.tools.isIE()<9){return false}isNaN(y)&&(y=w.defaults.duration);return this.animate({opacity:0},y).promise()},flyLeft:function(y){var y=y||{},A=+(y.duration||w.defaults.duration),e=this.position(),z=this.width(),B=this.offset();this.css("width",z+"px");this.css({right:"auto",left:"auto"});return this.animate({left:-(z)},A).promise()},flyRight:function(y){var y=y||{},A=+(y.duration||w.defaults.duration),e=this.position(),z=this.width(),B=this.offset();this.css("width",z+"px");this.css({right:"auto",left:"auto"});return this.animate({right:-(z)},A).promise()}},showEffects:{fade:function(y){var y=y||{},z=+y.duration,e=y.opacity||w.defaults.opacity;if(MotoJS.tools.isIE()<9){return false}isNaN(z)&&(z=w.defaults.duration);return this.animate({opacity:e},z).promise()},flyRight:function(z){var e=this.position(),A=a(this),z=z||{},C=+(z.duration||w.defaults.duration),y=a(window).width(),B=this.width(),E=this.offset(),D={left:A.css("left"),right:A.css("right"),width:"auto"};this.css("width",B+"px");this.css({right:"auto",left:B,opacity:1});return this.animate({left:(e.left)},C,function(){A.css(D)}).promise()},flyLeft:function(z){var e=this.position(),z=z||{},A=a(this),C=+(z.duration||w.defaults.duration),y=a(window).width(),B=this.width(),E=this.offset(),D={left:A.css("left"),right:A.css("right"),width:"auto"};this.css("width",B+"px");this.css({right:"auto",left:-(B),opacity:1});return this.animate({left:(e.left)},C,function(){A.css(D)}).promise()}},changeImage:function(F,E){var C=a(F),B=n.me(".mjs-slider-image-old"),A=n.me(".mjs-slider-image-new"),H=B.find("img"),I,e,z,y,D=n.getPropertyValue("imageAnimationDuration"),G=true;if(C.is("img")){switch(n.getPropertyValue("imageAnimation")){case"slide":if(E){I=this.hideEffects.flyLeft;e=this.showEffects.flyRight}else{I=this.hideEffects.flyRight;e=this.showEffects.flyLeft}break;case"fade":default:I=this.hideEffects.fade;e=this.showEffects.fade;break}if(H.is("img")||k){x.slidingInProgress=true;A.css("opacity","0");if(G){A.append(C);if(k){o=new l({container:A,duration:n.slideshow.duration*1+D*1});o.animate()}z=I.call(B,{duration:D});y=e.call(A,{duration:D});k&&(s instanceof l)&&s.stop();a.when(z,y).then(function(){if(k){s=o}else{H.remove()}B.attr("style","");x.slidingInProgress=false;B.find("canvas").remove();B.removeClass("mjs-slider-image-old").addClass("mjs-slider-image-new");A.removeClass("mjs-slider-image-new").addClass("mjs-slider-image-old")})}else{a.when(I.call(B,{duration:D})).then(function(){H.remove();B.removeClass("mjs-slider-image-old").addClass("mjs-slider-image-new");A.removeClass("mjs-slider-image-new").addClass("mjs-slider-image-old");B.attr("style","");A.append(C);a.when(e.call(A,{duration:D})).then(function(){x.slidingInProgress=false})})}}else{B.append(C)}}},addTransitionEffectToDescrBlock:function(y){var e=function(z){this.block=z;this.$=z.$;this.setText=function(A,E){var D=(n.getPropertyValue("imageAnimationDuration")||w.defaults.duration)/2,C=this;var B=function(){C.block.setText(A,E)&&C.block.$.fadeIn(D)};if(n.slideshow.enabled&&D>n.slideshow.duration){D=n.slideshow.duration/2}if(v){if(this.block.$.is(":visible")){this.block.$.fadeOut(D,B)}else{setTimeout(B,D)}}else{B()}}};if(y instanceof MotoJS.ui.controls.TextBlock){n.descriptionBlock=new e(y);n.descriptionBlock.$.hide()}}};var l=function(J){J=J||{};var I=J.container||a,C=J.duration||10000,A,G=a("<canvas />"),B=a("<canvas />"),D=50,y,z=I.width(),E=I.height();var H=function(T){T=T||{};T.x=T.x||S("x");T.y=T.y||S("y");T.isZoom=T.isZoom!=undefined?T.isZoom:S("isZoom");if(!in_array(T.x,["left","right"])&&!in_array(T.y,["up","down"])&&T.isZoom==false){T.x="left"}function S(W){var U={x:["left","right","center"],y:["up","down","center"]},V;switch(W){case"x":case"y":V=U[W][Math.floor((Math.random()*3))];break;case"isZoom":V=Math.floor(Math.random()*2)==0;break}return V}var R=D*A.ratio,P=D,O=(in_array(T.x,["left","right"])?(T.x=="left"?0:2):1)*R,N=(in_array(T.y,["up","down"])?(T.y=="up"?0:2):1)*P,Q=2*R,L=2*P,K={x:-O,y:-N,w:Q,h:L},M={x:O-Q,y:N-L,w:Q,h:L};T.isZoom&&(K.x=K.y=K.w=K.h=0);return{start:{top:K.y,left:K.x,width:K.w,height:K.h},finish:{top:M.y-K.y,left:M.x-K.x,width:M.w-K.w,height:M.h-K.h}}};this.animate=function(){if(MotoJS.tools.isIE()){return}F();var N=40,L=1/C*N,M=0;var K=function(){A.redraw(M);M>1?clearInterval(y):M+=L};y=setInterval(K,N)};this.stop=function(){clearInterval(y)};var e=function(M){if(!M.length){throw new Error("wrong image in zoomer!")}var L={left:M.position().left,top:M.position().top,width:M.width(),height:M.height()},O,K,N;this.ratio=M.width()/M.height();this.initCtx=function(Q,P){K=Q;N=P;O=H();var R=function(S){var S=S||0;S++;try{N.drawImage(M[0],0,0,z,E)}catch(T){if(T.name=="NS_ERROR_NOT_AVAILABLE"){S<5&&setTimeout(function(){R(S)},1)}else{throw T}}};R();M.remove()};this.redraw=function(P){K.drawImage(B[0],L.left+O.start.left+O.finish.left*P,L.top+O.start.top+O.finish.top*P,L.width+O.start.width+O.finish.width*P,L.height+O.start.height+O.finish.height*P)}};var F=function(){var K,L;A=new e(I.find("img"));B.attr("width",z).attr("height",E);G.attr("width",z).attr("height",E);I.append(G);K=G[0].getContext("2d");L=B[0].getContext("2d");A.initCtx(K,L)}};var m=function(){var e={delimiter:n.getPropertyValue("thumbnailsDistance"),arrows:{prev:n.getPropertyValue("thumbnailsPrevArrowStyle"),prevHover:n.getPropertyValue("thumbnailsPrevArrowHoverStyle"),next:n.getPropertyValue("thumbnailsNextArrowStyle"),nextHover:n.getPropertyValue("thumbnailsNextArrowHoverStyle"),size:n.getPropertyValue("thumbnailsArrowsSize")},orientation:n.getPropertyValue("thumbnailsOrientation"),items:{styleVO:n.getPropertyValue("thumbnailStyle"),styleVOHover:n.getPropertyValue("thumbnailHoverStyle")},enableActiveItem:true,clickAction:j,zoom:false};if(n.getPropertyValue("thumbnailsOrientation")=="vertical"){e.onAfterInit=function(){n.me(".mjs-thumbnails-bg").hide();setTimeout(function(){n.me(".mjs-thumbnails-bg").css("display","inline-block")},1)};MotoJS.events.subscribe("onResize",n.id,function(){if(a(window).height()==d){return}d=a(window).height();var y=n.me(".mjs-thumbnails-bg"),A=n.me(".mjs-thumbnails-wrapper").height(),D=parseInt(y.css("border-top-width")),z=parseInt(y.css("border-bottom-width")),B=parseInt(y.css("padding-top")),C=parseInt(y.css("padding-bottom"));D=isNaN(D)?0:D;z=isNaN(z)?0:z;B=isNaN(B)?0:B;C=isNaN(C)?0:C;y.height(A-(D+z+B+C))})}n.me(".mjs-thumbnails-wrapper").on("click",".mjs-thumbnailsComponent-next, .mjs-thumbnailsComponent-prev",function(){p()});n.me(".mjs-thumbnails").mjsThumbnails(e);if(n.me(".mjs-thumbnails").data("mjs-thumbnailsComponent")){c=n.me(".mjs-thumbnails").data("mjs-thumbnailsComponent")}n.dispatcher.callbacks.thumbnails=function(){if(c instanceof MotoJS.ui.ImageThumbnails){c.setActiveItem(n.galleryItems.currItemNumber)}}};this.goToImage=function(e){p();return x.goTo(e)};this.init=function(){n=this;if(!n.data||Object.size(n.data.items)==0){return}n.initGalleryItems();n.galleryItems.fill(n.data.items);u();q();m();k=n.getPropertyValue("imageScaling")=="fill"&&!MotoJS.tools.isIE()&&n.getPropertyValue("imageAnimationZoom")=="true";MotoJS.events.subscribe("onContentLoaded",n.id,function(){r(n.getPropertyValue("slideshowDuration"));x.goTo(n.galleryItems.currItemNumber);MotoJS.events.unsubscribe("onContentLoaded",n.id)});MotoJS.events.subscribe("onResize",n.id,function(){i(n.me(".mjs-slider-image-old img"))});n.showAnimationComplete=function(){c.reconfigure()}};this._destruct=function(){n.slideshow&&n.slideshow.stop()}},"BaseGalleryModule")})(jQuery);(function(a){MotoJS.widgets.reg("SlidingGalleryModule",function(){var p,l="SlidingGalleryModule",e={w:null,h:null,mTop:null},b=false,i,d,g={slidingType:{value:"arrows"},orientation:{value:"horizontal"},delimiterSize:{value:8},openIn:{value:"lightbox"},slideshow:{value:"false"},slideshowDuration:{value:1000},thumbnailStyle:{value:""},hoverThumbnailStyle:{value:""},hoverThumbnailZoom:{value:"true"},arrowsSize:{value:65},jumpToFirst:{value:"true"},prevArrowStyle:{value:""},prevArrowHoverStyle:{value:""},nextArrowStyle:{value:""},nextArrowHoverStyle:{value:""}};var c=function(){var q=MotoJS.popup.getOpenedPopupUrl()||MotoJS.page.getUrl();MotoJS.router.pushState(q+"/"+p.id+"/"+p.galleryItems.getCurrentItem().id,{widgetInitiator:p.id})};var o=function(q){if(q.widget==p.id){q.data[0]&&p.me('ul li a[data-item="'+parseInt(q.data[0])+'"]').trigger("click")}else{if(MotoJS.lightbox.imageProvider.getId()==p.id){MotoJS.lightbox.close()}}};this._exec=function(q){q&&p.me('ul li a[data-item="'+q+'"]').trigger("click")};var m=function(q,t){var s,r,t=!!t;s=p.galleryItems.getCurrentItem().id;p.me('ul li a[data-item="'+s+'"] span').removeClass("active");if(t){r=(q>0)?p.galleryItems.next():p.galleryItems.prev()}else{r=p.galleryItems.setCurrentItemNumberById(q)}p.me('ul li a[data-item="'+r.id+'"] span').addClass("active");c();return r&&{url:r.properties.preview.value}};var n=function(r){var s=(p.me("ul li a").length==1),q=p.me("ul li a");switch(r){case"lightbox":MotoJS.lightbox.register(q,p.id,p.properties.slideshow.value=="true",p.properties.slideshowDuration.value);MotoJS.lightbox.imageProvider.add(p.id,m,s);q.click(function(){MotoJS.lightbox.imageProvider.setId(p.id)});break;case"bg":q.click(function(u){var t,v=a(this).data("item");u.preventDefault();p.me("ul li a span.active").removeClass("active");a(this).find("span").addClass("active");p.galleryItems.setCurrentItemNumberById(v);try{t=p.galleryItems.getItemById(v).properties.preview.value}catch(u){t=""}MotoJS.backgroundImage.getInstance().setBackground(t,p.id)});MotoJS.backgroundImage.getInstance().addProvider(p.id,m,s);break}};var k=function(){this.data=this.data||{};this.data.items=this.data.items||{}};var j=function(r){var q={orientation:p.getPropertyValue("orientation"),delimiter:p.getPropertyValue("delimiterSize"),items:{styleVO:p.getPropertyValue("thumbnailStyle"),styleVOHover:p.getPropertyValue("hoverThumbnailStyle")},zoom:p.getPropertyValue("hoverThumbnailZoom")=="true"};switch(r.slidingType.value){case"arrows":q.arrows={prev:p.getPropertyValue("prevArrowStyle"),prevHover:p.getPropertyValue("prevArrowHoverStyle"),next:p.getPropertyValue("nextArrowStyle"),nextHover:p.getPropertyValue("nextArrowHoverStyle"),size:p.getPropertyValue("arrowsSize"),jumpToFirst:p.getPropertyValue("jumpToFirst")=="true"};break;case"mouse":q.followMouse={duration:p.getPropertyValue("mouseDuration")};break}p.me().mjsThumbnails(q);if(p.me().data("mjs-thumbnailsComponent")){d=p.me().data("mjs-thumbnailsComponent")}};this.init=function(){var q;p=this;k.call(this);p.applyDefaults(g);q=p.properties;p.initGalleryItems();p.galleryItems.fill(p.data.items);p.itemsMap=p.getItemsMap(p.data.items);j(p.properties);if(q.openIn.value=="bg"){try{img=p.galleryItems.getCurrentItem().properties.preview.value}catch(r){img=""}MotoJS.backgroundImage.getInstance().setBackground(img,p.id)}n(q.openIn.value);if(p.id){MotoJS.events.subscribe("onStateChange",p.id,o)}p.showAnimationComplete=function(){d.reconfigure()}};this._destruct=function(){MotoJS.backgroundImage.getInstance().removeProvider(p.id);MotoJS.lightbox.imageProvider.remove(p.id)}},"BaseGalleryModule")})(jQuery);(function(a){MotoJS.widgets.reg("SlidingClickActionModule",function(){var c,d;var b=function(g){var e={orientation:c.getPropertyValue("orientation"),delimiter:c.getPropertyValue("delimiterSize"),items:{styleVO:c.getPropertyValue("thumbnailStyle"),styleVOHover:c.getPropertyValue("hoverThumbnailStyle")},zoom:c.getPropertyValue("hoverThumbnailZoom")=="true"};switch(g.slidingType.value){case"arrows":e.arrows={prev:c.getPropertyValue("prevArrowStyle"),prevHover:c.getPropertyValue("prevArrowHoverStyle"),next:c.getPropertyValue("nextArrowStyle"),nextHover:c.getPropertyValue("nextArrowHoverStyle"),size:c.getPropertyValue("arrowsSize"),jumpToFirst:c.getPropertyValue("jumpToFirst")=="true"};break;case"mouse":e.followMouse={duration:c.getPropertyValue("mouseDuration")};break}c.me().mjsThumbnails(e);if(c.me().data("mjs-thumbnailsComponent")){d=c.me().data("mjs-thumbnailsComponent")}};this.init=function(){c=this;b(c.properties);c.showAnimationComplete=function(){d.reconfigure()}}},"BaseGalleryModule")})(jQuery);(function(a){MotoJS.widgets.reg("AdvancedHorizontalMenuModule",function(l){var m,i=a();this.setSubmenuBgImage=function(n){var p;try{if(n.hasSubmenuBGImage2&&n.hasSubmenuBGRepeatMode2&&n.hasSubmenuBGHorizontalAlign2&&n.hasSubmenuBGVerticalAlign2){p=[n.hasSubmenuBGImage2.value,n.hasSubmenuBGRepeatMode2.value,n.hasSubmenuBGHorizontalAlign2.value,n.hasSubmenuBGVerticalAlign2.value];this.setBGImage(this.me("ul.mjs-menu-level-1>li>.mjs-menu-stylevo>ul").siblings(".mjs-menu-styles"),p[0],p[1],p[2],p[3])}if(n.hasSubmenuBGImage&&n.hasSubmenuBGRepeatMode&&n.hasSubmenuBGHorizontalAlign&&n.hasSubmenuBGVerticalAlign){p=[n.hasSubmenuBGImage.value,n.hasSubmenuBGRepeatMode.value,n.hasSubmenuBGHorizontalAlign.value,n.hasSubmenuBGVerticalAlign.value];this.setBGImage(this.me("ul.mjs-menu-level-0>li>.mjs-menu-stylevo>ul").siblings(".mjs-menu-styles"),p[0],p[1],p[2],p[3])}}catch(o){throw new Error("Menu initialization error. While setting background of item which contains submenu.")}};var e=function(o){var n=o&&o.hash?MotoJS.router.splitUrl(o.hash).page:MotoJS.page.getUrl()||MotoJS.website.startPage.url;m.killBGHack(m.properties);m.me("> ul li.mjs-active").removeClass("mjs-active");m.me("ul li a").filter("[data-url='"+n+"']").parent().parent().addClass("mjs-active")};var j=function(n){var o,p=a(this).has("ul");if(!p.length){return}n=typeof n=="boolean"?n:false;var q=function(t){if(a("ul",this).length>0&&!n){m.showSubmenu(a("ul.mjs-menu-level-1",this),"fade")}var r=a("ul.mjs-menu-level-1",this),s=p.offset().top;i=r;if(r.outerHeight()>t&&s>t){r.css({bottom:a(this).outerHeight()+"px",top:"auto",left:0,width:100+"%"})}else{r.css({bottom:"auto",top:a(this).outerHeight()+"px",left:0})}};o=a(window).height()-(p.offset().top+p.outerHeight()-a(document).scrollTop());if(MotoJS.FB.activated){MotoJS.FB.run("updatePageInfo",function(r){if(r.clientHeight){o=r.clientHeight-r.offsetTop-(p.offset().top+p.outerHeight()-r.scrollTop)}q.call(p,o)})}q.call(p,o)};var c=function(){var n=m.properties;if(!n){throw new Error("Horizontal Menu initialization error. Response properties object is undefined")}m.setLineHeight();m.killBGHack(n);m.setSubmenuBgImage(n);m.applyIEStyleVOGradientFilterHack(m.me().parent());m.me("ul.mjs-menu-level-0>li").hoverIntent({sensitivity:7,interval:100,over:j,timeout:500,out:function(){m.hideSubmenu(a("ul.mjs-menu-level-1",this),"fade")}});m.me("ul.mjs-menu-level-1>li").hoverIntent({sensitivity:7,interval:100,over:function(){if(a("ul",this).length>0){m.showSubmenu(a("ul.mjs-menu-level-2",this),"fade")}var o=a("ul.mjs-menu-level-2",this),r=a(window).width()-(a(this).offset().left+a(this).outerWidth()),q=a(this).parents("ul.mjs-menu-level-1"),p=-(MotoJS.tools.strToInt(q.css("padding-top"))-MotoJS.tools.strToInt(q.css("border-top-width")))+"px";o.css("top",p);if(r>o.outerWidth()){o.css("right","auto");o.css("left",100+"%")}else{o.css("left","auto");o.css("right",100+"%")}},timeout:500,out:function(){m.hideSubmenu(a("ul.mjs-menu-level-2",this),"fade")}});MotoJS.tools.isApple()&&m.me("> ul.mjs-menu-level-0 > li.mjs-sub:has(ul.mjs-menu)").on("mousedown",function(o){var p=a(" ul.mjs-menu-level-1",this);if(p.is(":hidden")){m.showSubmenu(p,"fade");a(this).find("a.mjs-link-bindable").eq(0).data("disabled",true)}});a(".mjs-menu-icon-image").each(function(){var o=a(this).attr("src");if(typeof o=="undefined"||o==""){a(this).parent().hide()}});k();e()};var b=function(){var o=m.me().parent().height(),n=m.me(".mjs-menu-level-0>li.mjs-sub>.mjs-menu-stylevo"),q=o-parseFloat(n.css("padding-top"))-parseFloat(n.css("border-top-width"))-parseFloat(n.css("padding-bottom"))-parseFloat(n.css("border-bottom-width")),p=o-parseFloat(n.css("border-top-width"))-parseFloat(n.css("border-bottom-width"));m.me(".mjs-menu-level-0 > li.mjs-sub > .mjs-menu-stylevo").height(q);m.me(".mjs-menu-level-0 > li.mjs-sub > .mjs-menu-stylevo > .mjs-menu-styles").height(p);MotoJS.tools.isApple()&&j.call(m.me("ul.mjs-menu-level-0>li"),true)};var g=function(){var q=m.properties;if(!q){throw new Error("Horizontal Menu initialization error. Response properties object is undefined")}var p=(m.me().parent().width());var u=((m.me(".mjs-menu-level-0 > li").length)/2)-1;var t=((m.me().parent().width())-((q.delimiterSpace.value)*u));var o=t/((m.me(".mjs-menu-level-0 > li").length)/2);var n=((100*Math.floor(o))/p);var s=((100*((q.delimiterSpace.value)*u))/p);var r=100-((n)*(u))-s;b();m.me(".mjs-menu-level-0 > li.mjs-sub").css("width",n+"%");m.me(".mjs-menu-level-0 > li.mjs-item-last").css("width",r+"%");m.me(".mjs-menu-delimiter").css("width",(((q.delimiterSpace.value)*100)/p)+"%");m.me(".mjs-menu-icon-image").each(function(){if(typeof a(this).attr("src")=="undefined"||a(this).attr("src")==""){a(this).parent().siblings(".mjs-menu-text").css("width",(a(this).parents(".mjs-menu-level-0 > li.mjs-sub").width())+"px")}else{a(this).parent().siblings(".mjs-menu-text").css("width",((m.me(".mjs-menu-level-0 li.mjs-sub").width())-(m.me(".mjs-menu-icon").width()))+"px");a(this).parent().siblings(".mjs-menu-text").css("height",(a(this).height())+"px")}})};var k=function(){var n=m.properties;if(n.hasOwnProperty("fitText")&&n.fitText["value"]==="true"){g()}else{m.me(".mjs-menu-level-0 li ul.mjs-menu>li>.mjs-menu-stylevo").addClass("mjs-menu-minWidth");m.me(".mjs-menu-level-0 li ul.mjs-menu").addClass("mjs-menu-minWidth");b();m.me(".mjs-menu-level-1   .mjs-menu-icon-image").each(function(){if(typeof a(this).attr("src")=="undefined"||a(this).attr("src")==""){a(this).parent().siblings(".mjs-menu-text").css("width",180+"px")}})}};var d=function(){m.hideSubmenu(m.me("ul.mjs-menu-level-1"),"fade");m.hideSubmenu(m.me("ul.mjs-menu-level-2"),"fade")};this.init=function(){if(!this.id||!this.properties){log("AdvancedHorizontalMenuModule init failed.")}m=this;c();MotoJS.tools.isApple()&&MotoJS.events.subscribe("onSwitchStart",m.id,d);MotoJS.events.subscribe("onSwitchFinish",m.id,e);MotoJS.events.subscribe("onClosePopup",m.id,e);MotoJS.events.subscribe("onLoginBoxHide",m.id,e);MotoJS.events.subscribe("onResize",m.id,k)}},"BaseMenu");MotoJS.widgets.reg("AdvancedVerticalMenuModule",function(o){var q,t,s,k,n,p=false,c=false;var g=function(v){var u=v&&v.hash?MotoJS.router.splitUrl(v.hash).page:MotoJS.page.getUrl()||MotoJS.website.startPage.url;q.killBGHack(q.properties);q.me("> ul li.mjs-active").removeClass("mjs-active");q.me("ul li a").filter("[data-url='"+u+"']").parent().parent().addClass("mjs-active")};var m=function(){var u=q.me().find("ul.mjs-menu-level-1 li");t=p?q.properties.subMenuItemsHeight.value:q.me("ul.mjs-menu-level-0 > li.mjs-sub").height();u.height(t)};var l=function(){var u=q.me().find("ul.mjs-menu-level-1 li");if(c){q.me().addClass("mjs-m-submenu-set-width");s=q.properties.subMenuItemsWidth.value;u.width(s);u.closest("ul").width(s);a(".mjs-menu-text",u).width(s)}else{u.closest("ul").width(q.me(".mjs-menu-level-0 > li").outerWidth())}};var j=function(){var u=q.me(".mjs-menu-level-0 > li.mjs-sub").width(),v=q.me(".mjs-menu-icon").width();q.me(".mjs-menu-icon-image").each(function(){var w=a(this).parent().siblings(".mjs-menu-text");if(typeof a(this).attr("src")=="undefined"||a(this).attr("src")==""){w.width(u)}else{w.css("width",(u-v)+"px");w.css("height",(a(this).height())+"px")}})};var r=function(){var w=q.me(".mjs-menu-level-0 > li.mjs-sub"),u,v;if(!w.length){return}u=k-n*(w.length-1);v=(u/w.length)/k*100;w.css("height",v+"%")};var i=function(v){var x=q.me(".mjs-menu-level-0 > li.mjs-delimiter"),w=q.properties.delimiterSpace,u=w?w.value:0;x.css("height",((u*100)/v)+"%")};var b=function(){var u=q.properties,v;q.setLineHeight();q.killBGHack(u);q.setSubmenuBgImage(u);q.applyIEStyleVOGradientFilterHack(q.me().parent());q.me(".mjs-menu-level-0 li:has(.mjs-menu)").hoverIntent({sensitivity:7,interval:100,over:function(){var w=a(this).find(".mjs-menu").first();var x=a(window).width()-(a(this).offset().left+a(this).outerWidth());if(x>w.outerWidth()){w.css("right","auto");w.css("left",100+"%");q.me(".mjs-menu-level-1").css("top",0+"px");q.me(".mjs-menu-level-2").css("top",((0)-parseFloat(q.me("ul.mjs-menu-level-1").css("padding-top"))-parseFloat(q.me("ul.mjs-menu-level-1").css("border-top-width")))+"px")}else{w.css("left","auto");w.css("right",100+"%");q.me(".mjs-menu-level-1").css("top",0+"px");q.me(".mjs-menu-level-2").css("top",((0)-parseFloat(q.me("ul.mjs-menu-level-1").css("padding-top"))-parseFloat(q.me("ul.mjs-menu-level-1").css("border-top-width")))+"px")}q.showSubmenu(w,"fade")},timeout:500,out:function(){q.hideSubmenu(a("ul.mjs-menu",this),"fade")}});MotoJS.tools.isApple()&&q.me("> ul.mjs-menu-level-0 > li.mjs-sub:has(ul.mjs-menu)").on("mousedown",function(w){var x=a(" ul.mjs-menu-level-1",this);if(x.is(":hidden")){q.showSubmenu(x,"fade");a(this).find("a.mjs-link-bindable").eq(0).data("disabled",true)}});a(".mjs-menu-icon-image").each(function(){if(typeof a(this).attr("src")=="undefined"||a(this).attr("src")==""){a(this).parent().hide()}});n=q.me(".mjs-menu-delimiter").height();MotoJS.events.subscribe("onResize",q.id,function(){k=q.me().parent().height();r(k);j();m();l();i();q.me(".mjs-menu-level-1, .mjs-menu-level-2").css("height","auto");q.me("li.mjs-sub>.mjs-menu-stylevo").each(function(){a(this).css("width",(a(this).parent().width())-parseFloat(a(this).css("padding-left"))-parseFloat(a(this).css("padding-right"))-parseFloat(a(this).css("border-left-width"))-parseFloat(a(this).css("border-right-width"))+"px");a(this).css("height",(a(this).parent().height())-parseFloat(a(this).css("padding-top"))-parseFloat(a(this).css("padding-bottom"))-parseFloat(a(this).css("border-top-width"))-parseFloat(a(this).css("border-bottom-width"))+"px")})});g()};var d=function(){q.hideSubmenu(q.me("ul.mjs-menu-level-1"),"fade");q.hideSubmenu(q.me("ul.mjs-menu-level-2"),"fade")};var e=function(){if(!q.id||!q.properties){log("AdvancedVerticalMenuModule init failed.");return}var u={properties:{setSubMenuItemsHeight:{value:"false"},subMenuItemsHeight:{value:"0"},setSubMenuItemsWidth:{value:"false"},subMenuItemsWidth:{value:"0"},delimiterSpace:{value:"0"}}};a.extend(true,u,q);q=u};this.setSubmenuBgImage=function(u){var w;try{if(u.hasSubmenuBGImage2&&u.hasSubmenuBGRepeatMode2&&u.hasSubmenuBGHorizontalAlign2&&u.hasSubmenuBGVerticalAlign2){w=[u.hasSubmenuBGImage2.value,u.hasSubmenuBGRepeatMode2.value,u.hasSubmenuBGHorizontalAlign2.value,u.hasSubmenuBGVerticalAlign2.value];this.setBGImage(this.me("ul.mjs-menu-level-1>li>.mjs-menu-stylevo>ul").siblings(".mjs-menu-styles"),w[0],w[1],w[2],w[3])}if(u.hasSubmenuBGImage&&u.hasSubmenuBGRepeatMode&&u.hasSubmenuBGHorizontalAlign&&u.hasSubmenuBGVerticalAlign){w=[u.hasSubmenuBGImage.value,u.hasSubmenuBGRepeatMode.value,u.hasSubmenuBGHorizontalAlign.value,u.hasSubmenuBGVerticalAlign.value];this.setBGImage(this.me("ul.mjs-menu-level-0>li>.mjs-menu-stylevo>ul").siblings(".mjs-menu-styles"),w[0],w[1],w[2],w[3])}}catch(v){throw new Error("Menu initialization error. While setting background of item which contains submenu.")}};this.init=function(){q=this;e();try{p=q.properties.setSubMenuItemsHeight.value=="true";c=q.properties.setSubMenuItemsWidth.value=="true"}catch(u){}b();MotoJS.tools.isApple()&&MotoJS.events.subscribe("onSwitchStart",q.id,d);MotoJS.events.subscribe("onSwitchFinish",this.id,g);MotoJS.events.subscribe("onClosePopup",this.id,g);MotoJS.events.subscribe("onLoginBoxHide",this.id,g)}},"BaseMenu")})(jQuery);(function(a){MotoJS.widgets.reg("ButtonSlot",function(){var b;var c=function(){var e=b.properties;if(!e){throw new Error("Button initialization error. Response properties object is undefined")}var g=a("#mjs-widget_"+b.id+" .mjs-button-align").width()-a("#mjs-widget_"+b.id+" .mjs-button-align .mjs-button-icon").width();a("#mjs-widget_"+b.id+" .mjs-button-align .mjs-button-text").width(g);d();b.me().parent().mouseover(function(){var i=e.buttonStyle.style.borderTThickness;i-=(e.buttonHoverStyle.style.borderTThickness==0)?e.buttonStyle.style.borderTThickness:e.buttonHoverStyle.style.borderTThickness;i+=e.buttonStyle.style.paddingTop;i-=(e.buttonHoverStyle.style.paddingTop==0)?e.buttonStyle.style.paddingTop:e.buttonHoverStyle.style.paddingTop;var j=e.buttonStyle.style.borderLThickness;j-=(e.buttonHoverStyle.style.borderLThickness==0)?e.buttonStyle.style.borderLThickness:e.buttonHoverStyle.style.borderLThickness;j+=e.buttonStyle.style.paddingLeft;j-=(e.buttonHoverStyle.style.paddingLeft==0)?e.buttonStyle.style.paddingLeft:e.buttonHoverStyle.style.paddingLeft;var k=a(this).y+i;var l=a(this).x+j;a(this).css({top:k+"px"});a(this).css({left:l+"px"})}).mouseout(function(){a(this).css({top:a(this).y+"px"});a(this).css({left:a(this).x+"px"})})};var d=function(i){var e=b.properties;if(e.listenActivePage.value=="true"){var g=i&&i.hash?i.hash:MotoJS.page.getUrl()||MotoJS.website.startPage.url;b.me().removeClass("mjs-button-active");if(b.me("a.mjs-link-bindable").attr("data-url")==g){b.me().addClass("mjs-button-active")}}};this.init=function(){b=this;try{c()}catch(g){log(g)}this.id&&MotoJS.events.subscribe("onSwitchFinish",this.id,d)}})})(jQuery);(function(a){MotoJS.widgets.reg("PayPalButtonSlot",function(){var g="mjs-widget_",q=false,o,m,p,c;var d=function(r,s){if(!o.properties){throw new Error("PayPalButtonSlot initialization error. Response properties object is undefined")}if(!s){s={}}if(!o.properties[r]){return s}return o.properties[r]};var j=function(r,s){if(!s){s=""}return d(r,{value:s}).value};var b=function(){if(q){return false}q=true;m=a("#"+g+o.id);c=a("#"+g+o.id+"_submit");p=a("#"+g+o.id+"_form");switch(j("buttonType")){case"services":l();break;case"donations":e();break}};var k=function(r,t){if(a('input[name="'+r+'"]',p).length<1){var s='<input name="'+r+'" type="hidden" value="'+t+'"/>';a(p).append(s)}else{a('input[name="'+r+'"]',p).val(t)}};var n=function(t,s,r){if(!r){r=""}if(!t[s]){return r}return t[s]};var l=function(){var r;k("cmd","_xclick");k("business",j("receiveEmailAddress"));k("currency_code",j("itemPriceCurrency","USD"));k("lc","US");k("item_name",j("itemName"));k("amount",j("itemPrice"));r=j("itemId");if(r!=""){k("item_number",r)}r=j("itemShippingAmount");if(r!=""){k("shipping",r)}r=j("itemTaxAmount");if(r!=""){k("tax_rate",r)}var s=i({buttonType:j("buttonPaypalText")});if(s!=""){c.attr("src",s)}};var e=function(){var r;k("cmd","_donations");k("business",j("receiveEmailAddress"));k("currency_code",j("itemPriceCurrency","USD"));k("lc","US");k("item_name",j("itemName"));r=j("itemId");if(r!=""){k("item_number",r)}if(j("donationType")=="fixed"){k("amount",j("donationsPrice"))}var s=i({buttonType:"donate"});if(s!=""){c.attr("src",s)}};var i=function(t){var r=n(t,"buttonType","buynow");var s="";if(j("buttonImageType")=="custom"){s=j("buttonCustomImage");if(s!=""){s=MotoJS.website.basePath+s}}if(s==""){s="https://www.paypal.com/en_US/i/btn/btn_"+r+j("buttonPaypalMode")+".gif"}return s};this.init=function(){try{o=this;b()}catch(r){log(r)}}})})(jQuery);(function(a){MotoJS.widgets.reg("TimerSlot",function(){var c,d,e;var b=function(){var q=new Date;e=d.getTime()-q.getTime()+5;delete q;if(e<0){}else{var u=0,m=0,l=0,r=0,o=0,n=0,k=0,t=0,s=0,p=0,j=0,v=0;e=Math.floor(e/1000);u=Math.floor(e/86400);m=(u>=10)?u.toString().charAt(0):"0";l=(u>=10)?u.toString().charAt(1):u.toString().charAt(0);e=e%86400;r=Math.floor(e/3600);o=(r>=10)?r.toString().charAt(0):"0";n=(r>=10)?r.toString().charAt(1):r.toString().charAt(0);e=e%3600;k=Math.floor(e/60);t=(k>=10)?k.toString().charAt(0):"0";s=(k>=10)?k.toString().charAt(1):k.toString().charAt(0);e=e%60;p=Math.floor(e);j=(p>=10)?p.toString().charAt(0):"0";v=(p>=10)?p.toString().charAt(1):p.toString().charAt(0);a("#mjs-widget_"+c.id+" .timerSlot-days1").html(m);a("#mjs-widget_"+c.id+" .timerSlot-days2").html(l);a("#mjs-widget_"+c.id+" .timerSlot-hours1").html(o);a("#mjs-widget_"+c.id+" .timerSlot-hours2").html(n);a("#mjs-widget_"+c.id+" .timerSlot-mins1").html(t);a("#mjs-widget_"+c.id+" .timerSlot-mins2").html(s);a("#mjs-widget_"+c.id+" .timerSlot-secs1").html(j);a("#mjs-widget_"+c.id+" .timerSlot-secs2").html(v)}setTimeout(function(){b()},1000)};var g=function(){var n=c.properties;if(!n){throw new Error("Timer initialization error. Response properties object is undefined")}else{var m=n.dateYear.value?n.dateYear.value:2014,o=n.dateMonth.value?n.dateMonth.value:1,k=n.dateDay.value?n.dateDay.value:1,j=n.dateHour.value?n.dateHour.value:1,p=n.dateMinutes.value?n.dateMinutes.value:1,l=0;o=--o;d=new Date(m,o,k,j,p,l);b()}};var i=function(l){var j=c.properties;if(j.listenActivePage.value=="true"){var k=l&&l.hash?l.hash:MotoJS.page.getUrl()||MotoJS.website.startPage.url;c.me().removeClass("mjs-button-active");if(c.me("a.mjs-link-bindable").attr("data-url")==k){c.me().addClass("mjs-button-active")}}};this.init=function(){c=this;try{g()}catch(j){log(j)}setTimeout(function(){b()},1000)}})})(jQuery);(function(a){MotoJS.widgets.reg("ToTopButtonSlot",function(){var b;var c=function(){var d=b.properties;if(!d){throw new Error("Button initialization error. Response properties object is undefined")}var e=a("#mjs-widget_"+b.id+" .mjs-button-align").width()-a("#mjs-widget_"+b.id+" .mjs-button-align .mjs-button-icon").width();a("#mjs-widget_"+b.id+" .mjs-button-align .mjs-button-text").width(e);b.me().parent().mouseover(function(){var g=d.buttonStyle.style.borderTThickness;g-=(d.buttonHoverStyle.style.borderTThickness==0)?d.buttonStyle.style.borderTThickness:d.buttonHoverStyle.style.borderTThickness;g+=d.buttonStyle.style.paddingTop;g-=(d.buttonHoverStyle.style.paddingTop==0)?d.buttonStyle.style.paddingTop:d.buttonHoverStyle.style.paddingTop;var i=d.buttonStyle.style.borderLThickness;i-=(d.buttonHoverStyle.style.borderLThickness==0)?d.buttonStyle.style.borderLThickness:d.buttonHoverStyle.style.borderLThickness;i+=d.buttonStyle.style.paddingLeft;i-=(d.buttonHoverStyle.style.paddingLeft==0)?d.buttonStyle.style.paddingLeft:d.buttonHoverStyle.style.paddingLeft;var j=a(this).y+g;var k=a(this).x+i;a(this).css({top:j+"px"});a(this).css({left:k+"px"})}).mouseout(function(){a(this).css({top:a(this).y+"px"});a(this).css({left:a(this).x+"px"})});b.me().hide();a(window).scroll(function(){if(a(this).scrollTop()>d.scrollPosition.value){b.me().fadeIn()}else{b.me().fadeOut()}});b.me().click(function(){a("body,html").animate({scrollTop:0},800);return false})};this.init=function(){b=this;try{c()}catch(d){log(d)}}})})(jQuery);(function(a){MotoJS.widgets.reg("VimeoSlot",function(){var b="mjs-widget_",c;this.init=function(){try{c=this;var d="",g="";d="//player.vimeo.com/video/"+this.properties.video.value+"?color="+this.properties.controlsColor.value;if(this.properties.isAutoPlay.value=="true"){d+="&autoplay=1"}if(this.properties.isAutoLoop.value=="true"){d+="&loop=1"}g+='<iframe src="'+d+'" width="100%" height="100%" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>';if(g!=""){a("#"+b+this.id).html(g)}}catch(i){log("VimeoSlot Exception");log(i)}};this.empty=function(){try{a("#"+b+c.id+" iframe").hide()}catch(d){}}})})(jQuery);