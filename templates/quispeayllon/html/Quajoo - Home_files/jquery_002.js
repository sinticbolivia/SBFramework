/*!
 * jQuery Form Plugin
 * version: 2.94 (13-DEC-2011)
 * @requires jQuery v1.3.2 or later
 *
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Dual licensed under the MIT and GPL licenses:
 *	http://www.opensource.org/licenses/mit-license.php
 *	http://www.gnu.org/licenses/gpl.html
 */
(function(c){c.fn.ajaxSubmit=function(Q){if(!this.length){d("ajaxSubmit: skipping submit process - no element selected");return this}var R,B,O,M=this;if(typeof Q=="function"){Q={success:Q}}R=this.attr("method");B=this.attr("action");O=(typeof B==="string")?c.trim(B):"";O=O||window.location.href||"";if(O){O=(O.match(/^([^#]+)/)||[])[1]}Q=c.extend(true,{url:O,success:c.ajaxSettings.success,type:R||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},Q);var H={};this.trigger("form-pre-serialize",[this,Q,H]);if(H.veto){d("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this}if(Q.beforeSerialize&&Q.beforeSerialize(this,Q)===false){d("ajaxSubmit: submit aborted via beforeSerialize callback");return this}var N=Q.traditional;if(N===undefined){N=c.ajaxSettings.traditional}var n,C,K,b=this.formToArray(Q.semantic);if(Q.data){Q.extraData=Q.data;n=c.param(Q.data,N)}if(Q.beforeSubmit&&Q.beforeSubmit(b,this,Q)===false){d("ajaxSubmit: submit aborted via beforeSubmit callback");return this}this.trigger("form-submit-validate",[b,this,Q,H]);if(H.veto){d("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}var D=c.param(b,N);if(n){D=(D?(D+"&"+n):n)}if(Q.type.toUpperCase()=="GET"){Q.url+=(Q.url.indexOf("?")>=0?"&":"?")+D;Q.data=null}else{Q.data=D}var F=[];if(Q.resetForm){F.push(function(){M.resetForm()})}if(Q.clearForm){F.push(function(){M.clearForm(Q.includeHidden)})}if(!Q.dataType&&Q.target){var P=Q.success||function(){};F.push(function(e){var f=Q.replaceTarget?"replaceWith":"html";c(Q.target)[f](e).each(P,arguments)})}else{if(Q.success){F.push(Q.success)}}Q.success=function(h,f,g){var j=Q.context||Q;for(var e=0,i=F.length;e<i;e++){F[e].apply(j,[h,f,g||M,M])}};var q=c("input:file:enabled[value]",this);var L=q.length>0;var v="multipart/form-data";var E=(M.attr("enctype")==v||M.attr("encoding")==v);var G=!!(L&&q.get(0).files&&window.FormData);d("fileAPI :"+G);var J=(L||E)&&!G;if(Q.iframe!==false&&(Q.iframe||J)){if(Q.closeKeepAlive){c.get(Q.closeKeepAlive,function(){a(b)})}else{a(b)}}else{if((L||E)&&G){Q.progress=Q.progress||c.noop;I(b)}else{c.ajax(Q)}}this.trigger("form-submit-notify",[this,Q]);return this;function I(f){var j=new FormData();for(var i=0;i<f.length;i++){if(f[i].type=="file"){continue}j.append(f[i].name,f[i].value)}M.find("input:file:enabled").each(function(){var m=c(this).attr("name"),k=this.files;if(m){for(var l=0;l<k.length;l++){j.append(m,k[l])}}});if(Q.extraData){for(var e in Q.extraData){j.append(e,Q.extraData[e])}}Q.data=null;var g=c.extend(true,{},c.ajaxSettings,Q,{contentType:false,processData:false,cache:false,type:"POST"});g.context=g.context||g;g.data=null;var h=g.beforeSend;g.beforeSend=function(k,l){l.data=j;if(k.upload){k.upload.onprogress=function(m){l.progress(m.position,m.total)}}if(h){h.call(l,k,Q)}};c.ajax(g)}function a(e){var ae=M[0],af,i,p,g,l,ac,w,y,x,k,h,s;var z=!!c.fn.prop;if(e){if(z){for(i=0;i<e.length;i++){af=c(ae[e[i].name]);af.prop("disabled",false)}}else{for(i=0;i<e.length;i++){af=c(ae[e[i].name]);af.removeAttr("disabled")}}}if(c(":input[name=submit],:input[id=submit]",ae).length){alert('Error: Form elements must not have name or id of "submit".');return}p=c.extend(true,{},c.ajaxSettings,Q);p.context=p.context||p;l="jqFormIO"+(new Date().getTime());if(p.iframeTarget){ac=c(p.iframeTarget);k=ac.attr("name");if(k==null){ac.attr("name",l)}else{l=k}}else{ac=c('<iframe name="'+l+'" src="'+p.iframeSrc+'" />');ac.css({position:"absolute",top:"-1000px",left:"-1000px"})}w=ac[0];y={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(T){var S=(T==="timeout"?"timeout":"aborted");d("aborting upload... "+S);this.aborted=1;ac.attr("src",p.iframeSrc);y.error=S;p.error&&p.error.call(p.context,y,S,T);g&&c.event.trigger("ajaxError",[y,p,S]);p.complete&&p.complete.call(p.context,y,S)}};g=p.global;if(g&&!c.active++){c.event.trigger("ajaxStart")}if(g){c.event.trigger("ajaxSend",[y,p])}if(p.beforeSend&&p.beforeSend.call(p.context,y,p)===false){if(p.global){c.active--}return}if(y.aborted){return}x=ae.clk;if(x){k=x.name;if(k&&!x.disabled){p.extraData=p.extraData||{};p.extraData[k]=x.value;if(x.type=="image"){p.extraData[k+".x"]=ae.clk_x;p.extraData[k+".y"]=ae.clk_y}}}var r=1;var u=2;function t(S){var T=S.contentWindow?S.contentWindow.document:S.contentDocument?S.contentDocument:S.document;return T}var ag=c("meta[name=csrf-token]").attr("content");var ai=c("meta[name=csrf-param]").attr("content");if(ai&&ag){p.extraData=p.extraData||{};p.extraData[ai]=ag}function j(){var U=M.attr("target"),W=M.attr("action");ae.setAttribute("target",l);if(!R){ae.setAttribute("method","POST")}if(W!=p.url){ae.setAttribute("action",p.url)}if(!p.skipEncodingOverride&&(!R||/post/i.test(R))){M.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"})}if(p.timeout){s=setTimeout(function(){h=true;m(r)},p.timeout)}function T(){try{var Y=t(w).readyState;d("state = "+Y);if(Y.toLowerCase()=="uninitialized"){setTimeout(T,50)}}catch(X){d("Server abort: ",X," (",X.name,")");m(u);s&&clearTimeout(s);s=undefined}}var V=[];try{if(p.extraData){for(var S in p.extraData){V.push(c('<input type="hidden" name="'+S+'">').attr("value",p.extraData[S]).appendTo(ae)[0])}}if(!p.iframeTarget){ac.appendTo("body");w.attachEvent?w.attachEvent("onload",m):w.addEventListener("load",m,false)}setTimeout(T,15);ae.submit()}finally{ae.setAttribute("action",W);if(U){ae.setAttribute("target",U)}else{M.removeAttr("target")}c(V).remove()}}if(p.forceSync){j()}else{setTimeout(j,10)}var ak,aj,f=50,ad;function m(Y){if(y.aborted||ad){return}try{aj=t(w)}catch(V){d("cannot access response document: ",V);Y=u}if(Y===r&&y){y.abort("timeout");return}else{if(Y==u&&y){y.abort("server abort");return}}if(!aj||aj.location.href==p.iframeSrc){if(!h){return}}w.detachEvent?w.detachEvent("onload",m):w.removeEventListener("load",m,false);var aa="success",W;try{if(h){throw"timeout"}var ab=p.dataType=="xml"||aj.XMLDocument||c.isXMLDoc(aj);d("isXml="+ab);if(!ab&&window.opera&&(aj.body==null||aj.body.innerHTML=="")){if(--f){d("requeing onLoad callback, DOM not available");setTimeout(m,250);return}}var U=aj.body?aj.body:aj.documentElement;y.responseText=U?U.innerHTML:null;y.responseXML=aj.XMLDocument?aj.XMLDocument:aj;if(ab){p.dataType="xml"}y.getResponseHeader=function(ao){var ap={"content-type":p.dataType};return ap[ao]};if(U){y.status=Number(U.getAttribute("status"))||y.status;y.statusText=U.getAttribute("statusText")||y.statusText}var S=(p.dataType||"").toLowerCase();var X=/(json|script|text)/.test(S);if(X||p.textarea){var Z=aj.getElementsByTagName("textarea")[0];if(Z){y.responseText=Z.value;y.status=Number(Z.getAttribute("status"))||y.status;y.statusText=Z.getAttribute("statusText")||y.statusText}else{if(X){var al=aj.getElementsByTagName("pre")[0];var T=aj.getElementsByTagName("body")[0];if(al){y.responseText=al.textContent?al.textContent:al.innerText}else{if(T){y.responseText=T.textContent?T.textContent:T.innerText}}}}}else{if(S=="xml"&&!y.responseXML&&y.responseText!=null){y.responseXML=o(y.responseText)}}try{ak=ah(y,S,p)}catch(Y){aa="parsererror";y.error=W=(Y||aa)}}catch(Y){d("error caught: ",Y);aa="error";y.error=W=(Y||aa)}if(y.aborted){d("upload aborted");aa=null}if(y.status){aa=(y.status>=200&&y.status<300||y.status===304)?"success":"error"}if(aa==="success"){p.success&&p.success.call(p.context,ak,"success",y);g&&c.event.trigger("ajaxSuccess",[y,p])}else{if(aa){if(W==undefined){W=y.statusText}p.error&&p.error.call(p.context,y,aa,W);g&&c.event.trigger("ajaxError",[y,p,W])}}g&&c.event.trigger("ajaxComplete",[y,p]);if(g&&!--c.active){c.event.trigger("ajaxStop")}p.complete&&p.complete.call(p.context,y,aa);ad=true;if(p.timeout){clearTimeout(s)}setTimeout(function(){if(!p.iframeTarget){ac.remove()}y.responseXML=null},100)}var o=c.parseXML||function(T,S){if(window.ActiveXObject){S=new ActiveXObject("Microsoft.XMLDOM");S.async="false";S.loadXML(T)}else{S=(new DOMParser()).parseFromString(T,"text/xml")}return(S&&S.documentElement&&S.documentElement.nodeName!="parsererror")?S:null};var A=c.parseJSON||function(S){return window["eval"]("("+S+")")};var ah=function(S,U,V){var W=S.getResponseHeader("content-type")||"",X=U==="xml"||!U&&W.indexOf("xml")>=0,T=X?S.responseXML:S.responseText;if(X&&T.documentElement.nodeName==="parsererror"){c.error&&c.error("parsererror")}if(V&&V.dataFilter){T=V.dataFilter(T,U)}if(typeof T==="string"){if(U==="json"||!U&&W.indexOf("json")>=0){T=A(T)}else{if(U==="script"||!U&&W.indexOf("javascript")>=0){c.globalEval(T)}}}return T}}};c.fn.ajaxForm=function(b){if(this.length===0){var a={s:this.selector,c:this.context};if(!c.isReady&&a.s){d("DOM not ready, queuing ajaxForm");c(function(){c(a.s,a.c).ajaxForm(b)});return this}d("terminating; zero elements found by selector"+(c.isReady?"":" (DOM not ready)"));return this}return this.ajaxFormUnbind().bind("submit.form-plugin",function(e){if(!e.isDefaultPrevented()){e.preventDefault();c(this).ajaxSubmit(b)}}).bind("click.form-plugin",function(l){var m=l.target;var o=c(m);if(!(o.is(":submit,input:image"))){var p=o.closest(":submit");if(p.length==0){return}m=p[0]}var n=this;n.clk=m;if(m.type=="image"){if(l.offsetX!=undefined){n.clk_x=l.offsetX;n.clk_y=l.offsetY}else{if(typeof c.fn.offset=="function"){var e=o.offset();n.clk_x=l.pageX-e.left;n.clk_y=l.pageY-e.top}else{n.clk_x=l.pageX-m.offsetLeft;n.clk_y=l.pageY-m.offsetTop}}}setTimeout(function(){n.clk=n.clk_x=n.clk_y=null},100)})};c.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};c.fn.formToArray=function(b){var i=[];if(this.length===0){return i}var y=this[0];var v=b?y.getElementsByTagName("*"):y.elements;if(!v){return i}var t,u,w,a,x,n,z;for(t=0,n=v.length;t<n;t++){x=v[t];w=x.name;if(!w){continue}if(b&&y.clk&&x.type=="image"){if(!x.disabled&&y.clk==x){i.push({name:w,value:c(x).val(),type:x.type});i.push({name:w+".x",value:y.clk_x},{name:w+".y",value:y.clk_y})}continue}a=c.fieldValue(x,true);if(a&&a.constructor==Array){for(u=0,z=a.length;u<z;u++){i.push({name:w,value:a[u]})}}else{if(a!==null&&typeof a!="undefined"){i.push({name:w,value:a,type:x.type})}}}if(!b&&y.clk){var s=c(y.clk),j=s[0];w=j.name;if(w&&!j.disabled&&j.type=="image"){i.push({name:w,value:s.val()});i.push({name:w+".x",value:y.clk_x},{name:w+".y",value:y.clk_y})}}return i};c.fn.formSerialize=function(a){return c.param(this.formToArray(a))};c.fn.fieldSerialize=function(a){var b=[];this.each(function(){var i=this.name;if(!i){return}var k=c.fieldValue(this,a);if(k&&k.constructor==Array){for(var j=0,l=k.length;j<l;j++){b.push({name:i,value:k[j]})}}else{if(k!==null&&typeof k!="undefined"){b.push({name:this.name,value:k})}}});return c.param(b)};c.fn.fieldValue=function(a){for(var b=[],j=0,l=this.length;j<l;j++){var i=this[j];var k=c.fieldValue(i,a);if(k===null||typeof k=="undefined"||(k.constructor==Array&&!k.length)){continue}k.constructor==Array?c.merge(b,k):b.push(k)}return b};c.fieldValue=function(z,t){var x=z.name,b=z.type,a=z.tagName.toLowerCase();if(t===undefined){t=true}if(t&&(!x||z.disabled||b=="reset"||b=="button"||(b=="checkbox"||b=="radio")&&!z.checked||(b=="submit"||b=="image")&&z.form&&z.form.clk!=z||a=="select"&&z.selectedIndex==-1)){return null}if(a=="select"){var s=z.selectedIndex;if(s<0){return null}var n=[],y=z.options;var v=(b=="select-one");var r=(v?s+1:y.length);for(var w=(v?s:0);w<r;w++){var u=y[w];if(u.selected){var i=u.value;if(!i){i=(u.attributes&&u.attributes.value&&!(u.attributes.value.specified))?u.text:u.value}if(v){return i}n.push(i)}}return n}return c(z).val()};c.fn.clearForm=function(a){return this.each(function(){c("input,select,textarea",this).clearFields(a)})};c.fn.clearFields=c.fn.clearInputs=function(b){var a=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var g=this.type,h=this.tagName.toLowerCase();if(a.test(g)||h=="textarea"||(b&&/hidden/.test(g))){this.value=""}else{if(g=="checkbox"||g=="radio"){this.checked=false}else{if(h=="select"){this.selectedIndex=-1}}}})};c.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=="function"||(typeof this.reset=="object"&&!this.reset.nodeType)){this.reset()}})};c.fn.enable=function(a){if(a===undefined){a=true}return this.each(function(){this.disabled=!a})};c.fn.selected=function(a){if(a===undefined){a=true}return this.each(function(){var f=this.type;if(f=="checkbox"||f=="radio"){this.checked=a}else{if(this.tagName.toLowerCase()=="option"){var b=c(this).parent("select");if(a&&b[0]&&b[0].type=="select-one"){b.find("option").selected(false)}this.selected=a}}})};c.fn.ajaxSubmit.debug=false;function d(){if(!c.fn.ajaxSubmit.debug){return}var a="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log){window.console.log(a)}else{if(window.opera&&window.opera.postError){window.opera.postError(a)}}}})(jQuery);(function(b){b.fn.motoInput=function(){return this.each(function(){var n=b(this),o=b(n.prop("form"));if(n.hasClass("replaced")){return}var k=n.attr("type"),m=n.attr("style").match(/height\s*:\s*([0-9]+)px/i),j,l,a,p;if(m&&typeof m=="object"){m=m[1]}m=parseInt(m,10);switch(k){case"checkbox":j=function(c){return c?"y":""};a=n.siblings(".mjs-item-input-checkbox");p=a.find(".mjs-item-input-checkbox-state");a.addClass((this.checked?"checked":"")).attr({style:n.attr("style"),tabindex:n.attr("tabindex")}).css({"font-size":m+"px","line-height":m+(parseInt(a.find(".mjs-item-border").css("border-top-width"),10)*2)+"px"});p.html(j(this.checked));n.hide();a.click(function(d){a.toggleClass("checked");var c=a.hasClass("checked");n.attr("checked",c);p.html(j(c))});l=n.prop("checked");break;case"radio":j=function(c){var d=m/2;return c?'<span class="circle" style="border-radius:'+d+"px;-o-border-radius:"+d+"px;-moz-border-radius:"+d+"px;-ms-border-radius:"+d+"px;-webkit-border-radius:"+d+'px;"></span>':""};a=n.siblings(".mjs-item-input-radio");p=a.find(".mjs-item-input-radio-state");a.addClass((this.checked?"checked":"")).attr({style:n.attr("style"),tabindex:n.attr("tabindex")}).css({height:m,width:m});a.find(".mjs-item-border, .mjs-item-bg").css({"border-radius":m,"-o-border-radius":m,"-ms-border-radius":m,"-moz-border-radius":m,"-webkit-border-radius":m});p.html(j(this.checked));n.hide();a.data("original",n);n.data("new",a);a.click(function(c){n.click();b(n.prop("form")).find(".motoRadioBtn").each(function(){var e=b(this).data("original").attr("checked");var d=b(this).hasClass("checked");if(d!=e){if(e){b(this).removeClass("checked")}else{b(this).addClass("checked")}b(this).find(".mjs-item-input-radio-state").html(j(e))}})});l=n.prop("checked");n.bind("change",function(){a.click()});break;default:return}o.on("reset",function(){l?a.addClass("checked"):a.removeClass("checked");n.prop("checked",l);p.html(j(l))});b(this).addClass("replaced")})}})(jQuery);(function(b){b.extend(b.fn,{validate:function(a){if(!this.length){a&&a.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing");return}var f=b.data(this[0],"validator");if(f){return f}this.attr("novalidate","novalidate");f=new b.validator(a,this[0]);b.data(this[0],"validator",f);if(f.settings.onsubmit){var e=this.find("input, button");e.filter(".cancel").click(function(){f.cancelSubmit=true});if(f.settings.submitHandler){e.filter(":submit").click(function(){f.submitButton=this})}this.submit(function(d){if(f.settings.debug){d.preventDefault()}function c(){if(f.settings.submitHandler){if(f.submitButton){var h=b("<input type='hidden'/>").attr("name",f.submitButton.name).val(f.submitButton.value).appendTo(f.currentForm)}f.settings.submitHandler.call(f,f.currentForm);if(f.submitButton){h.remove()}return false}return true}if(f.cancelSubmit){f.cancelSubmit=false;return c()}if(f.form()){if(f.pendingRequest){f.formSubmitted=true;return false}return c()}else{f.focusInvalid();return false}})}return f},valid:function(){if(b(this[0]).is("form")){return this.validate().form()}else{var d=true;var a=b(this[0].form).validate();this.each(function(){d&=a.element(this)});return d}},removeAttrs:function(e){var a={},f=this;b.each(e.split(/\s/),function(d,c){a[c]=f.attr(c);f.removeAttr(c)});return a},rules:function(o,r){var m=this[0];if(o){var p=b.data(m.form,"validator").settings;var k=p.rules;var a=b.validator.staticRules(m);switch(o){case"add":b.extend(a,b.validator.normalizeRule(r));k[m.name]=a;if(r.messages){p.messages[m.name]=b.extend(p.messages[m.name],r.messages)}break;case"remove":if(!r){delete k[m.name];return a}var l={};b.each(r.split(/\s/),function(d,c){l[c]=a[c];delete a[c]});return l}}var n=b.validator.normalizeRules(b.extend({},b.validator.metadataRules(m),b.validator.classRules(m),b.validator.attributeRules(m),b.validator.staticRules(m)),m);if(n.required){var q=n.required;delete n.required;n=b.extend({required:q},n)}return n}});b.extend(b.expr[":"],{blank:function(a){return !b.trim(""+a.value)},filled:function(a){return !!b.trim(""+a.value)},unchecked:function(a){return !a.checked}});b.validator=function(a,d){this.settings=b.extend(true,{},b.validator.defaults,a);this.currentForm=d;this.init()};b.validator.format=function(a,d){if(arguments.length==1){return function(){var c=b.makeArray(arguments);c.unshift(a);return b.validator.format.apply(this,c)}}if(arguments.length>2&&d.constructor!=Array){d=b.makeArray(arguments).slice(1)}if(d.constructor!=Array){d=[d]}b.each(d,function(f,c){a=a.replace(new RegExp("\\{"+f+"\\}","g"),c)});return a};b.extend(b.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:true,errorContainer:b([]),errorLabelContainer:b([]),onsubmit:true,ignore:":hidden",ignoreTitle:false,onfocusin:function(a,d){this.lastActive=a;if(this.settings.focusCleanup&&!this.blockFocusCleanup){this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass);this.addWrapper(this.errorsFor(a)).hide()}},onfocusout:function(a,d){if(!this.checkable(a)&&(a.name in this.submitted||!this.optional(a))){this.element(a)}},onkeyup:function(a,d){if(a.name in this.submitted||a==this.lastElement){this.element(a)}},onclick:function(a,d){if(a.name in this.submitted){this.element(a)}else{if(a.parentNode.name in this.submitted){this.element(a.parentNode)}}},highlight:function(e,a,f){if(e.type==="radio"){this.findByName(e.name).addClass(a).removeClass(f)}else{b(e).addClass(a).removeClass(f)}},unhighlight:function(e,a,f){if(e.type==="radio"){this.findByName(e.name).removeClass(a).addClass(f)}else{b(e).removeClass(a).addClass(f)}}},setDefaults:function(a){b.extend(b.validator.defaults,a)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:b.validator.format("Please enter no more than {0} characters."),minlength:b.validator.format("Please enter at least {0} characters."),rangelength:b.validator.format("Please enter a value between {0} and {1} characters long."),range:b.validator.format("Please enter a value between {0} and {1}."),max:b.validator.format("Please enter a value less than or equal to {0}."),min:b.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){this.labelContainer=b(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||b(this.currentForm);this.containers=b(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var a=(this.groups={});b.each(this.settings.groups,function(d,c){b.each(c.split(/\s/),function(i,j){a[j]=d})});var e=this.settings.rules;b.each(e,function(d,c){e[d]=b.validator.normalizeRule(c)});function f(c){var d=b.data(this[0].form,"validator"),h="on"+c.type.replace(/^validate/,"");d.settings[h]&&d.settings[h].call(d,this[0],c)}b(this.currentForm).validateDelegate("[type='text'], [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",f).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",f);if(this.settings.invalidHandler){b(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)}},form:function(){this.checkForm();b.extend(this.submitted,this.errorMap);this.invalid=b.extend({},this.errorMap);if(!this.valid()){b(this.currentForm).triggerHandler("invalid-form",[this])}this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var a=0,d=(this.currentElements=this.elements());d[a];a++){this.check(d[a])}return this.valid()},element:function(d){d=this.validationTargetFor(this.clean(d));this.lastElement=d;this.prepareElement(d);this.currentElements=b(d);var a=this.check(d);if(a){delete this.invalid[d.name]}else{this.invalid[d.name]=true}if(!this.numberOfInvalids()){this.toHide=this.toHide.add(this.containers)}this.showErrors();return a},showErrors:function(d){if(d){b.extend(this.errorMap,d);this.errorList=[];for(var a in d){this.errorList.push({message:d[a],element:this.findByName(a)[0]})}this.successList=b.grep(this.successList,function(c){return !(c.name in d)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){if(b.fn.resetForm){b(this.currentForm).resetForm()}this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var f=0;for(var a in e){f++}return f},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()==0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid){try{b(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(a){}}},findLastActive:function(){var a=this.lastActive;return a&&b.grep(this.errorList,function(d){return d.element.name==a.name}).length==1&&a},elements:function(){var d=this,a={};return b(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){!this.name&&d.settings.debug&&window.console&&console.error("%o has no name assigned",this);if(this.name in a||!d.objectLength(b(this).rules())){return false}a[this.name]=true;return true})},clean:function(a){return b(a)[0]},errors:function(){return b(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=b([]);this.toHide=b([]);this.currentElements=b([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset();this.toHide=this.errorsFor(a)},check:function(n){n=this.validationTargetFor(this.clean(n));var j=b(n).rules();var m=false;for(var e in j){var k={method:e,parameters:j[e]};try{var a=b.validator.methods[e].call(this,n.value.replace(/\r/g,""),n,k.parameters);if(a=="dependency-mismatch"){m=true;continue}m=false;if(a=="pending"){this.toHide=this.toHide.not(this.errorsFor(n));return}if(!a){this.formatAndAdd(n,k);return false}}catch(l){this.settings.debug&&window.console&&console.log("exception occured when checking element "+n.id+", check the '"+k.method+"' method",l);throw l}}if(m){return}if(this.objectLength(j)){this.successList.push(n)}return true},customMetaMessage:function(a,e){if(!b.metadata){return}var f=this.settings.meta?b(a).metadata()[this.settings.meta]:b(a).metadata();return f&&f.messages&&f.messages[e]},customMessage:function(f,e){var a=this.settings.messages[f];return a&&(a.constructor==String?a:a[e])},findDefined:function(){for(var a=0;a<arguments.length;a++){if(arguments[a]!==undefined){return arguments[a]}}return undefined},defaultMessage:function(a,d){return this.findDefined(this.customMessage(a.name,d),this.customMetaMessage(a,d),!this.settings.ignoreTitle&&a.title||undefined,b.validator.messages[d],"<strong>Warning: No message defined for "+a.name+"</strong>")},formatAndAdd:function(h,f){var g=this.defaultMessage(h,f.method),a=/\$?\{(\d+)\}/g;if(typeof g=="function"){g=g.call(this,f.parameters,h)}else{if(a.test(g)){g=jQuery.format(g.replace(a,"{$1}"),f.parameters)}}this.errorList.push({message:g,element:h});this.errorMap[h.name]=g;this.submitted[h.name]=g},addWrapper:function(a){if(this.settings.wrapper){a=a.add(a.parent(this.settings.wrapper))}return a},defaultShowErrors:function(){for(var f=0;this.errorList[f];f++){var a=this.errorList[f];this.settings.highlight&&this.settings.highlight.call(this,a.element,this.settings.errorClass,this.settings.validClass);this.showLabel(a.element,a.message)}if(this.errorList.length){this.toShow=this.toShow.add(this.containers)}if(this.settings.success){for(var f=0;this.successList[f];f++){this.showLabel(this.successList[f])}}if(this.settings.unhighlight){for(var f=0,e=this.validElements();e[f];f++){this.settings.unhighlight.call(this,e[f],this.settings.errorClass,this.settings.validClass)}}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return b(this.errorList).map(function(){return this.element})},showLabel:function(f,e){var a=this.errorsFor(f);if(a.length){a.removeClass(this.settings.validClass).addClass(this.settings.errorClass);a.attr("generated")&&a.html(e)}else{a=b("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(f),generated:true}).addClass(this.settings.errorClass).html(e||"");if(this.settings.wrapper){a=a.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()}if(!this.labelContainer.append(a).length){this.settings.errorPlacement?this.settings.errorPlacement(a,b(f)):a.insertAfter(f)}}if(!e&&this.settings.success){a.text("");typeof this.settings.success=="string"?a.addClass(this.settings.success):this.settings.success(a)}this.toShow=this.toShow.add(a)},errorsFor:function(d){var a=this.idOrName(d);return this.errors().filter(function(){return b(this).attr("for")==a})},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},validationTargetFor:function(a){if(this.checkable(a)){a=this.findByName(a.name).not(this.settings.ignore)[0]}return a},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(a){var d=this.currentForm;return b(document.getElementsByName(a)).map(function(f,c){return c.form==d&&c.name==a&&c||null})},getLength:function(d,a){switch(a.nodeName.toLowerCase()){case"select":return b("option:selected",a).length;case"input":if(this.checkable(a)){return this.findByName(a.name).filter(":checked").length}}return d.length},depend:function(d,a){return this.dependTypes[typeof d]?this.dependTypes[typeof d](d,a):true},dependTypes:{"boolean":function(d,a){return d},string:function(d,a){return !!b(d,a.form).length},"function":function(d,a){return d(a)}},optional:function(a){return !b.validator.methods.required.call(this,b.trim(a.value),a)&&"dependency-mismatch"},startRequest:function(a){if(!this.pending[a.name]){this.pendingRequest++;this.pending[a.name]=true}},stopRequest:function(a,d){this.pendingRequest--;if(this.pendingRequest<0){this.pendingRequest=0}delete this.pending[a.name];if(d&&this.pendingRequest==0&&this.formSubmitted&&this.form()){b(this.currentForm).submit();this.formSubmitted=false}else{if(!d&&this.pendingRequest==0&&this.formSubmitted){b(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false}}},previousValue:function(a){return b.data(a,"previousValue")||b.data(a,"previousValue",{old:null,valid:true,message:this.defaultMessage(a,"remote")})}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},dateDE:{dateDE:true},number:{number:true},numberDE:{numberDE:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(a,d){a.constructor==String?this.classRuleSettings[a]=d:b.extend(this.classRuleSettings,a)},classRules:function(f){var e={};var a=b(f).attr("class");a&&b.each(a.split(" "),function(){if(this in b.validator.classRuleSettings){b.extend(e,b.validator.classRuleSettings[this])}});return e},attributeRules:function(j){var h={};var a=b(j);for(var g in b.validator.methods){var i;if(g==="required"&&typeof b.fn.prop==="function"){i=a.prop(g)}else{i=a.attr(g)}if(i){h[g]=i}else{if(a[0].getAttribute("type")===g){h[g]=true}}}if(h.maxlength&&/-1|2147483647|524288/.test(h.maxlength)){delete h.maxlength}return h},metadataRules:function(a){if(!b.metadata){return{}}var d=b.data(a.form,"validator").settings.meta;return d?b(a).metadata()[d]:b(a).metadata()},staticRules:function(f){var e={};var a=b.data(f.form,"validator");if(a.settings.rules){e=b.validator.normalizeRule(a.settings.rules[f.name])||{}}return e},normalizeRules:function(d,a){b.each(d,function(c,g){if(g===false){delete d[c];return}if(g.param||g.depends){var h=true;switch(typeof g.depends){case"string":h=!!b(g.depends,a.form).length;break;case"function":h=g.depends.call(a,a);break}if(h){d[c]=g.param!==undefined?g.param:true}else{delete d[c]}}});b.each(d,function(f,c){d[f]=b.isFunction(c)?c(a):c});b.each(["minlength","maxlength","min","max"],function(){if(d[this]){d[this]=Number(d[this])}});b.each(["rangelength","range"],function(){if(d[this]){d[this]=[Number(d[this][0]),Number(d[this][1])]}});if(b.validator.autoCreateRanges){if(d.min&&d.max){d.range=[d.min,d.max];delete d.min;delete d.max}if(d.minlength&&d.maxlength){d.rangelength=[d.minlength,d.maxlength];delete d.minlength;delete d.maxlength}}if(d.messages){delete d.messages}return d},normalizeRule:function(d){if(typeof d=="string"){var a={};b.each(d.split(/\s/),function(){a[this]=true});d=a}return d},addMethod:function(a,e,f){b.validator.methods[a]=e;b.validator.messages[a]=f!=undefined?f:b.validator.messages[a];if(e.length<3){b.validator.addClassRules(a,b.validator.normalizeRule(a))}},methods:{required:function(h,a,f){if(!this.depend(f,a)){return"dependency-mismatch"}switch(a.nodeName.toLowerCase()){case"select":var g=b(a).val();return g&&g.length>0;case"input":if(this.checkable(a)){return this.getLength(h,a)>0}default:return b.trim(h).length>0}},remote:function(i,l,h){if(this.optional(l)){return"dependency-mismatch"}var k=this.previousValue(l);if(!this.settings.messages[l.name]){this.settings.messages[l.name]={}}k.originalMessage=this.settings.messages[l.name].remote;this.settings.messages[l.name].remote=k.message;h=typeof h=="string"&&{url:h}||h;if(this.pending[l.name]){return"pending"}if(k.old===i){return k.valid}k.old=i;var a=this;this.startRequest(l);var j={};j[l.name]=i;b.ajax(b.extend(true,{url:h,mode:"abort",port:"validate"+l.name,dataType:"json",data:j,success:function(f){a.settings.messages[l.name].remote=k.originalMessage;var d=f===true;if(d){var g=a.formSubmitted;a.prepareElement(l);a.formSubmitted=g;a.successList.push(l);a.showErrors()}else{var c={};var e=f||a.defaultMessage(l,"remote");c[l.name]=k.message=b.isFunction(e)?e(i):e;a.showErrors(c)}k.valid=d;a.stopRequest(l,d)}},h));return"pending"},minlength:function(f,a,e){return this.optional(a)||this.getLength(b.trim(f),a)>=e},maxlength:function(f,a,e){return this.optional(a)||this.getLength(b.trim(f),a)<=e},rangelength:function(g,a,f){var h=this.getLength(b.trim(g),a);return this.optional(a)||(h>=f[0]&&h<=f[1])},min:function(f,a,e){return this.optional(a)||f>=e},max:function(f,a,e){return this.optional(a)||f<=e},range:function(f,a,e){return this.optional(a)||(f>=e[0]&&f<=e[1])},email:function(d,a){return this.optional(a)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(d)},url:function(d,a){return this.optional(a)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(d)},date:function(d,a){return this.optional(a)||!/Invalid|NaN/.test(new Date(d))},dateISO:function(d,a){return this.optional(a)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(d)},number:function(d,a){return this.optional(a)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(d)},digits:function(d,a){return this.optional(a)||/^\d+$/.test(d)},creditcard:function(k,n){if(this.optional(n)){return"dependency-mismatch"}if(/[^0-9 -]+/.test(k)){return false}var j=0,l=0,a=false;k=k.replace(/\D/g,"");for(var i=k.length-1;i>=0;i--){var m=k.charAt(i);var l=parseInt(m,10);if(a){if((l*=2)>9){l-=9}}j+=l;a=!a}return(j%10)==0},accept:function(f,a,e){e=typeof e=="string"?e.replace(/,/g,"|"):"png|jpe?g|gif";return this.optional(a)||f.match(new RegExp(".("+e+")$","i"))},equalTo:function(h,a,f){var g=b(f).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){b(a).valid()});return h==g.val()}}});b.format=b.validator.format})(jQuery);(function(f){var e={};if(f.ajaxPrefilter){f.ajaxPrefilter(function(b,c,a){var h=b.port;if(b.mode=="abort"){if(e[h]){e[h].abort()}e[h]=a}})}else{var d=f.ajax;f.ajax=function(b){var a=("mode" in b?b:f.ajaxSettings).mode,c=("port" in b?b:f.ajaxSettings).port;if(a=="abort"){if(e[c]){e[c].abort()}return(e[c]=d.apply(this,arguments))}return d.apply(this,arguments)}}})(jQuery);(function(b){if(!jQuery.event.special.focusin&&!jQuery.event.special.focusout&&document.addEventListener){b.each({focus:"focusin",blur:"focusout"},function(f,a){b.event.special[a]={setup:function(){this.addEventListener(f,e,true)},teardown:function(){this.removeEventListener(f,e,true)},handler:function(c){arguments[0]=b.event.fix(c);arguments[0].type=a;return b.event.handle.apply(this,arguments)}};function e(c){c=b.event.fix(c);c.type=a;return b.event.handle.call(this,c)}})}b.extend(b.fn,{validateDelegate:function(e,f,a){return this.bind(f,function(d){var c=b(d.target);if(c.is(e)){return a.apply(c,arguments)}})}})})(jQuery);function Hammer(ak,ae,am){var ap=this;var Y={prevent_default:false,css_hacks:true,cancel_event:true,swipe:true,swipe_time:200,swipe_min_distance:20,drag:true,drag_vertical:true,drag_horizontal:true,drag_min_distance:20,transform:true,scale_treshold:0.1,rotation_treshold:15,tap:true,tap_double:true,tap_max_interval:300,tap_max_distance:10,tap_double_distance:20,hold:true,hold_timeout:500};ae=V(Y,ae);(function(){if(!ae.css_hacks){return false}var b=["webkit","moz","ms","o",""];var e={userSelect:"none",touchCallout:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"};var c="";for(var a=0;a<b.length;a++){for(var d in e){c=d;if(b[a]){c=b[a]+c.substring(0,1).toUpperCase()+c.substring(1)}ak.style[c]=e[d]}}})();var P=0;var af=0;var O=0;var aa={};var N=0;var an=false;var ar=null;var at=null;var ag=null;var W={x:0,y:0};var av=null;var X=null;var M={};var aw=false;var ao;var au;var Z;var R=("ontouchstart" in window);this.option=function(a,b){if(b!=am){ae[a]=b}return ae[a]};this.getDirectionFromAngle=function(c){var b={down:c>=45&&c<135,left:c>=135||c<=-135,up:c<-45&&c>-135,right:c>=-45&&c<=45};var d,a;for(a in b){if(b[a]){d=a;break}}return d};function ad(a){return a.touches?a.touches.length:1}function L(f){f=f||window.event;if(!R){var d=document,h=d.body;return[{x:f.pageX||f.clientX+(d&&d.scrollLeft||h&&h.scrollLeft||0)-(d&&d.clientLeft||h&&d.clientLeft||0),y:f.pageY||f.clientY+(d&&d.scrollTop||h&&h.scrollTop||0)-(d&&d.clientTop||h&&d.clientTop||0)}]}else{var b=[],c,e=f.touches.length>0?f.touches:f.changedTouches;for(var g=0,a=e.length;g<a;g++){c=e[g];b.push({x:c.pageX,y:c.pageY})}return b}}function aj(b,a){return Math.atan2(a.y-b.y,a.x-b.x)*180/Math.PI}function ai(f,e){if(f.length==2&&e.length==2){var a,b;a=f[0].x-f[1].x;b=f[0].y-f[1].y;var d=Math.sqrt((a*a)+(b*b));a=e[0].x-e[1].x;b=e[0].y-e[1].y;var c=Math.sqrt((a*a)+(b*b));return c/d}return 0}function al(e,d){if(e.length==2&&d.length==2){var f,b;f=e[0].x-e[1].x;b=e[0].y-e[1].y;var c=Math.atan2(b,f)*180/Math.PI;f=d[0].x-d[1].x;b=d[0].y-d[1].y;var a=Math.atan2(b,f)*180/Math.PI;return a-c}return 0}function Q(a,b){b.touches=L(b.originalEvent);b.type=a;if(ah(ap["on"+a])){ap["on"+a].call(ap,b)}}function U(a){if(!ae.cancel_event){return}a=a||window.event;if(a.preventDefault){a.preventDefault();a.stopPropagation()}else{a.returnValue=false;a.cancelBubble=true}}function T(){aa={};an=false;N=0;P=0;af=0;ar=null}var ab={hold:function(a){if(ae.hold){ar="hold";clearTimeout(X);X=setTimeout(function(){if(ar=="hold"){Q("hold",{originalEvent:a,position:aa.start})}},ae.hold_timeout)}},swipe:function(b){if(!aa.move){return}var d=aa.move[0].x-aa.start[0].x;var e=aa.move[0].y-aa.start[0].y;P=Math.sqrt(d*d+e*e);var f=new Date().getTime();var c=f-ag;if(ae.swipe&&(ae.swipe_time>c)&&(P>ae.swipe_min_distance)){af=aj(aa.start[0],aa.move[0]);O=ap.getDirectionFromAngle(af);ar="swipe";var g={x:aa.move[0].x-M.left,y:aa.move[0].y-M.top};var a={originalEvent:b,position:g,direction:O,distance:P,distanceX:d,distanceY:e,angle:af};Q("swipe",a)}},drag:function(c){var e=aa.move[0].x-aa.start[0].x;var f=aa.move[0].y-aa.start[0].y;P=Math.sqrt(e*e+f*f);if(ae.drag&&(P>ae.drag_min_distance)||ar=="drag"){af=aj(aa.start[0],aa.move[0]);O=ap.getDirectionFromAngle(af);var d=(O=="up"||O=="down");if(((d&&!ae.drag_vertical)||(!d&&!ae.drag_horizontal))&&(P>ae.drag_min_distance)){return}var b=aj(aa.interim||aa.start[0],aa.move[0]),g=ap.getDirectionFromAngle(b);aa.interim=aa.move[0];ar="drag";var h={x:aa.move[0].x-M.left,y:aa.move[0].y-M.top};var a={originalEvent:c,position:h,direction:O,distance:P,distanceX:e,distanceY:f,angle:af,interim_angle:b,interim_direction:g};if(an){Q("dragstart",a);an=false}Q("drag",a);U(c)}},transform:function(c){if(ae.transform){if(ad(c)!=2){return false}var d=al(aa.start,aa.move);var b=ai(aa.start,aa.move);if(ar!="drag"&&(ar=="transform"||Math.abs(1-b)>ae.scale_treshold||Math.abs(d)>ae.rotation_treshold)){ar="transform";aa.center={x:((aa.move[0].x+aa.move[1].x)/2)-M.left,y:((aa.move[0].y+aa.move[1].y)/2)-M.top};var a={originalEvent:c,position:aa.center,scale:b,rotation:d};if(an){Q("transformstart",a);an=false}Q("transform",a);U(c);return true}}return false},tap:function(c){var f=new Date().getTime();var d=f-ag;if(ae.hold&&!(ae.hold&&ae.hold_timeout>d)){return}var e=(function(){if(W&&ae.tap_double&&at=="tap"&&(ag-av)<ae.tap_max_interval){var g=Math.abs(W[0].x-aa.start[0].x);var h=Math.abs(W[0].y-aa.start[0].y);return(W&&aa.start&&Math.max(g,h)<ae.tap_double_distance)}return false})();if(e){ar="double_tap";av=null;Q("doubletap",{originalEvent:c,position:aa.start});U(c)}else{var b=(aa.move)?Math.abs(aa.move[0].x-aa.start[0].x):0;var a=(aa.move)?Math.abs(aa.move[0].y-aa.start[0].y):0;P=Math.max(b,a);if(P<ae.tap_max_distance){ar="tap";av=f;W=aa.start;if(ae.tap){Q("tap",{originalEvent:c,position:aa.start});U(c)}}}}};function ac(g){switch(g.type){case"mousedown":case"touchstart":aa.start=L(g);ag=new Date().getTime();N=ad(g);an=true;ao=g;var a=ak.getBoundingClientRect();var b=ak.clientTop||document.body.clientTop||0;var c=ak.clientLeft||document.body.clientLeft||0;var e=window.pageYOffset||ak.scrollTop||document.body.scrollTop;var d=window.pageXOffset||ak.scrollLeft||document.body.scrollLeft;M={top:a.top+e-b,left:a.left+d-c};aw=true;ab.hold(g);if(ae.prevent_default){U(g)}break;case"mousemove":case"touchmove":if(!aw){return false}au=g;aa.move=L(g);if(!ab.transform(g)){ab.drag(g)}break;case"mouseup":case"mouseout":case"touchcancel":case"touchend":if(!aw||(ar!="transform"&&g.touches&&g.touches.length>0)){return false}aw=false;Z=g;var f=ar=="drag";ab.swipe(g);if(f){Q("dragend",{originalEvent:g,direction:O,distance:P,angle:af})}else{if(ar=="transform"){Q("transformend",{originalEvent:g,position:aa.center,scale:ai(aa.start,aa.move),rotation:al(aa.start,aa.move)})}else{ab.tap(ao)}}at=ar;Q("release",{originalEvent:g,gesture:ar});T();break}}if(R){aq(ak,"touchstart touchmove touchend touchcancel",ac)}else{aq(ak,"mouseup mousedown mousemove",ac);aq(ak,"mouseout",function(a){if(!S(ak,a.relatedTarget)){ac(a)}})}function S(a,b){if(!b&&window.event&&window.event.toElement){b=window.event.toElement}if(a===b){return true}if(b){var c=b.parentNode;while(c!==null){if(c===a){return true}c=c.parentNode}}return false}function V(c,d){var a={};if(!d){return c}for(var b in c){if(b in d){a[b]=d[b]}else{a[b]=c[b]}}return a}function ah(a){return Object.prototype.toString.call(a)=="[object Function]"}function aq(c,d,b){d=d.split(" ");for(var e=0,a=d.length;e<a;e++){if(c.addEventListener){c.addEventListener(d[e],b,false)}else{if(document.attachEvent){c.attachEvent("on"+d[e],b)}}}}}(function(c){var d=["hold","tap","doubletap","transformstart","transform","transformend","dragstart","drag","dragend","swipe","release"];c.each(d,function(b,a){c.event.special[a]={setup:function(j,k,l){var n=c(this),m;if(!n.hammer){n.data("hammerjs",new Hammer(this,j))}m=n.data("hammerjs");m["on"+a]=function(e){n.trigger(c.Event(a,e))}},teardown:function(h){var j=c(this),i=j.data("hammerjs");if(i&&i["on"+a]){delete i["on"+a]}}}})}(jQuery));var _HISTORY_LOAD_=true;if(_HISTORY_LOAD_){(function(v,B){var y=v.console||B,t=v.document,q=v.navigator,r=v.sessionStorage||false,z=v.setTimeout,s=v.clearTimeout,x=v.setInterval,o=v.clearInterval,p=v.JSON,u=v.alert,A=v.History=v.History||{},w=v.history;p.stringify=p.stringify||p.encode;p.parse=p.parse||p.decode;if(typeof A.init!=="undefined"){throw new Error("History.js Core has already been loaded...")}A.init=function(){if(typeof A.Adapter==="undefined"){return false}if(typeof A.initCore!=="undefined"){A.initCore()}if(typeof A.initHtml4!=="undefined"){A.initHtml4()}return true};A.initCore=function(){if(typeof A.initCore.initialized!=="undefined"){return false}else{A.initCore.initialized=true}A.options=A.options||{};A.options.hashChangeInterval=A.options.hashChangeInterval||100;A.options.safariPollInterval=A.options.safariPollInterval||500;A.options.doubleCheckInterval=A.options.doubleCheckInterval||500;A.options.storeInterval=A.options.storeInterval||1000;A.options.busyDelay=A.options.busyDelay||250;A.options.debug=A.options.debug||false;A.options.initialTitle=A.options.initialTitle||t.title;A.intervalList=[];A.clearAllIntervals=function(){var c,d=A.intervalList;if(typeof d!=="undefined"&&d!==null){for(c=0;c<d.length;c++){o(d[c])}A.intervalList=null}};A.debug=function(){if((A.options.debug||false)){A.log.apply(A,arguments)}};A.log=function(){var d=!(typeof y==="undefined"||typeof y.log==="undefined"||typeof y.log.apply==="undefined"),i=t.getElementById("log"),e,f,c,h,j;if(d){h=Array.prototype.slice.call(arguments);e=h.shift();if(typeof y.debug!=="undefined"){y.debug.apply(y,[e,h])}else{y.log.apply(y,[e,h])}}else{e=("\n"+arguments[0]+"\n")}for(f=1,c=arguments.length;f<c;++f){j=arguments[f];if(typeof j==="object"&&typeof p!=="undefined"){try{j=p.stringify(j)}catch(g){}}e+="\n"+j+"\n"}if(i){i.value+=e+"\n-----\n";i.scrollTop=i.scrollHeight-i.clientHeight}else{if(!d){u(e)}}return true};A.getInternetExplorerMajorVersion=function(){var c=A.getInternetExplorerMajorVersion.cached=(typeof A.getInternetExplorerMajorVersion.cached!=="undefined")?A.getInternetExplorerMajorVersion.cached:(function(){var f=3,d=t.createElement("div"),e=d.getElementsByTagName("i");while((d.innerHTML="<!--[if gt IE "+(++f)+"]><i></i><![endif]-->")&&e[0]){}return(f>4)?f:false})();return c};A.isInternetExplorer=function(){var c=A.isInternetExplorer.cached=(typeof A.isInternetExplorer.cached!=="undefined")?A.isInternetExplorer.cached:Boolean(A.getInternetExplorerMajorVersion());return c};A.emulated={pushState:!Boolean(v.history&&v.history.pushState&&v.history.replaceState&&!((/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i).test(q.userAgent)||(/AppleWebKit\/5([0-2]|3[0-2])/i).test(q.userAgent))),hashChange:Boolean(!(("onhashchange" in v)||("onhashchange" in t))||(A.isInternetExplorer()&&A.getInternetExplorerMajorVersion()<8))};A.emulated.pushState=q.userAgent.toLowerCase().indexOf("android")>-1?true:A.emulated.pushState;A.enabled=!A.emulated.pushState;A.bugs={setHash:Boolean(!A.emulated.pushState&&q.vendor==="Apple Computer, Inc."&&/AppleWebKit\/5([0-2]|3[0-3])/.test(q.userAgent)),safariPoll:Boolean(!A.emulated.pushState&&q.vendor==="Apple Computer, Inc."&&/AppleWebKit\/5([0-2]|3[0-3])/.test(q.userAgent)),ieDoubleCheck:Boolean(A.isInternetExplorer()&&A.getInternetExplorerMajorVersion()<8),hashEscape:Boolean(A.isInternetExplorer()&&A.getInternetExplorerMajorVersion()<7)};A.isEmptyObject=function(c){for(var d in c){return false}return true};A.cloneObject=function(c){var d,e;if(c){d=p.stringify(c);e=p.parse(d)}else{e={}}return e};A.getRootUrl=function(){var c=t.location.protocol+"//"+(t.location.hostname||t.location.host);if(t.location.port||false){c+=":"+t.location.port}c+="/";return c};A.getBaseHref=function(){var e=t.getElementsByTagName("base"),c=null,d="";if(e.length===1){c=e[0];d=c.href.replace(/[^\/]+$/,"")}d=d.replace(/\/+$/,"");if(d){d+="/"}return d};A.getBaseUrl=function(){var c=A.getBaseHref()||A.getBasePageUrl()||A.getRootUrl();return c};A.getPageUrl=function(){var e=A.getState(false,false),c=(e||{}).url||t.location.href,d;d=c.replace(/\/+$/,"").replace(/[^\/]+$/,function(f,g,h){return(/\./).test(f)?f:f+"/"});return d};A.getBasePageUrl=function(){var c=t.location.href.replace(/[#\?].*/,"").replace(/[^\/]+$/,function(d,e,f){return(/[^\/]$/).test(d)?"":d}).replace(/\/+$/,"")+"/";return c};A.getFullUrl=function(e,c){var f=e,d=e.substring(0,1);c=(typeof c==="undefined")?true:c;if(/[a-z]+\:\/\//.test(e)){}else{if(d==="/"){f=A.getRootUrl()+e.replace(/^\/+/,"")}else{if(d==="#"){f=A.getPageUrl().replace(/#.*/,"")+e}else{if(d==="?"){f=A.getPageUrl().replace(/[\?#].*/,"")+e}else{if(c){f=A.getBaseUrl()+e.replace(/^(\.\/)+/,"")}else{f=A.getBasePageUrl()+e.replace(/^(\.\/)+/,"")}}}}}return f.replace(/\#$/,"")};A.getShortUrl=function(d){var e=d,c=A.getBaseUrl(),f=A.getRootUrl();if(A.emulated.pushState){e=e.replace(c,"")}e=e.replace(f,"/");if(A.isTraditionalAnchor(e)){e="./"+e}e=e.replace(/^(\.\/)+/g,"./").replace(/\#$/,"");return e};A.store={};A.idToState=A.idToState||{};A.stateToId=A.stateToId||{};A.urlToId=A.urlToId||{};A.storedStates=A.storedStates||[];A.savedStates=A.savedStates||[];A.normalizeStore=function(){A.store.idToState=A.store.idToState||{};A.store.urlToId=A.store.urlToId||{};A.store.stateToId=A.store.stateToId||{}};A.getState=function(c,d){if(typeof c==="undefined"){c=true}if(typeof d==="undefined"){d=true}var e=A.getLastSavedState();if(!e&&d){e=A.createStateObject()}if(c){e=A.cloneObject(e);e.url=e.cleanUrl||e.url}return e};A.getIdByState=function(e){var c=A.extractId(e.url),d;if(!c){d=A.getStateString(e);if(typeof A.stateToId[d]!=="undefined"){c=A.stateToId[d]}else{if(typeof A.store.stateToId[d]!=="undefined"){c=A.store.stateToId[d]}else{while(true){c=(new Date()).getTime()+String(Math.random()).replace(/\D/g,"");if(typeof A.idToState[c]==="undefined"&&typeof A.store.idToState[c]==="undefined"){break}}A.stateToId[d]=c;A.idToState[c]=e}}}return c};A.normalizeState=function(d){var c,e;if(!d||(typeof d!=="object")){d={}}if(typeof d.normalized!=="undefined"){return d}if(!d.data||(typeof d.data!=="object")){d.data={}}c={};c.normalized=true;c.title=d.title||"";c.url=A.getFullUrl(A.unescapeString(d.url||t.location.href));c.hash=A.getShortUrl(c.url);c.data=A.cloneObject(d.data);c.id=A.getIdByState(c);c.cleanUrl=c.url.replace(/\??\&_suid.*/,"");c.url=c.cleanUrl;e=!A.isEmptyObject(c.data);if(c.title||e){c.hash=A.getShortUrl(c.url).replace(/\??\&_suid.*/,"");if(!/\?/.test(c.hash)){c.hash+="?"}c.hash+="&_suid="+c.id}c.hashedUrl=A.getFullUrl(c.hash);if((A.emulated.pushState||A.bugs.safariPoll)&&A.hasUrlDuplicate(c)){c.url=c.hashedUrl}return c};A.createStateObject=function(d,c,e){var f={data:d,title:c,url:e};f=A.normalizeState(f);return f};A.getStateById=function(c){c=String(c);var d=A.idToState[c]||A.store.idToState[c]||B;return d};A.getStateString=function(e){var f,d,c;f=A.normalizeState(e);d={data:f.data,title:e.title,url:e.url};c=p.stringify(d);return c};A.getStateId=function(d){var e,c;e=A.normalizeState(d);c=e.id;return c};A.getHashByState=function(d){var e,c;e=A.normalizeState(d);c=e.hash;return c};A.extractId=function(d){var c,e,f;e=/(.*)\&_suid=([0-9]+)$/.exec(d);f=e?(e[1]||d):d;c=e?String(e[2]||""):"";return c||false};A.isTraditionalAnchor=function(c){var d=!(/[\/\?\.]/.test(c));return d};A.extractState=function(d,e){var g=null,c,f;e=e||false;c=A.extractId(d);if(c){g=A.getStateById(c)}if(!g){f=A.getFullUrl(d);c=A.getIdByUrl(f)||false;if(c){g=A.getStateById(c)}if(!g&&e&&!A.isTraditionalAnchor(d)){g=A.createStateObject(null,null,f)}}return g};A.getIdByUrl=function(d){var c=A.urlToId[d]||A.store.urlToId[d]||B;return c};A.getLastSavedState=function(){return A.savedStates[A.savedStates.length-1]||B};A.getLastStoredState=function(){return A.storedStates[A.storedStates.length-1]||B};A.hasUrlDuplicate=function(c){var d=false,e;e=A.extractState(c.url);d=e&&e.id!==c.id;return d};A.storeState=function(c){A.urlToId[c.url]=c.id;A.storedStates.push(A.cloneObject(c));return c};A.isLastSavedState=function(d){var e=false,f,g,c;if(A.savedStates.length){f=d.id;g=A.getLastSavedState();c=g.id;e=(f===c)}return e};A.saveState=function(c){if(A.isLastSavedState(c)){return false}A.savedStates.push(A.cloneObject(c));return true};A.getStateByIndex=function(c){var d=null;if(typeof c==="undefined"){d=A.savedStates[A.savedStates.length-1]}else{if(c<0){d=A.savedStates[A.savedStates.length+c]}else{d=A.savedStates[c]}}return d};A.getHash=function(){var c=A.unescapeHash(t.location.hash);return c};A.unescapeString=function(c){var e=c,d;while(true){d=v.unescape(e);if(d===e){break}e=d}return e};A.unescapeHash=function(c){var d=A.normalizeHash(c);d=A.unescapeString(d);return d};A.normalizeHash=function(c){var d=c.replace(/[^#]*#/,"").replace(/#.*/,"");return d};A.setHash=function(c,f){var g,e,d;if(f!==false&&A.busy()){A.pushQueue({scope:A,callback:A.setHash,args:arguments,queue:f});return false}g=A.escapeHash(c);A.busy(true);e=A.extractState(c,true);if(e&&!A.emulated.pushState){A.pushState(e.data,e.title,e.url,false)}else{if(t.location.hash!==g){if(A.bugs.setHash){d=A.getPageUrl();A.pushState(null,null,d+"#"+g,false)}else{t.location.hash=g}}}return A};A.escapeHash=function(c){var d=A.normalizeHash(c);d=v.escape(d);if(!A.bugs.hashEscape){d=d.replace(/\%21/g,"!").replace(/\%26/g,"&").replace(/\%3D/g,"=").replace(/\%3F/g,"?")}return d};A.getHashByUrl=function(d){var c=String(d).replace(/([^#]*)#?([^#]*)#?(.*)/,"$2");c=A.unescapeHash(c);return c};A.setTitle=function(d){var c=d.title,e;if(!c){e=A.getStateByIndex(0);if(e&&e.url===d.url){c=e.title||A.options.initialTitle}}return A};A.queues=[];A.busy=function(c){if(typeof c!=="undefined"){A.busy.flag=c}else{if(typeof A.busy.flag==="undefined"){A.busy.flag=false}}if(!A.busy.flag){s(A.busy.timeout);var d=function(){var f,g,e;if(A.busy.flag){return}for(f=A.queues.length-1;f>=0;--f){g=A.queues[f];if(g.length===0){continue}e=g.shift();A.fireQueueItem(e);A.busy.timeout=z(d,A.options.busyDelay)}};A.busy.timeout=z(d,A.options.busyDelay)}return A.busy.flag};A.busy.flag=false;A.fireQueueItem=function(c){return c.callback.apply(c.scope||A,c.args||[])};A.pushQueue=function(c){A.queues[c.queue||0]=A.queues[c.queue||0]||[];A.queues[c.queue||0].push(c);return A};A.queue=function(c,d){if(typeof c==="function"){c={callback:c}}if(typeof d!=="undefined"){c.queue=d}if(A.busy()){A.pushQueue(c)}else{A.fireQueueItem(c)}return A};A.clearQueue=function(){A.busy.flag=false;A.queues=[];return A};A.stateChanged=false;A.doubleChecker=false;A.doubleCheckComplete=function(){A.stateChanged=true;A.doubleCheckClear();return A};A.doubleCheckClear=function(){if(A.doubleChecker){s(A.doubleChecker);A.doubleChecker=false}return A};A.doubleCheck=function(c){A.stateChanged=false;A.doubleCheckClear();if(A.bugs.ieDoubleCheck){A.doubleChecker=z(function(){A.doubleCheckClear();if(!A.stateChanged){c()}return true},A.options.doubleCheckInterval)}return A};A.safariStatePoll=function(){var c=A.extractState(t.location.href),d;if(!A.isLastSavedState(c)){d=c}else{return}if(!d){d=A.createStateObject()}A.Adapter.trigger(v,"popstate");return A};A.back=function(c){if(c!==false&&A.busy()){A.pushQueue({scope:A,callback:A.back,args:arguments,queue:c});return false}A.busy(true);A.doubleCheck(function(){A.back(false)});w.go(-1);return true};A.forward=function(c){if(c!==false&&A.busy()){A.pushQueue({scope:A,callback:A.forward,args:arguments,queue:c});return false}A.busy(true);A.doubleCheck(function(){A.forward(false)});w.go(1);return true};A.go=function(d,e){var c;if(d>0){for(c=1;c<=d;++c){A.forward(e)}}else{if(d<0){for(c=-1;c>=d;--c){A.back(e)}}else{throw new Error("History.go: History.go requires a positive or negative integer passed.")}}return A};if(A.emulated.pushState){var a=function(){};A.pushState=A.pushState||a;A.replaceState=A.replaceState||a}else{A.onPopState=function(e,i){var c=false,d=false,f,g,h;A.doubleCheckComplete();f=A.getHash();if(f){return false;g=A.extractState(f||t.location.href,true);if(g){A.replaceState(g.data,g.title,g.url,false)}else{A.Adapter.trigger(v,"anchorchange");A.busy(false)}A.expectedStateId=false;return false}c=A.Adapter.extractEventData("state",e,i)||false;if(c){d=A.getStateById(c)}else{if(A.expectedStateId){d=A.getStateById(A.expectedStateId)}else{d=A.extractState(t.location.href)}}if(!d){d=A.createStateObject(null,null,t.location.href)}A.expectedStateId=false;if(A.isLastSavedState(d)){A.busy(false);return false}A.storeState(d);A.saveState(d);A.setTitle(d);A.Adapter.trigger(v,"statechange");A.busy(false);return true};A.Adapter.bind(v,"popstate",A.onPopState);A.pushState=function(e,c,f,g){if(A.getHashByUrl(f)&&A.emulated.pushState){throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).")}if(g!==false&&A.busy()){A.pushQueue({scope:A,callback:A.pushState,args:arguments,queue:g});return false}A.busy(true);var d=A.createStateObject(e,c,f);if(A.isLastSavedState(d)){A.busy(false)}else{A.storeState(d);A.expectedStateId=d.id;w.pushState(d.id,d.title,d.url);A.Adapter.trigger(v,"popstate")}return true};A.replaceState=function(e,c,f,g){if(A.getHashByUrl(f)&&A.emulated.pushState){throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).")}if(g!==false&&A.busy()){A.pushQueue({scope:A,callback:A.replaceState,args:arguments,queue:g});return false}A.busy(true);var d=A.createStateObject(e,c,f);if(A.isLastSavedState(d)){A.busy(false)}else{A.storeState(d);A.expectedStateId=d.id;w.replaceState(d.id,d.title,d.url);A.Adapter.trigger(v,"popstate")}return true}}if(r){try{A.store=p.parse(r.getItem("History.store"))||{}}catch(b){A.store={}}A.normalizeStore()}else{A.store={};A.normalizeStore()}A.Adapter.bind(v,"beforeunload",A.clearAllIntervals);A.Adapter.bind(v,"unload",A.clearAllIntervals);A.saveState(A.storeState(A.extractState(t.location.href,true)));if(r){A.onUnload=function(){var e,c;try{e=p.parse(r.getItem("History.store"))||{}}catch(d){e={}}e.idToState=e.idToState||{};e.urlToId=e.urlToId||{};e.stateToId=e.stateToId||{};for(c in A.idToState){if(!A.idToState.hasOwnProperty(c)){continue}e.idToState[c]=A.idToState[c]}for(c in A.urlToId){if(!A.urlToId.hasOwnProperty(c)){continue}e.urlToId[c]=A.urlToId[c]}for(c in A.stateToId){if(!A.stateToId.hasOwnProperty(c)){continue}e.stateToId[c]=A.stateToId[c]}A.store=e;A.normalizeStore();r.setItem("History.store",p.stringify(e))};if($.browser.msie){A.intervalList.push(x(A.onUnload,A.options.storeInterval))}A.Adapter.bind(v,"beforeunload",A.onUnload);A.Adapter.bind(v,"unload",A.onUnload)}if(!A.emulated.pushState){if(A.bugs.safariPoll){A.intervalList.push(x(A.safariStatePoll,A.options.safariPollInterval))}if(q.vendor==="Apple Computer, Inc."||(q.appCodeName||"")==="Mozilla"){A.Adapter.bind(v,"hashchange",function(){A.Adapter.trigger(v,"popstate")});if(A.getHash()){A.Adapter.onDomLoad(function(){A.Adapter.trigger(v,"hashchange")})}}}};A.init()})(window);(function(e,g){var f=e.History=e.History||{},h=e.jQuery;if(typeof f.Adapter!=="undefined"){throw new Error("History.js Adapter has already been loaded...")}f.Adapter={bind:function(c,b,a){h(c).bind(b,a)},trigger:function(b,a,c){h(b).trigger(a,c)},extractEventData:function(b,a,c){var d=(a&&a.originalEvent&&a.originalEvent[b])||(c&&c[b])||g;return d},onDomLoad:function(a){h(a)}};if(typeof f.init!=="undefined"){f.init()}})(window);(function(m,j){var i=m.document,l=m.setTimeout||l,k=m.clearTimeout||k,h=m.setInterval||h,n=m.History=m.History||{};if(typeof n.initHtml4!=="undefined"){throw new Error("History.js HTML4 Support has already been loaded...")}n.initHtml4=function(){if(typeof n.initHtml4.initialized!=="undefined"){return false}else{n.initHtml4.initialized=true}n.enabled=true;n.savedHashes=[];n.isLastHash=function(c){var a=n.getHashByIndex(),b;b=c===a;return b};n.saveHash=function(a){if(n.isLastHash(a)){return false}n.savedHashes.push(a);return true};n.getHashByIndex=function(b){var a=null;if(typeof b==="undefined"){a=n.savedHashes[n.savedHashes.length-1]}else{if(b<0){a=n.savedHashes[n.savedHashes.length+b]}else{a=n.savedHashes[b]}}return a};n.discardedHashes={};n.discardedStates={};n.discardState=function(a,e,b){var d=n.getHashByState(a),c;c={discardedState:a,backState:b,forwardState:e};n.discardedStates[d]=c;return true};n.discardHash=function(c,d,a){var b={discardedHash:c,backState:a,forwardState:d};n.discardedHashes[c]=b;return true};n.discardedState=function(c){var a=n.getHashByState(c),b;b=n.discardedStates[a]||false;return b};n.discardedHash=function(a){var b=n.discardedHashes[a]||false;return b};n.recycleState=function(b){var a=n.getHashByState(b);if(n.discardedState(b)){delete n.discardedStates[a]}return true};if(n.emulated.hashChange){n.hashChangeInit=function(){n.checkerFunction=null;var e="",a,d,c,b;if(n.isInternetExplorer()){a="historyjs-iframe";d=i.createElement("iframe");d.setAttribute("id",a);d.style.display="none";i.body.appendChild(d);d.contentWindow.document.open();d.contentWindow.document.close();c="";b=false;n.checkerFunction=function(){if(b){return false}b=true;var g=n.getHash()||"",f=n.unescapeHash(d.contentWindow.document.location.hash)||"";if(g!==e){e=g;if(f!==g){c=f=g;d.contentWindow.document.open();d.contentWindow.document.close();d.contentWindow.document.location.hash=n.escapeHash(g)}n.Adapter.trigger(m,"hashchange")}else{if(f!==c){c=f;n.setHash(f,false)}}b=false;return true}}else{n.checkerFunction=function(){var f=n.getHash();if(f!==e){e=f;n.Adapter.trigger(m,"hashchange")}return true}}n.intervalList.push(h(n.checkerFunction,n.options.hashChangeInterval));return true};n.Adapter.onDomLoad(n.hashChangeInit)}if(n.emulated.pushState){n.onHashChange=function(b){var a=((b&&b.newURL)||i.location.href),c=n.getHashByUrl(a),d=null,f=null,g=null,e;if(n.isLastHash(c)){n.busy(false);return false}n.doubleCheckComplete();n.saveHash(c);if(c&&n.isTraditionalAnchor(c)){n.Adapter.trigger(m,"anchorchange");n.busy(false);return false}d=n.extractState(n.getFullUrl(c||i.location.href,false),true);if(n.isLastSavedState(d)){n.busy(false);return false}f=n.getHashByState(d);e=n.discardedState(d);if(e){if(n.getHashByIndex(-2)===n.getHashByState(e.forwardState)){n.back(false)}else{n.forward(false)}return false}n.pushState(d.data,d.title,d.url,false);return true};n.Adapter.bind(m,"hashchange",n.onHashChange);n.pushState=function(e,a,r,c){if(n.getHashByUrl(r)){throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).")}if(c!==false&&n.busy()){n.pushQueue({scope:n,callback:n.pushState,args:arguments,queue:c});return false}n.busy(true);var f=n.createStateObject(e,a,r),q=n.getHashByState(f),g=n.getState(false),d=n.getHashByState(g),b=n.getHash();n.storeState(f);n.expectedStateId=f.id;n.recycleState(f);n.setTitle(f);if(q===d){n.busy(false);return false}if(q!==b&&q!==n.getShortUrl(i.location.href)){n.setHash(q,false);return false}n.saveState(f);n.Adapter.trigger(m,"statechange");n.busy(false);return true};n.replaceState=function(b,g,c,f){if(n.getHashByUrl(c)){throw new Error("History.js does not support states with fragement-identifiers (hashes/anchors).")}if(f!==false&&n.busy()){n.pushQueue({scope:n,callback:n.replaceState,args:arguments,queue:f});return false}n.busy(true);var a=n.createStateObject(b,g,c),d=n.getState(false),e=n.getStateByIndex(-2);n.discardState(d,a,e);n.pushState(a.data,a.title,a.url,false);return true}}if(n.emulated.pushState){if(n.getHash()&&!n.emulated.hashChange){n.Adapter.onDomLoad(function(){n.Adapter.trigger(m,"hashchange")})}}};if(typeof n.init!=="undefined"){n.init()}})(window)}(function(b){b.fn.hoverIntent=function(o,p){var g={sensitivity:7,interval:100,timeout:0};g=b.extend(g,p?{over:o,out:p}:o);var a,f,r,t;var s=function(c){a=c.pageX;f=c.pageY};var u=function(c,d){d.hoverIntent_t=clearTimeout(d.hoverIntent_t);if((Math.abs(r-a)+Math.abs(t-f))<g.sensitivity){b(d).unbind("mousemove",s);d.hoverIntent_s=1;return g.over.apply(d,[c])}else{r=a;t=f;d.hoverIntent_t=setTimeout(function(){u(c,d)},g.interval)}};var q=function(c,d){d.hoverIntent_t=clearTimeout(d.hoverIntent_t);d.hoverIntent_s=0;return g.out.apply(d,[c])};var v=function(e){var c=jQuery.extend({},e);var d=this;if(d.hoverIntent_t){d.hoverIntent_t=clearTimeout(d.hoverIntent_t)}if(e.type=="mouseenter"){r=c.pageX;t=c.pageY;b(d).bind("mousemove",s);if(d.hoverIntent_s!=1){d.hoverIntent_t=setTimeout(function(){u(c,d)},g.interval)}}else{b(d).unbind("mousemove",s);if(d.hoverIntent_s==1){d.hoverIntent_t=setTimeout(function(){q(c,d)},g.timeout)}}};return this.bind("mouseenter",v).bind("mouseleave",v)}})(jQuery);
/*!
 * jScrollPane - v2.0.0beta11 - 2011-07-04
 * http://jscrollpane.kelvinluck.com/
 *
 * Copyright (c) 2010 Kelvin Luck
 * Dual licensed under the MIT and GPL licenses.
 */
(function(d,e,f){d.fn.jScrollPane=function(a){function b(bs,bc){var bj,ba=this,a2,bF,aL,bD,a7,a1,s,aP,bY,bT,br,aX,bi,aY,aW,bP,a6,bz,a3,aN,bx,by,bK,bC,bm,aU,bt,bl,aJ,bp,bQ,a0,bf,bG=true,bb=true,bR=false,aV=false,bA=bs.clone(false,false).empty(),bN=d.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";bQ=bs.css("paddingTop")+" "+bs.css("paddingRight")+" "+bs.css("paddingBottom")+" "+bs.css("paddingLeft");a0=(parseInt(bs.css("paddingLeft"),10)||0)+(parseInt(bs.css("paddingRight"),10)||0);function bv(h){var m,k,l,o,g,i,j=false,n=false;bj=h;if(a2===f){g=bs.scrollTop();i=bs.scrollLeft();bs.css({overflow:"hidden",padding:0});bF=bs.innerWidth()+a0;aL=bs.innerHeight();bs.width(bF);a2=d('<div class="jspPane" />').css("padding",bQ).append(bs.children());bD=d('<div class="jspContainer" />').css({width:bF+"px",height:aL+"px"}).append(a2).appendTo(bs)}else{bs.css("width","");j=bj.stickToBottom&&bg();n=bj.stickToRight&&bw();o=bs.innerWidth()+a0!=bF||bs.outerHeight()!=aL;if(o){bF=bs.innerWidth()+a0;aL=bs.innerHeight();bD.css({width:bF+"px",height:aL+"px"})}if(!o&&bf==a7&&a2.outerHeight()==a1){bs.width(bF);return}bf=a7;a2.css("width","");bs.width(bF);bD.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}a2.css("overflow","auto");if(h.contentWidth){a7=h.contentWidth}else{a7=a2[0].scrollWidth}a1=a2[0].scrollHeight;a2.css("overflow","");s=a7/bF;aP=a1/aL;bY=aP>1;bT=h.isScrollableH?(s>1):false;if(!(bT||bY)){bs.removeClass("jspScrollable");a2.css({top:0,width:bD.width()-a0});aS();bq();a9();aK();bH()}else{bs.addClass("jspScrollable");m=bj.maintainPosition&&(bi||bP);if(m){k=bV();l=bX()}bS();c();bo();if(m){bd(n?(a7-bF):k,false);be(j?(a1-aL):l,false)}bh();bJ();bB();if(bj.enableKeyboardNavigation){a8()}if(bj.clickOnTrack){aQ()}bu();if(bj.hijackInternalLinks){aT()}}if(bj.autoReinitialise&&!bp){bp=setInterval(function(){bv(bj)},bj.autoReinitialiseDelay)}else{if(!bj.autoReinitialise&&bp){clearInterval(bp)}}g&&bs.scrollTop(0)&&be(g,false);i&&bs.scrollLeft(0)&&bd(i,false);bs.trigger("jsp-initialised",[bT||bY])}function bS(){if(bY){bD.append(d('<div class="jspVerticalBar" />').append(d('<div class="jspCap jspCapTop" />'),d('<div class="jspTrack" />').append(d('<div class="jspDrag" />').append(d('<div class="jspDragTop" />'),d('<div class="jspDragBottom" />'))),d('<div class="jspCap jspCapBottom" />')));a6=bD.find(">.jspVerticalBar");bz=a6.find(">.jspTrack");br=bz.find(">.jspDrag");if(bj.showArrows){by=d('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",bU(0,-1)).bind("click.jsp",bW);bK=d('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",bU(0,1)).bind("click.jsp",bW);if(bj.arrowScrollOnHover){by.bind("mouseover.jsp",bU(0,-1,by));bK.bind("mouseover.jsp",bU(0,1,bK))}bE(bz,bj.verticalArrowPositions,by,bK)}aN=aL;bD.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){aN-=d(this).outerHeight()});br.hover(function(){br.addClass("jspHover")},function(){br.removeClass("jspHover")}).bind("mousedown.jsp",function(h){d("html").bind("dragstart.jsp selectstart.jsp",bW);br.addClass("jspActive");var g=h.pageY-br.position().top;d("html").bind("mousemove.jsp",function(i){a5(i.pageY-g,false)}).bind("mouseup.jsp mouseleave.jsp",bn);return false});aR()}}function aR(){bz.height(aN+"px");bi=0;a3=bj.verticalGutter+bz.outerWidth();a2.width(bF-a3-a0);try{if(a6.position().left===0){a2.css("margin-left",a3+"px")}}catch(g){}}function c(){if(bT){bD.append(d('<div class="jspHorizontalBar" />').append(d('<div class="jspCap jspCapLeft" />'),d('<div class="jspTrack" />').append(d('<div class="jspDrag" />').append(d('<div class="jspDragLeft" />'),d('<div class="jspDragRight" />'))),d('<div class="jspCap jspCapRight" />')));bC=bD.find(">.jspHorizontalBar");bm=bC.find(">.jspTrack");aY=bm.find(">.jspDrag");if(bj.showArrows){bl=d('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",bU(-1,0)).bind("click.jsp",bW);aJ=d('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",bU(1,0)).bind("click.jsp",bW);if(bj.arrowScrollOnHover){bl.bind("mouseover.jsp",bU(-1,0,bl));aJ.bind("mouseover.jsp",bU(1,0,aJ))}bE(bm,bj.horizontalArrowPositions,bl,aJ)}aY.hover(function(){aY.addClass("jspHover")},function(){aY.removeClass("jspHover")}).bind("mousedown.jsp",function(h){d("html").bind("dragstart.jsp selectstart.jsp",bW);aY.addClass("jspActive");var g=h.pageX-aY.position().left;d("html").bind("mousemove.jsp",function(i){a4(i.pageX-g,false)}).bind("mouseup.jsp mouseleave.jsp",bn);return false});aU=bD.innerWidth();bI()}}function bI(){bD.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){aU-=d(this).outerWidth()});bm.width(aU+"px");bP=0}function bo(){if(bT&&bY){var h=bm.outerHeight(),g=bz.outerWidth();aN-=h;d(bC).find(">.jspCap:visible,>.jspArrow").each(function(){aU+=d(this).outerWidth()});aU-=g;aL-=g;bF-=h;bm.parent().append(d('<div class="jspCorner" />').css("width",h+"px"));aR();bI()}if(bT){a2.width((bD.outerWidth()-a0)+"px")}a1=a2.outerHeight();aP=a1/aL;if(bT){bt=Math.ceil(1/s*aU);if(bt>bj.horizontalDragMaxWidth){bt=bj.horizontalDragMaxWidth}else{if(bt<bj.horizontalDragMinWidth){bt=bj.horizontalDragMinWidth}}aY.width(bt+"px");aW=aU-bt;bL(bP)}if(bY){bx=Math.ceil(1/aP*aN);if(bx>bj.verticalDragMaxHeight){bx=bj.verticalDragMaxHeight}else{if(bx<bj.verticalDragMinHeight){bx=bj.verticalDragMinHeight}}br.height(bx+"px");aX=aN-bx;bM(bi)}}function bE(l,j,m,i){var g="before",k="after",h;if(j=="os"){j=/Mac/.test(navigator.platform)?"after":"split"}if(j==g){k=j}else{if(j==k){g=j;h=m;m=i;i=h}}l[g](m)[k](i)}function bU(i,g,h){return function(){bk(i,g,this,h);this.blur();return false}}function bk(k,l,g,h){g=d(g).addClass("jspActive");var j,m,n=true,i=function(){if(k!==0){ba.scrollByX(k*bj.arrowButtonSpeed)}if(l!==0){ba.scrollByY(l*bj.arrowButtonSpeed)}m=setTimeout(i,n?bj.initialDelay:bj.arrowRepeatFreq);n=false};i();j=h?"mouseout.jsp":"mouseup.jsp";h=h||d("html");h.bind(j,function(){g.removeClass("jspActive");m&&clearTimeout(m);m=null;h.unbind(j)})}function aQ(){aK();if(bY){bz.bind("mousedown.jsp",function(h){if(h.originalTarget===f||h.originalTarget==h.currentTarget){var k=d(this),g=k.offset(),j=h.pageY-g.top-bi,m,n=true,i=function(){var o=k.offset(),r=h.pageY-o.top-bx/2,q=aL*bj.scrollPagePercent,p=aX*q/(a1-aL);if(j<0){if(bi-p>r){ba.scrollByY(-q)}else{a5(r)}}else{if(j>0){if(bi+p<r){ba.scrollByY(q)}else{a5(r)}}else{l();return}}m=setTimeout(i,n?bj.initialDelay:bj.trackClickRepeatFreq);n=false},l=function(){m&&clearTimeout(m);m=null;d(document).unbind("mouseup.jsp",l)};i();d(document).bind("mouseup.jsp",l);return false}})}if(bT){bm.bind("mousedown.jsp",function(h){if(h.originalTarget===f||h.originalTarget==h.currentTarget){var k=d(this),g=k.offset(),j=h.pageX-g.left-bP,m,n=true,i=function(){var o=k.offset(),r=h.pageX-o.left-bt/2,q=bF*bj.scrollPagePercent,p=aW*q/(a7-bF);if(j<0){if(bP-p>r){ba.scrollByX(-q)}else{a4(r)}}else{if(j>0){if(bP+p<r){ba.scrollByX(q)}else{a4(r)}}else{l();return}}m=setTimeout(i,n?bj.initialDelay:bj.trackClickRepeatFreq);n=false},l=function(){m&&clearTimeout(m);m=null;d(document).unbind("mouseup.jsp",l)};i();d(document).bind("mouseup.jsp",l);return false}})}}function aK(){if(bm){bm.unbind("mousedown.jsp")}if(bz){bz.unbind("mousedown.jsp")}}function bn(){d("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp");if(br){br.removeClass("jspActive")}if(aY){aY.removeClass("jspActive")}}function a5(g,h){if(!bY){return}if(g<0){g=0}else{if(g>aX){g=aX}}if(h===f){h=bj.animateScroll}if(h){ba.animate(br,"top",g,bM)}else{br.css("top",g);bM(g)}}function bM(k){if(k===f){k=br.position().top}bD.scrollTop(0);bi=k;var h=bi===0,j=bi==aX,i=k/aX,g=-i*(a1-aL);if(bG!=h||bR!=j){bG=h;bR=j;bs.trigger("jsp-arrow-change",[bG,bR,bb,aV])}aM(h,j);a2.css("top",g);bs.trigger("jsp-scroll-y",[-g,h,j]).trigger("scroll")}function a4(h,g){if(!bT){return}if(h<0){h=0}else{if(h>aW){h=aW}}if(g===f){g=bj.animateScroll}if(g){ba.animate(aY,"left",h,bL)}else{aY.css("left",h);bL(h)}}function bL(k){if(k===f){k=aY.position().left}bD.scrollTop(0);bP=k;var h=bP===0,i=bP==aW,j=k/aW,g=-j*(a7-bF);if(bb!=h||aV!=i){bb=h;aV=i;bs.trigger("jsp-arrow-change",[bG,bR,bb,aV])}aO(h,i);a2.css("left",g);bs.trigger("jsp-scroll-x",[-g,h,i]).trigger("scroll")}function aM(h,g){if(bj.showArrows){by[h?"addClass":"removeClass"]("jspDisabled");bK[g?"addClass":"removeClass"]("jspDisabled")}}function aO(h,g){if(bj.showArrows){bl[h?"addClass":"removeClass"]("jspDisabled");aJ[g?"addClass":"removeClass"]("jspDisabled")}}function be(g,i){var h=g/(a1-aL);a5(h*aX,i)}function bd(i,g){var h=i/(a7-bF);a4(h*aW,g)}function bO(h,m,u){var p,t,r,v=0,i=0,g,n,o,k,l,j;try{p=d(h)}catch(q){return}t=p.outerHeight();r=p.outerWidth();bD.scrollTop(0);bD.scrollLeft(0);while(!p.is(".jspPane")){v+=p.position().top;i+=p.position().left;p=p.offsetParent();if(/^body|html$/i.test(p[0].nodeName)){return}}g=bX();o=g+aL;if(v<g||m){l=v-bj.verticalGutter}else{if(v+t>o){l=v-aL+t+bj.verticalGutter}}if(l){be(l,u)}n=bV();k=n+bF;if(i<n||m){j=i-bj.horizontalGutter}else{if(i+r>k){j=i-bF+r+bj.horizontalGutter}}if(j){bd(j,u)}}function bV(){return -a2.position().left}function bX(){return -a2.position().top}function bg(){var g=a1-aL;return(g>20)&&(g-bX()<10)}function bw(){var g=a7-bF;return(g>20)&&(g-bV()<10)}function bJ(){bD.unbind(bN).bind(bN,function(i,h,j,l){var k=bP,g=bi;ba.scrollBy(j*bj.mouseWheelSpeed,-l*bj.mouseWheelSpeed,false);return k==bP&&g==bi})}function aS(){bD.unbind(bN)}function bW(){return false}function bh(){a2.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(g){bO(g.target,false)})}function bq(){a2.find(":input,a").unbind("focus.jsp")}function a8(){var g,j,h=[];bT&&h.push(bC[0]);bY&&h.push(a6[0]);a2.focus(function(){bs.focus()});bs.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(k){if(k.target!==this&&!(h.length&&d(k.target).closest(h).length)){return}var l=bP,m=bi;switch(k.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:g=k.keyCode;i();break;case 35:be(a1-aL);g=null;break;case 36:be(0);g=null;break}j=k.keyCode==g&&l!=bP||m!=bi;return !j}).bind("keypress.jsp",function(k){if(k.keyCode==g){i()}return !j});if(bj.hideFocus){bs.css("outline","none");if("hideFocus" in bD[0]){bs.attr("hideFocus",true)}}else{bs.css("outline","");if("hideFocus" in bD[0]){bs.attr("hideFocus",false)}}function i(){var k=bP,l=bi;switch(g){case 40:ba.scrollByY(bj.keyboardSpeed,false);break;case 38:ba.scrollByY(-bj.keyboardSpeed,false);break;case 34:case 32:ba.scrollByY(aL*bj.scrollPagePercent,false);break;case 33:ba.scrollByY(-aL*bj.scrollPagePercent,false);break;case 39:ba.scrollByX(bj.keyboardSpeed,false);break;case 37:ba.scrollByX(-bj.keyboardSpeed,false);break}j=k!=bP||l!=bi;return j}}function a9(){bs.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp")}function bu(){if(location.hash&&location.hash.length>1){var h,j,i=escape(location.hash);try{h=d(i)}catch(g){return}if(h.length&&a2.find(i)){if(bD.scrollTop()===0){j=setInterval(function(){if(bD.scrollTop()>0){bO(i,true);d(document).scrollTop(bD.position().top);clearInterval(j)}},50)}else{bO(i,true);d(document).scrollTop(bD.position().top)}}}}function bH(){d("a.jspHijack").unbind("click.jsp-hijack").removeClass("jspHijack")}function aT(){bH();d("a[href^=#]").addClass("jspHijack").bind("click.jsp-hijack",function(){var g=this.href.split("#"),h;if(g.length>1){h=g[1];if(h.length>0&&a2.find("#"+h).length>0){bO("#"+h,true);return false}}})}function bB(){var k,l,i,j,h,g=false;bD.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(n){var m=n.originalEvent.touches[0];k=bV();l=bX();i=m.pageX;j=m.pageY;h=false;g=true}).bind("touchmove.jsp",function(m){if(!g){return}var n=m.originalEvent.touches[0],o=bP,p=bi;ba.scrollTo(k+i-n.pageX,l+j-n.pageY);h=h||Math.abs(i-n.pageX)>5||Math.abs(j-n.pageY)>5;return o==bP&&p==bi}).bind("touchend.jsp",function(m){g=false}).bind("click.jsp-touchclick",function(m){if(h){h=false;return false}})}function aZ(){var g=bX(),h=bV();bs.removeClass("jspScrollable").unbind(".jsp");bs.replaceWith(bA.append(a2.children()));bA.scrollTop(g);bA.scrollLeft(h)}d.extend(ba,{reinitialise:function(g){g=d.extend({},bj,g);bv(g)},scrollToElement:function(h,i,g){bO(h,i,g)},scrollTo:function(h,g,i){bd(h,i);be(g,i)},scrollToX:function(h,g){bd(h,g)},scrollToY:function(g,h){be(g,h)},scrollToPercentX:function(h,g){bd(h*(a7-bF),g)},scrollToPercentY:function(h,g){be(h*(a1-aL),g)},scrollBy:function(i,g,h){ba.scrollByX(i,h);ba.scrollByY(g,h)},scrollByX:function(g,i){var j=bV()+Math[g<0?"floor":"ceil"](g),h=j/(a7-bF);a4(h*aW,i)},scrollByY:function(g,i){var j=bX()+Math[g<0?"floor":"ceil"](g),h=j/(a1-aL);a5(h*aX,i)},positionDragX:function(g,h){a4(g,h)},positionDragY:function(h,g){a5(h,g)},animate:function(k,h,g,i){var j={};j[h]=g;k.animate(j,{duration:bj.animateDuration,easing:bj.animateEase,queue:false,step:i})},getContentPositionX:function(){return bV()},getContentPositionY:function(){return bX()},getContentWidth:function(){return a7},getContentHeight:function(){return a1},getPercentScrolledX:function(){return bV()/(a7-bF)},getPercentScrolledY:function(){return bX()/(a1-aL)},getIsScrollableH:function(){return bT},getIsScrollableV:function(){return bY},getContentPane:function(){return a2},scrollToBottom:function(g){a5(aX,g)},hijackInternalLinks:function(){aT()},destroy:function(){aZ()}});bv(bc)}a=d.extend({},d.fn.jScrollPane.defaults,a);d.each(["mouseWheelSpeed","arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){a[this]=a[this]||a.speed});return this.each(function(){var h=d(this),c=h.data("jsp");if(c){c.reinitialise(a)}else{c=new b(h,a);h.data("jsp",c)}})};d.fn.jScrollPane.defaults={showArrows:false,maintainPosition:true,stickToBottom:false,stickToRight:false,clickOnTrack:true,autoReinitialise:false,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:f,animateScroll:false,animateDuration:300,animateEase:"linear",hijackInternalLinks:false,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:0,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:false,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:true,hideFocus:false,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:0.8,isScrollableH:true}})(jQuery,this);
/*! Copyright (c) 2011 Brandon Aaron (http://brandonaaron.net)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
 * Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
 * Thanks to: Seamus Leahy for adding deltaX and deltaY
 *
 * Version: 3.0.6
 *
 * Requires: 1.2.2+
 */
(function(g){var e=["DOMMouseScroll","mousewheel"];if(g.event.fixHooks){for(var f=e.length;f;){g.event.fixHooks[e[--f]]=g.event.mouseHooks}}g.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var a=e.length;a;){this.addEventListener(e[--a],h,false)}}else{this.onmousewheel=h}},teardown:function(){if(this.removeEventListener){for(var a=e.length;a;){this.removeEventListener(e[--a],h,false)}}else{this.onmousewheel=null}}};g.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}});function h(b){var d=b||window.event,l=[].slice.call(arguments,1),a=0,c=true,m=0,n=0;b=g.event.fix(d);b.type="mousewheel";if(d.wheelDelta){a=d.wheelDelta/120}if(d.detail){a=-d.detail/3}n=a;if(d.axis!==undefined&&d.axis===d.HORIZONTAL_AXIS){n=0;m=-1*a}if(d.wheelDeltaY!==undefined){n=d.wheelDeltaY/120}if(d.wheelDeltaX!==undefined){m=-1*d.wheelDeltaX/120}l.unshift(b,a,m,n);return(g.event.dispatch||g.event.handle).apply(this,l)}})(jQuery);
/*! http://mths.be/placeholder v2.0.3 by @mathias */
(function(r,p,u){var x="placeholder" in p.createElement("input"),t="placeholder" in p.createElement("textarea"),o=u.fn,v=u.valHooks,m,n;if(x&&t){n=o.placeholder=function(){return this};n.input=n.textarea=true}else{n=o.placeholder=function(){return this.filter((x?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":w,"blur.placeholder":s}).data("placeholder-enabled",true).trigger("blur.placeholder").end()};n.input=x;n.textarea=t;m={get:function(b){var a=u(b);return a.data("placeholder-enabled")&&a.hasClass("placeholder")?"":b.value},set:function(c,b){var a=u(c);if(!a.data("placeholder-enabled")){return c.value=b}if(b==""){c.value=b;s.call(c)}else{if(a.hasClass("placeholder")){w.call(c,true,b)||(c.value=b)}else{c.value=b}}return a}};x||(v.input=m);t||(v.textarea=m);u(function(){u(p).delegate("form","submit.placeholder",function(){var a=u(".placeholder",this).each(w);setTimeout(function(){a.each(s)},10)})});u(r).bind("beforeunload.placeholder",function(){u(".placeholder").each(function(){this.value=""})})}function q(c){var a={},b=/^jQuery\d+$/;u.each(c.attributes,function(d,e){if(e.specified&&!b.test(e.name)){a[e.name]=e.value}});return a}function w(d,c){var a=this,b=u(a);if(a.value==b.attr("placeholder")&&b.hasClass("placeholder")){if(b.data("placeholder-password")){b=b.hide().next().show().attr("id",b.removeAttr("id").data("placeholder-id"));if(d===true){return b[0].value=c}b.focus()}else{a.value="";b.removeClass("placeholder")}}}function s(){var b,a=this,c=u(a),f=c,d=this.id;if(a.value==""){if(a.type=="password"){if(!c.data("placeholder-textinput")){try{b=c.clone().attr({type:"text"})}catch(e){b=u("<input>").attr(u.extend(q(this),{type:"text"}))}b.removeAttr("name").data({"placeholder-password":true,"placeholder-id":d}).bind("focus.placeholder",w);c.data({"placeholder-textinput":b,"placeholder-id":d}).before(b)}c=c.removeAttr("id").hide().prev().attr("id",d).show()}c.addClass("placeholder");c[0].value=c.attr("placeholder")}else{c.removeClass("placeholder")}}}(this,document,jQuery));jQuery.extend(jQuery.roundaboutShapes,{theJuggler:function(e,a,f){return{x:Math.sin(e+a),y:Math.tan(Math.exp(Math.log(e))+a)/(f-1),z:(Math.cos(e+a)+1)/2,scale:(Math.sin(e+Math.PI/2+a)/2)+0.5}},figure8:function(e,a,f){return{x:Math.sin(e*2+a),y:(Math.sin(e+Math.PI/2+a)/8)*f,z:(Math.cos(e+a)+1)/2,scale:(Math.sin(e+Math.PI/2+a)/2)+0.5}},waterWheel:function(e,a,f){return{x:(Math.sin(e+Math.PI/2+a)/8)*f,y:Math.sin(e+a)/(Math.PI/2),z:(Math.cos(e+a)+1)/2,scale:(Math.sin(e+Math.PI/2+a)/2)+0.5}},square:function(k,a,l){var h,i,j;if(k<=Math.PI/2){h=(2/Math.PI)*k;i=-(2/Math.PI)*k+1;j=-(1/Math.PI)*k+1}else{if(k>Math.PI/2&&k<=Math.PI){h=-(2/Math.PI)*k+2;i=-(2/Math.PI)*k+1;j=-(1/Math.PI)*k+1}else{if(k>Math.PI&&k<=(3*Math.PI)/2){h=-(2/Math.PI)*k+2;i=(2/Math.PI)*k-3;j=(1/Math.PI)*k-1}else{h=(2/Math.PI)*k-4;i=(2/Math.PI)*k-3;j=(1/Math.PI)*k-1}}}return{x:h,y:i*l,z:j,scale:j}},conveyorBeltLeft:function(e,a,f){return{x:-Math.cos(e+a),y:(Math.cos(e+3*Math.PI/2+a)/8)*f,z:(Math.sin(e+a)+1)/2,scale:(Math.sin(e+Math.PI/2+a)/2)+0.5}},conveyorBeltRight:function(e,a,f){return{x:Math.cos(e+a),y:(Math.cos(e+3*Math.PI/2+a)/8)*f,z:(Math.sin(e+a)+1)/2,scale:(Math.sin(e+Math.PI/2+a)/2)+0.5}},goodbyeCruelWorld:function(e,a,f){return{x:Math.sin(e+a),y:(Math.tan(e+3*Math.PI/2+a)/8)*(f+0.5),z:(Math.sin(e+a)+1)/2,scale:(Math.sin(e+Math.PI/2+a)/2)+0.5}},diagonalRingLeft:function(e,a,f){return{x:Math.sin(e+a),y:-Math.cos(e+Math.tan(Math.cos(a)))/(f+1.5),z:(Math.cos(e+a)+1)/2,scale:(Math.sin(e+Math.PI/2+a)/2)+0.5}},diagonalRingRight:function(e,a,f){return{x:Math.sin(e+a),y:Math.cos(e+Math.tan(Math.cos(a)))/(f+1.5),z:(Math.cos(e+a)+1)/2,scale:(Math.sin(e+Math.PI/2+a)/2)+0.5}},rollerCoaster:function(e,a,f){return{x:Math.sin(e+a),y:Math.sin((2+f)*e),z:(Math.cos(e+a)+1)/2,scale:(Math.sin(e+Math.PI/2+a)/2)+0.5}},tearDrop:function(e,a,f){return{x:Math.sin(e+a),y:-Math.sin(e/2+f)+0.35,z:(Math.cos(e+a)+1)/2,scale:(Math.sin(e+Math.PI/2+a)/2)+0.5}},tickingClock:function(e,a,f){return{x:Math.cos(e+a-Math.PI/2),y:Math.sin(e+a-Math.PI/2),z:Math.cos(e),scale:Math.cos(e)+0.5}},flurry:function(e,a,f){return{x:Math.sin(e*3+a),y:(Math.cos(e+Math.PI/2+a)/2)*f,z:(Math.cos(e+a)+1)/2,scale:(Math.sin(e+Math.PI/2+a)/2)+0.5}},nowSlide:function(e,a,f){return{x:Math.tan(e*2+a)*0.5,y:Math.cos(e*2+f)/6,z:(Math.cos(e+a)+1)/2,scale:(Math.sin(e+Math.PI/2+a)/2)+0.5}},risingEssence:function(e,a,f){return{x:Math.sin(e+a),y:Math.tan((2+f)*e),z:(Math.cos(e+a)+1)/2,scale:(Math.sin(e+Math.PI/2+a)/2)+0.5}}});(function(e){var h,g,f;e.extend({roundaboutShapes:{def:"lazySusan",lazySusan:function(a,c,b){return{x:Math.sin(a+c),y:(Math.sin(a+3*Math.PI/2+c)/8)*b,z:(Math.cos(a+c)+1)/2,scale:(Math.sin(a+Math.PI/2+c)/2)+0.5}}}});h={bearing:0,tilt:0,minZ:100,maxZ:280,minOpacity:0.4,maxOpacity:1,minScale:0.4,maxScale:1,duration:600,btnNext:null,btnNextCallback:function(){},btnPrev:null,btnPrevCallback:function(){},btnToggleAutoplay:null,btnStartAutoplay:null,btnStopAutoplay:null,easing:"swing",clickToFocus:true,clickToFocusCallback:function(){},focusBearing:0,shape:"lazySusan",debug:false,childSelector:"li",startingChild:null,reflect:false,floatComparisonThreshold:0.001,autoplay:false,autoplayDuration:1000,autoplayPauseOnHover:false,autoplayCallback:function(){},autoplayInitialDelay:0,enableDrag:false,dropDuration:600,dropEasing:"swing",dropAnimateTo:"nearest",dropCallback:function(){},dragAxis:"x",dragFactor:4,triggerFocusEvents:true,triggerBlurEvents:true,responsive:false};g={autoplayInterval:null,autoplayIsRunning:false,autoplayStartTimeout:null,animating:false,childInFocus:-1,touchMoveStartPosition:null,stopAnimation:false,lastAnimationStep:false};f={init:function(d,a,b){var c,j=(new Date()).getTime();d=(typeof d==="object")?d:{};a=(e.isFunction(a))?a:function(){};a=(e.isFunction(d))?d:a;c=e.extend({},h,d,g);return this.each(function(){var q=e(this),r=q.children(c.childSelector).length,t=360/r,i=(c.startingChild&&c.startingChild>(r-1))?(r-1):c.startingChild,p=(c.startingChild===null)?c.bearing:360-(i*t),s=(q.css("position")!=="static")?q.css("position"):"relative";q.css({padding:0,position:s}).addClass("roundabout-holder").data("roundabout",e.extend({},c,{startingChild:i,bearing:p,oppositeOfFocusBearing:f.normalize.apply(null,[c.focusBearing-180]),dragBearing:p,period:t}));if(b){q.unbind(".roundabout").children(c.childSelector).unbind(".roundabout")}else{if(c.responsive){e(window).bind("resize",function(){f.stopAutoplay.apply(q);f.relayoutChildren.apply(q)})}}if(c.clickToFocus){q.children(c.childSelector).each(function(k){e(this).bind("click.roundabout",function(){var l=f.getPlacement.apply(q,[k]);if(!f.isInFocus.apply(q,[l])){f.stopAnimation.apply(e(this));if(!q.data("roundabout").animating){f.animateBearingToFocus.apply(q,[l,q.data("roundabout").clickToFocusCallback])}return false}})})}if(c.btnNext){e(c.btnNext).bind("click.roundabout",function(){if(!q.data("roundabout").animating){f.animateToNextChild.apply(q,[q.data("roundabout").btnNextCallback])}return false})}if(c.btnPrev){e(c.btnPrev).bind("click.roundabout",function(){f.animateToPreviousChild.apply(q,[q.data("roundabout").btnPrevCallback]);return false})}if(c.btnToggleAutoplay){e(c.btnToggleAutoplay).bind("click.roundabout",function(){f.toggleAutoplay.apply(q);return false})}if(c.btnStartAutoplay){e(c.btnStartAutoplay).bind("click.roundabout",function(){f.startAutoplay.apply(q);return false})}if(c.btnStopAutoplay){e(c.btnStopAutoplay).bind("click.roundabout",function(){f.stopAutoplay.apply(q);return false})}if(c.autoplayPauseOnHover){q.bind("mouseenter.roundabout.autoplay",function(){f.stopAutoplay.apply(q,[true])}).bind("mouseleave.roundabout.autoplay",function(){f.startAutoplay.apply(q)})}if(c.enableDrag){if(!e.isFunction(q.drag)){if(c.debug){alert("You do not have the drag plugin loaded.")}}else{if(!e.isFunction(q.drop)){if(c.debug){alert("You do not have the drop plugin loaded.")}}else{q.drag(function(l,n){var m=q.data("roundabout"),k=(m.dragAxis.toLowerCase()==="x")?"deltaX":"deltaY";f.stopAnimation.apply(q);f.setBearing.apply(q,[m.dragBearing+n[k]/m.dragFactor])}).drop(function(l){var m=q.data("roundabout"),k=f.getAnimateToMethod(m.dropAnimateTo);f.allowAnimation.apply(q);f[k].apply(q,[m.dropDuration,m.dropEasing,m.dropCallback]);m.dragBearing=m.period*f.getNearestChild.apply(q)})}}q.each(function(){var n=e(this).get(0),l=e(this).data("roundabout"),m=(l.dragAxis.toLowerCase()==="x")?"pageX":"pageY",k=f.getAnimateToMethod(l.dropAnimateTo);if(n.addEventListener){n.addEventListener("touchstart",function(o){l.touchMoveStartPosition=o.touches[0][m]},false);n.addEventListener("touchmove",function(v){var o=(v.touches[0][m]-l.touchMoveStartPosition)/l.dragFactor;v.preventDefault();f.stopAnimation.apply(e(this));f.setBearing.apply(e(this),[l.dragBearing+o])},false);n.addEventListener("touchend",function(o){o.preventDefault();f.allowAnimation.apply(e(this));k=f.getAnimateToMethod(l.dropAnimateTo);f[k].apply(e(this),[l.dropDuration,l.dropEasing,l.dropCallback]);l.dragBearing=l.period*f.getNearestChild.apply(e(this))},false)}})}f.initChildren.apply(q,[a,b])})},initChildren:function(a,c){var d=e(this),b=d.data("roundabout");a=a||function(){};d.children(b.childSelector).each(function(i){var p,q,o,r=f.getPlacement.apply(d,[i]);if(c&&e(this).data("roundabout")){p=e(this).data("roundabout").startWidth;q=e(this).data("roundabout").startHeight;o=e(this).data("roundabout").startFontSize}e(this).addClass("roundabout-moveable-item").css("position","absolute");e(this).data("roundabout",{startWidth:p||e(this).width(),startHeight:q||e(this).height(),startFontSize:o||parseInt(e(this).css("font-size"),10),degrees:r,backDegrees:f.normalize.apply(null,[r-180]),childNumber:i,currentScale:1,parent:d})});f.updateChildren.apply(d);if(b.autoplay){b.autoplayStartTimeout=setTimeout(function(){f.startAutoplay.apply(d)},b.autoplayInitialDelay)}d.trigger("ready");a.apply(d);return d},updateChildren:function(){return this.each(function(){var d=e(this),c=d.data("roundabout"),a=-1,b={bearing:c.bearing,tilt:c.tilt,stage:{width:Math.floor(e(this).width()*0.9),height:Math.floor(e(this).height()*0.9)},animating:c.animating,inFocus:c.childInFocus,focusBearingRadian:f.degToRad.apply(null,[c.focusBearing]),shape:e.roundaboutShapes[c.shape]||e.roundaboutShapes[e.roundaboutShapes.def]};b.midStage={width:b.stage.width/2,height:b.stage.height/2};b.nudge={width:b.midStage.width+(b.stage.width*0.05),height:b.midStage.height+(b.stage.height*0.05)};b.zValues={min:c.minZ,max:c.maxZ,diff:c.maxZ-c.minZ};b.opacity={min:c.minOpacity,max:c.maxOpacity,diff:c.maxOpacity-c.minOpacity};b.scale={min:c.minScale,max:c.maxScale,diff:c.maxScale-c.minScale};d.children(c.childSelector).each(function(i){if(f.updateChild.apply(d,[e(this),b,i,function(){e(this).trigger("ready")}])&&(!b.animating||c.lastAnimationStep)){a=i;e(this).addClass("roundabout-in-focus")}else{e(this).removeClass("roundabout-in-focus")}});if(a!==b.inFocus){if(c.triggerBlurEvents){d.children(c.childSelector).eq(b.inFocus).trigger("blur")}c.childInFocus=a;if(c.triggerFocusEvents&&a!==-1){d.children(c.childSelector).eq(a).trigger("focus")}}d.trigger("childrenUpdated")})},updateChild:function(q,r,t,b){var c,a=this,s=e(q),o=s.data("roundabout"),p=[],d=f.degToRad.apply(null,[(360-o.degrees)+r.bearing]);b=b||function(){};d=f.normalizeRad.apply(null,[d]);c=r.shape(d,r.focusBearingRadian,r.tilt);c.scale=(c.scale>1)?1:c.scale;c.adjustedScale=(r.scale.min+(r.scale.diff*c.scale)).toFixed(4);c.width=(c.adjustedScale*o.startWidth).toFixed(4);c.height=(c.adjustedScale*o.startHeight).toFixed(4);s.css({left:((c.x*r.midStage.width+r.nudge.width)-c.width/2).toFixed(0)+"px",top:((c.y*r.midStage.height+r.nudge.height)-c.height/2).toFixed(0)+"px",width:c.width+"px",height:c.height+"px",opacity:(r.opacity.min+(r.opacity.diff*c.scale)).toFixed(2),zIndex:Math.round(r.zValues.min+(r.zValues.diff*c.z)),fontSize:(c.adjustedScale*o.startFontSize).toFixed(1)+"px"});o.currentScale=c.adjustedScale;if(a.data("roundabout").debug){p.push('<div style="font-weight: normal; font-size: 10px; padding: 2px; width: '+s.css("width")+'; background-color: #ffc;">');p.push('<strong style="font-size: 12px; white-space: nowrap;">Child '+t+"</strong><br />");p.push("<strong>left:</strong> "+s.css("left")+"<br />");p.push("<strong>top:</strong> "+s.css("top")+"<br />");p.push("<strong>width:</strong> "+s.css("width")+"<br />");p.push("<strong>opacity:</strong> "+s.css("opacity")+"<br />");p.push("<strong>height:</strong> "+s.css("height")+"<br />");p.push("<strong>z-index:</strong> "+s.css("z-index")+"<br />");p.push("<strong>font-size:</strong> "+s.css("font-size")+"<br />");p.push("<strong>scale:</strong> "+s.data("roundabout").currentScale);p.push("</div>");s.html(p.join(""))}s.trigger("reposition");b.apply(a);return f.isInFocus.apply(a,[o.degrees])},setBearing:function(b,a){a=a||function(){};b=f.normalize.apply(null,[b]);this.each(function(){var c,p,m,n=e(this),d=n.data("roundabout"),o=d.bearing;d.bearing=b;n.trigger("bearingSet");f.updateChildren.apply(n);c=Math.abs(o-b);if(!d.animating||c>180){return}c=Math.abs(o-b);n.children(d.childSelector).each(function(j){var i;if(f.isChildBackDegreesBetween.apply(e(this),[b,o])){i=(o>b)?"Clockwise":"Counterclockwise";e(this).trigger("move"+i+"ThroughBack")}})});a.apply(this);return this},adjustBearing:function(a,b){b=b||function(){};if(a===0){return this}this.each(function(){f.setBearing.apply(e(this),[e(this).data("roundabout").bearing+a])});b.apply(this);return this},setTilt:function(b,a){a=a||function(){};this.each(function(){e(this).data("roundabout").tilt=b;f.updateChildren.apply(e(this))});a.apply(this);return this},adjustTilt:function(a,b){b=b||function(){};this.each(function(){f.setTilt.apply(e(this),[e(this).data("roundabout").tilt+a])});b.apply(this);return this},animateToBearing:function(k,d,a,c,b){var l=(new Date()).getTime();b=b||function(){};if(e.isFunction(c)){b=c;c=null}else{if(e.isFunction(a)){b=a;a=null}else{if(e.isFunction(d)){b=d;d=null}}}this.each(function(){var s,t,r,j=e(this),u=j.data("roundabout"),i=(!d)?u.duration:d,v=(a)?a:u.easing||"swing";if(!c){c={timerStart:l,start:u.bearing,totalTime:i}}s=l-c.timerStart;if(u.stopAnimation){f.allowAnimation.apply(j);u.animating=false;return}if(s<i){if(!u.animating){j.trigger("animationStart")}u.animating=true;if(typeof e.easing.def==="string"){t=e.easing[v]||e.easing[e.easing.def];r=t(null,s,c.start,k-c.start,c.totalTime)}else{r=e.easing[v]((s/c.totalTime),s,c.start,k-c.start,c.totalTime)}if(f.compareVersions.apply(null,[e().jquery,"1.7.2"])>=0&&!(e.easing.easeOutBack)){r=c.start+((k-c.start)*r)}r=f.normalize.apply(null,[r]);u.dragBearing=r;f.setBearing.apply(j,[r,function(){setTimeout(function(){f.animateToBearing.apply(j,[k,i,v,c,b])},0)}])}else{u.lastAnimationStep=true;k=f.normalize.apply(null,[k]);f.setBearing.apply(j,[k,function(){j.trigger("animationEnd")}]);u.animating=false;u.lastAnimationStep=false;u.dragBearing=k;b.apply(j)}});return this},animateToNearbyChild:function(j,c){var d=j[0],a=j[1],b=j[2]||function(){};if(e.isFunction(a)){b=a;a=null}else{if(e.isFunction(d)){b=d;d=null}}return this.each(function(){var u,q,r=e(this),s=r.data("roundabout"),i=(!s.reflect)?s.bearing%360:s.bearing,t=r.children(s.childSelector).length;if(!s.animating){if((s.reflect&&c==="previous")||(!s.reflect&&c==="next")){i=(Math.abs(i)<s.floatComparisonThreshold)?360:i;for(u=0;u<t;u+=1){q={lower:(s.period*u),upper:(s.period*(u+1))};q.upper=(u===t-1)?360:q.upper;if(i<=Math.ceil(q.upper)&&i>=Math.floor(q.lower)){if(t===2&&i===360){f.animateToDelta.apply(r,[-180,d,a,b])}else{f.animateBearingToFocus.apply(r,[q.lower,d,a,b])}break}}}else{i=(Math.abs(i)<s.floatComparisonThreshold||360-Math.abs(i)<s.floatComparisonThreshold)?0:i;for(u=t-1;u>=0;u-=1){q={lower:s.period*u,upper:s.period*(u+1)};q.upper=(u===t-1)?360:q.upper;if(i>=Math.floor(q.lower)&&i<Math.ceil(q.upper)){if(t===2&&i===360){f.animateToDelta.apply(r,[180,d,a,b])}else{f.animateBearingToFocus.apply(r,[q.upper,d,a,b])}break}}}}})},animateToNearestChild:function(c,a,b){b=b||function(){};if(e.isFunction(a)){b=a;a=null}else{if(e.isFunction(c)){b=c;c=null}}return this.each(function(){var d=f.getNearestChild.apply(e(this));f.animateToChild.apply(e(this),[d,c,a,b])})},animateToChild:function(d,c,a,b){b=b||function(){};if(e.isFunction(a)){b=a;a=null}else{if(e.isFunction(c)){b=c;c=null}}return this.each(function(){var l,n=e(this),m=n.data("roundabout");if(m.childInFocus!==d&&!m.animating){l=n.children(m.childSelector).eq(d);f.animateBearingToFocus.apply(n,[l.data("roundabout").degrees,c,a,b])}})},animateToNextChild:function(c,a,b){return f.animateToNearbyChild.apply(this,[arguments,"next"])},animateToPreviousChild:function(c,a,b){return f.animateToNearbyChild.apply(this,[arguments,"previous"])},animateToDelta:function(c,d,a,b){b=b||function(){};if(e.isFunction(a)){b=a;a=null}else{if(e.isFunction(d)){b=d;d=null}}return this.each(function(){var j=e(this).data("roundabout").bearing+c;f.animateToBearing.apply(e(this),[j,d,a,b])})},animateBearingToFocus:function(c,d,a,b){b=b||function(){};if(e.isFunction(a)){b=a;a=null}else{if(e.isFunction(d)){b=d;d=null}}return this.each(function(){var j=e(this).data("roundabout").bearing-c;j=(Math.abs(360-j)<Math.abs(j))?360-j:-j;j=(j>180)?-(360-j):j;if(j!==0){f.animateToDelta.apply(e(this),[j,d,a,b])}})},stopAnimation:function(){return this.each(function(){e(this).data("roundabout").stopAnimation=true})},allowAnimation:function(){return this.each(function(){e(this).data("roundabout").stopAnimation=false})},startAutoplay:function(a){return this.each(function(){var c=e(this),b=c.data("roundabout");a=a||b.autoplayCallback||function(){};clearInterval(b.autoplayInterval);b.autoplayInterval=setInterval(function(){f.animateToNextChild.apply(c,[a])},b.autoplayDuration);b.autoplayIsRunning=true;c.trigger("autoplayStart")})},stopAutoplay:function(a){return this.each(function(){clearInterval(e(this).data("roundabout").autoplayInterval);e(this).data("roundabout").autoplayInterval=null;e(this).data("roundabout").autoplayIsRunning=false;if(!a){e(this).unbind(".autoplay")}e(this).trigger("autoplayStop")})},toggleAutoplay:function(a){return this.each(function(){var c=e(this),b=c.data("roundabout");a=a||b.autoplayCallback||function(){};if(!f.isAutoplaying.apply(e(this))){f.startAutoplay.apply(e(this),[a])}else{f.stopAutoplay.apply(e(this),[a])}})},isAutoplaying:function(){return(this.data("roundabout").autoplayIsRunning)},changeAutoplayDuration:function(a){return this.each(function(){var c=e(this),b=c.data("roundabout");b.autoplayDuration=a;if(f.isAutoplaying.apply(c)){f.stopAutoplay.apply(c);setTimeout(function(){f.startAutoplay.apply(c)},10)}})},normalize:function(a){var b=a%360;return(b<0)?360+b:b},normalizeRad:function(a){while(a<0){a+=(Math.PI*2)}while(a>(Math.PI*2)){a-=(Math.PI*2)}return a},isChildBackDegreesBetween:function(b,c){var a=e(this).data("roundabout").backDegrees;if(b>c){return(a>=c&&a<b)}else{return(a<c&&a>=b)}},getAnimateToMethod:function(a){a=a.toLowerCase();if(a==="next"){return"animateToNextChild"}else{if(a==="previous"){return"animateToPreviousChild"}}return"animateToNearestChild"},relayoutChildren:function(){return this.each(function(){var b=e(this),a=e.extend({},b.data("roundabout"));a.startingChild=b.data("roundabout").childInFocus;f.init.apply(b,[a,null,true])})},getNearestChild:function(){var c=e(this),a=c.data("roundabout"),b=c.children(a.childSelector).length;if(!a.reflect){return((b)-(Math.round(a.bearing/a.period)%b))%b}else{return(Math.round(a.bearing/a.period)%b)}},degToRad:function(a){return f.normalize.apply(null,[a])*Math.PI/180},getPlacement:function(a){var b=this.data("roundabout");return(!b.reflect)?360-(b.period*a):b.period*a},isInFocus:function(a){var b,j=this,c=j.data("roundabout"),d=f.normalize.apply(null,[c.bearing]);a=f.normalize.apply(null,[a]);b=Math.abs(d-a);return(b<=c.floatComparisonThreshold||b>=360-c.floatComparisonThreshold)},getChildInFocus:function(){var a=e(this).data("roundabout");return(a.childInFocus>-1)?a.childInFocus:false},compareVersions:function(l,a){var d,b=l.split(/\./i),c=a.split(/\./i),i=(b.length>c.length)?b.length:c.length;for(d=0;d<=i;d++){if(b[d]&&!c[d]&&parseInt(b[d],10)!==0){return 1}else{if(c[d]&&!b[d]&&parseInt(c[d],10)!==0){return -1}else{if(b[d]===c[d]){continue}}}if(b[d]&&c[d]){if(parseInt(b[d],10)>parseInt(c[d],10)){return 1}else{return -1}}}return 0}};e.fn.roundabout=function(a){if(f[a]){return f[a].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof a==="object"||e.isFunction(a)||!a){return f.init.apply(this,arguments)}else{e.error("Method "+a+" does not exist for jQuery.roundabout.")}}}})(jQuery);